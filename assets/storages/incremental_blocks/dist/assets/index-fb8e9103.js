function sE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Ww={exports:{}},qd={},Yw={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),lE=Symbol.for("react.portal"),uE=Symbol.for("react.fragment"),cE=Symbol.for("react.strict_mode"),dE=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),pE=Symbol.for("react.context"),hE=Symbol.for("react.forward_ref"),mE=Symbol.for("react.suspense"),gE=Symbol.for("react.memo"),vE=Symbol.for("react.lazy"),Wv=Symbol.iterator;function yE(e){return e===null||typeof e!="object"?null:(e=Wv&&e[Wv]||e["@@iterator"],typeof e=="function"?e:null)}var qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,Qw={};function ws(e,t,r){this.props=e,this.context=t,this.refs=Qw,this.updater=r||qw}ws.prototype.isReactComponent={};ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kw(){}Kw.prototype=ws.prototype;function ym(e,t,r){this.props=e,this.context=t,this.refs=Qw,this.updater=r||qw}var wm=ym.prototype=new Kw;wm.constructor=ym;Vw(wm,ws.prototype);wm.isPureReactComponent=!0;var Yv=Array.isArray,Gw=Object.prototype.hasOwnProperty,bm={current:null},jw={key:!0,ref:!0,__self:!0,__source:!0};function Xw(e,t,r){var n,o={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Gw.call(t,n)&&!jw.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){for(var d=Array(c),u=0;u<c;u++)d[u]=arguments[u+2];o.children=d}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)o[n]===void 0&&(o[n]=c[n]);return{$$typeof:ru,type:e,key:i,ref:s,props:o,_owner:bm.current}}function wE(e,t){return{$$typeof:ru,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _m(e){return typeof e=="object"&&e!==null&&e.$$typeof===ru}function bE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qv=/\/+/g;function np(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bE(""+e.key):t.toString(36)}function Cc(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ru:case lE:s=!0}}if(s)return s=e,o=o(s),e=n===""?"."+np(s,0):n,Yv(o)?(r="",e!=null&&(r=e.replace(qv,"$&/")+"/"),Cc(o,t,r,"",function(u){return u})):o!=null&&(_m(o)&&(o=wE(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(qv,"$&/")+"/")+e)),t.push(o)),1;if(s=0,n=n===""?".":n+":",Yv(e))for(var c=0;c<e.length;c++){i=e[c];var d=n+np(i,c);s+=Cc(i,t,r,d,o)}else if(d=yE(e),typeof d=="function")for(e=d.call(e),c=0;!(i=e.next()).done;)i=i.value,d=n+np(i,c++),s+=Cc(i,t,r,d,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Qu(e,t,r){if(e==null)return e;var n=[],o=0;return Cc(e,n,"","",function(i){return t.call(r,i,o++)}),n}function _E(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},Ec={transition:null},kE={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Ec,ReactCurrentOwner:bm};function Zw(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Qu,forEach:function(e,t,r){Qu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qu(e,function(){t++}),t},toArray:function(e){return Qu(e,function(t){return t})||[]},only:function(e){if(!_m(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=ws;Le.Fragment=uE;Le.Profiler=dE;Le.PureComponent=ym;Le.StrictMode=cE;Le.Suspense=mE;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kE;Le.act=Zw;Le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Vw({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=bm.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)Gw.call(t,d)&&!jw.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){c=Array(d);for(var u=0;u<d;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:ru,type:e.type,key:o,ref:i,props:n,_owner:s}};Le.createContext=function(e){return e={$$typeof:pE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fE,_context:e},e.Consumer=e};Le.createElement=Xw;Le.createFactory=function(e){var t=Xw.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:hE,render:e}};Le.isValidElement=_m;Le.lazy=function(e){return{$$typeof:vE,_payload:{_status:-1,_result:e},_init:_E}};Le.memo=function(e,t){return{$$typeof:gE,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Ec.transition;Ec.transition={};try{e()}finally{Ec.transition=t}};Le.unstable_act=Zw;Le.useCallback=function(e,t){return xn.current.useCallback(e,t)};Le.useContext=function(e){return xn.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};Le.useEffect=function(e,t){return xn.current.useEffect(e,t)};Le.useId=function(){return xn.current.useId()};Le.useImperativeHandle=function(e,t,r){return xn.current.useImperativeHandle(e,t,r)};Le.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return xn.current.useMemo(e,t)};Le.useReducer=function(e,t,r){return xn.current.useReducer(e,t,r)};Le.useRef=function(e){return xn.current.useRef(e)};Le.useState=function(e){return xn.current.useState(e)};Le.useSyncExternalStore=function(e,t,r){return xn.current.useSyncExternalStore(e,t,r)};Le.useTransition=function(){return xn.current.useTransition()};Le.version="18.3.1";Yw.exports=Le;var G=Yw.exports;const O=Yd(G),Gp=sE({__proto__:null,default:O},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE=G,CE=Symbol.for("react.element"),EE=Symbol.for("react.fragment"),DE=Object.prototype.hasOwnProperty,SE=xE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TE={key:!0,ref:!0,__self:!0,__source:!0};function Jw(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)DE.call(t,n)&&!TE.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:CE,type:e,key:i,ref:s,props:o,_owner:SE.current}}qd.Fragment=EE;qd.jsx=Jw;qd.jsxs=Jw;Ww.exports=qd;var km=Ww.exports;const sr=km.Fragment,N=km.jsx,Z=km.jsxs;var Vc={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Vc.exports;(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={227:(s,c,d)=>{var u=d(155);c.formatArgs=function(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+s.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;l.splice(1,0,f,"color: inherit");let p=0,h=0;l[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(p++,m==="%c"&&(h=p))}),l.splice(h,0,f)},c.save=function(l){try{l?c.storage.setItem("debug",l):c.storage.removeItem("debug")}catch{}},c.load=function(){let l;try{l=c.storage.getItem("debug")}catch{}return!l&&u!==void 0&&"env"in u&&(l=u.env.DEBUG),l},c.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},c.storage=function(){try{return localStorage}catch{}}(),c.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],c.log=console.debug||console.log||(()=>{}),s.exports=d(447)(c);const{formatters:a}=s.exports;a.j=function(l){try{return JSON.stringify(l)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}},447:(s,c,d)=>{s.exports=function(u){function a(p){let h,m,w,y=null;function v(...g){if(!v.enabled)return;const b=v,k=Number(new Date),E=k-(h||k);b.diff=E,b.prev=h,b.curr=k,h=k,g[0]=a.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let C=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(S,T)=>{if(S==="%%")return"%";C++;const P=a.formatters[T];if(typeof P=="function"){const L=g[C];S=P.call(b,L),g.splice(C,1),C--}return S}),a.formatArgs.call(b,g),(b.log||a.log).apply(b,g)}return v.namespace=p,v.useColors=a.useColors(),v.color=a.selectColor(p),v.extend=l,v.destroy=a.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(m!==a.namespaces&&(m=a.namespaces,w=a.enabled(p)),w),set:g=>{y=g}}),typeof a.init=="function"&&a.init(v),v}function l(p,h){const m=a(this.namespace+(h===void 0?":":h)+p);return m.log=this.log,m}function f(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}return a.debug=a,a.default=a,a.coerce=function(p){return p instanceof Error?p.stack||p.message:p},a.disable=function(){const p=[...a.names.map(f),...a.skips.map(f).map(h=>"-"+h)].join(",");return a.enable(""),p},a.enable=function(p){let h;a.save(p),a.namespaces=p,a.names=[],a.skips=[];const m=(typeof p=="string"?p:"").split(/[\s,]+/),w=m.length;for(h=0;h<w;h++)m[h]&&((p=m[h].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+p.slice(1)+"$")):a.names.push(new RegExp("^"+p+"$")))},a.enabled=function(p){if(p[p.length-1]==="*")return!0;let h,m;for(h=0,m=a.skips.length;h<m;h++)if(a.skips[h].test(p))return!1;for(h=0,m=a.names.length;h<m;h++)if(a.names[h].test(p))return!0;return!1},a.humanize=d(824),a.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(u).forEach(p=>{a[p]=u[p]}),a.names=[],a.skips=[],a.formatters={},a.selectColor=function(p){let h=0;for(let m=0;m<p.length;m++)h=(h<<5)-h+p.charCodeAt(m),h|=0;return a.colors[Math.abs(h)%a.colors.length]},a.enable(a.load()),a}},996:s=>{var c=function(w){return function(y){return!!y&&typeof y=="object"}(w)&&!function(y){var v=Object.prototype.toString.call(y);return v==="[object RegExp]"||v==="[object Date]"||function(g){return g.$$typeof===d}(y)}(w)},d=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function u(w,y){return y.clone!==!1&&y.isMergeableObject(w)?h((v=w,Array.isArray(v)?[]:{}),w,y):w;var v}function a(w,y,v){return w.concat(y).map(function(g){return u(g,v)})}function l(w){return Object.keys(w).concat(function(y){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(y).filter(function(v){return Object.propertyIsEnumerable.call(y,v)}):[]}(w))}function f(w,y){try{return y in w}catch{return!1}}function p(w,y,v){var g={};return v.isMergeableObject(w)&&l(w).forEach(function(b){g[b]=u(w[b],v)}),l(y).forEach(function(b){(function(k,E){return f(k,E)&&!(Object.hasOwnProperty.call(k,E)&&Object.propertyIsEnumerable.call(k,E))})(w,b)||(f(w,b)&&v.isMergeableObject(y[b])?g[b]=function(k,E){if(!E.customMerge)return h;var C=E.customMerge(k);return typeof C=="function"?C:h}(b,v)(w[b],y[b],v):g[b]=u(y[b],v))}),g}function h(w,y,v){(v=v||{}).arrayMerge=v.arrayMerge||a,v.isMergeableObject=v.isMergeableObject||c,v.cloneUnlessOtherwiseSpecified=u;var g=Array.isArray(y);return g===Array.isArray(w)?g?v.arrayMerge(w,y,v):p(w,y,v):u(y,v)}h.all=function(w,y){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(v,g){return h(v,g,y)},{})};var m=h;s.exports=m},856:function(s){s.exports=function(){function c(te){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},c(te)}function d(te,ue){return d=Object.setPrototypeOf||function(ye,Te){return ye.__proto__=Te,ye},d(te,ue)}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function a(te,ue,ye){return a=u()?Reflect.construct:function(Te,kt,gr){var Ar=[null];Ar.push.apply(Ar,kt);var So=new(Function.bind.apply(Te,Ar));return gr&&d(So,gr.prototype),So},a.apply(null,arguments)}function l(te){return f(te)||p(te)||h(te)||w()}function f(te){if(Array.isArray(te))return m(te)}function p(te){if(typeof Symbol<"u"&&te[Symbol.iterator]!=null||te["@@iterator"]!=null)return Array.from(te)}function h(te,ue){if(te){if(typeof te=="string")return m(te,ue);var ye=Object.prototype.toString.call(te).slice(8,-1);return ye==="Object"&&te.constructor&&(ye=te.constructor.name),ye==="Map"||ye==="Set"?Array.from(te):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?m(te,ue):void 0}}function m(te,ue){(ue==null||ue>te.length)&&(ue=te.length);for(var ye=0,Te=new Array(ue);ye<ue;ye++)Te[ye]=te[ye];return Te}function w(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y=Object.hasOwnProperty,v=Object.setPrototypeOf,g=Object.isFrozen,b=Object.getPrototypeOf,k=Object.getOwnPropertyDescriptor,E=Object.freeze,C=Object.seal,S=Object.create,T=typeof Reflect<"u"&&Reflect,P=T.apply,L=T.construct;P||(P=function(te,ue,ye){return te.apply(ue,ye)}),E||(E=function(te){return te}),C||(C=function(te){return te}),L||(L=function(te,ue){return a(te,l(ue))});var M=re(Array.prototype.forEach),F=re(Array.prototype.pop),$=re(Array.prototype.push),z=re(String.prototype.toLowerCase),q=re(String.prototype.match),U=re(String.prototype.replace),Y=re(String.prototype.indexOf),R=re(String.prototype.trim),B=re(RegExp.prototype.test),V=ge(TypeError);function re(te){return function(ue){for(var ye=arguments.length,Te=new Array(ye>1?ye-1:0),kt=1;kt<ye;kt++)Te[kt-1]=arguments[kt];return P(te,ue,Te)}}function ge(te){return function(){for(var ue=arguments.length,ye=new Array(ue),Te=0;Te<ue;Te++)ye[Te]=arguments[Te];return L(te,ye)}}function X(te,ue){v&&v(te,null);for(var ye=ue.length;ye--;){var Te=ue[ye];if(typeof Te=="string"){var kt=z(Te);kt!==Te&&(g(ue)||(ue[ye]=kt),Te=kt)}te[Te]=!0}return te}function ie(te){var ue,ye=S(null);for(ue in te)P(y,te,[ue])&&(ye[ue]=te[ue]);return ye}function me(te,ue){for(;te!==null;){var ye=k(te,ue);if(ye){if(ye.get)return re(ye.get);if(typeof ye.value=="function")return re(ye.value)}te=b(te)}function Te(kt){return console.warn("fallback value for",kt),null}return Te}var K=E(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ve=E(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ee=E(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),He=E(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ie=E(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ke=E(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),at=E(["#text"]),ct=E(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),mt=E(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Et=E(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ve=E(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),At=C(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Zn=C(/<%[\w\W]*|[\w\W]*%>/gm),_i=C(/^data-[\-\w.\u00B7-\uFFFF]/),Dn=C(/^aria-[\-\w]+$/),dn=C(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hr=C(/^(?:\w+script|data):/i),mr=C(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ma=C(/^html$/i),Lr=function(){return typeof window>"u"?null:window},ga=function(te,ue){if(c(te)!=="object"||typeof te.createPolicy!="function")return null;var ye=null,Te="data-tt-policy-suffix";ue.currentScript&&ue.currentScript.hasAttribute(Te)&&(ye=ue.currentScript.getAttribute(Te));var kt="dompurify"+(ye?"#"+ye:"");try{return te.createPolicy(kt,{createHTML:function(gr){return gr}})}catch{return console.warn("TrustedTypes policy "+kt+" could not be created."),null}};function ki(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lr(),ue=function(A){return ki(A)};if(ue.version="2.3.8",ue.removed=[],!te||!te.document||te.document.nodeType!==9)return ue.isSupported=!1,ue;var ye=te.document,Te=te.document,kt=te.DocumentFragment,gr=te.HTMLTemplateElement,Ar=te.Node,So=te.Element,Ss=te.NodeFilter,Eu=te.NamedNodeMap,oo=Eu===void 0?te.NamedNodeMap||te.MozNamedAttrMap:Eu,Lf=te.HTMLFormElement,Af=te.DOMParser,Ff=te.trustedTypes,va=So.prototype,$f=me(va,"cloneNode"),zf=me(va,"nextSibling"),Bf=me(va,"childNodes"),Ts=me(va,"parentNode");if(typeof gr=="function"){var vr=Te.createElement("template");vr.content&&vr.content.ownerDocument&&(Te=vr.content.ownerDocument)}var yr=ga(Ff,ye),Du=yr?yr.createHTML(""):"",ya=Te,Ps=ya.implementation,To=ya.createNodeIterator,Su=ya.createDocumentFragment,Tu=ya.getElementsByTagName,Hf=ye.importNode,Pu={};try{Pu=ie(Te).documentMode?Te.documentMode:{}}catch{}var An={};ue.isSupported=typeof Ts=="function"&&Ps&&Ps.createHTMLDocument!==void 0&&Pu!==9;var xi,Fr,wa=At,ba=Zn,Os=_i,Uf=Dn,Ou=hr,_a=mr,Qe=dn,It=null,Iu=X({},[].concat(l(K),l(ve),l(Ee),l(Ie),l(at))),Rt=null,Po=X({},[].concat(l(ct),l(mt),l(Et),l(Ve))),dt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oo=null,ka=null,Is=!0,Rs=!0,Ru=!1,Io=!1,io=!1,Ns=!1,Ms=!1,Ro=!1,xa=!1,No=!1,Nu=!0,Ls=!0,Mo=!1,wr={},Lo=null,Mu=X({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Lu=null,Au=X({},["audio","video","img","source","image","track"]),As=null,ao=X({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ao="http://www.w3.org/1998/Math/MathML",Fs="http://www.w3.org/2000/svg",$r="http://www.w3.org/1999/xhtml",Ca=$r,Fu=!1,Ci=["application/xhtml+xml","text/html"],Ei="text/html",Fo=null,Wf=Te.createElement("form"),$u=function(A){return A instanceof RegExp||A instanceof Function},$s=function(A){Fo&&Fo===A||(A&&c(A)==="object"||(A={}),A=ie(A),It="ALLOWED_TAGS"in A?X({},A.ALLOWED_TAGS):Iu,Rt="ALLOWED_ATTR"in A?X({},A.ALLOWED_ATTR):Po,As="ADD_URI_SAFE_ATTR"in A?X(ie(ao),A.ADD_URI_SAFE_ATTR):ao,Lu="ADD_DATA_URI_TAGS"in A?X(ie(Au),A.ADD_DATA_URI_TAGS):Au,Lo="FORBID_CONTENTS"in A?X({},A.FORBID_CONTENTS):Mu,Oo="FORBID_TAGS"in A?X({},A.FORBID_TAGS):{},ka="FORBID_ATTR"in A?X({},A.FORBID_ATTR):{},wr="USE_PROFILES"in A&&A.USE_PROFILES,Is=A.ALLOW_ARIA_ATTR!==!1,Rs=A.ALLOW_DATA_ATTR!==!1,Ru=A.ALLOW_UNKNOWN_PROTOCOLS||!1,Io=A.SAFE_FOR_TEMPLATES||!1,io=A.WHOLE_DOCUMENT||!1,Ro=A.RETURN_DOM||!1,xa=A.RETURN_DOM_FRAGMENT||!1,No=A.RETURN_TRUSTED_TYPE||!1,Ms=A.FORCE_BODY||!1,Nu=A.SANITIZE_DOM!==!1,Ls=A.KEEP_CONTENT!==!1,Mo=A.IN_PLACE||!1,Qe=A.ALLOWED_URI_REGEXP||Qe,Ca=A.NAMESPACE||$r,A.CUSTOM_ELEMENT_HANDLING&&$u(A.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(dt.tagNameCheck=A.CUSTOM_ELEMENT_HANDLING.tagNameCheck),A.CUSTOM_ELEMENT_HANDLING&&$u(A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(dt.attributeNameCheck=A.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),A.CUSTOM_ELEMENT_HANDLING&&typeof A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(dt.allowCustomizedBuiltInElements=A.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xi=xi=Ci.indexOf(A.PARSER_MEDIA_TYPE)===-1?Ei:A.PARSER_MEDIA_TYPE,Fr=xi==="application/xhtml+xml"?function(se){return se}:z,Io&&(Rs=!1),xa&&(Ro=!0),wr&&(It=X({},l(at)),Rt=[],wr.html===!0&&(X(It,K),X(Rt,ct)),wr.svg===!0&&(X(It,ve),X(Rt,mt),X(Rt,Ve)),wr.svgFilters===!0&&(X(It,Ee),X(Rt,mt),X(Rt,Ve)),wr.mathMl===!0&&(X(It,Ie),X(Rt,Et),X(Rt,Ve))),A.ADD_TAGS&&(It===Iu&&(It=ie(It)),X(It,A.ADD_TAGS)),A.ADD_ATTR&&(Rt===Po&&(Rt=ie(Rt)),X(Rt,A.ADD_ATTR)),A.ADD_URI_SAFE_ATTR&&X(As,A.ADD_URI_SAFE_ATTR),A.FORBID_CONTENTS&&(Lo===Mu&&(Lo=ie(Lo)),X(Lo,A.FORBID_CONTENTS)),Ls&&(It["#text"]=!0),io&&X(It,["html","head","body"]),It.table&&(X(It,["tbody"]),delete Oo.tbody),E&&E(A),Fo=A)},zu=X({},["mi","mo","mn","ms","mtext"]),Bu=X({},["foreignobject","desc","title","annotation-xml"]),Yf=X({},["title","style","font","a","script"]),br=X({},ve);X(br,Ee),X(br,He);var Ea=X({},Ie);X(Ea,ke);var qf=function(A){var se=Ts(A);se&&se.tagName||(se={namespaceURI:$r,tagName:"template"});var ne=z(A.tagName),Ke=z(se.tagName);return A.namespaceURI===Fs?se.namespaceURI===$r?ne==="svg":se.namespaceURI===Ao?ne==="svg"&&(Ke==="annotation-xml"||zu[Ke]):!!br[ne]:A.namespaceURI===Ao?se.namespaceURI===$r?ne==="math":se.namespaceURI===Fs?ne==="math"&&Bu[Ke]:!!Ea[ne]:A.namespaceURI===$r&&!(se.namespaceURI===Fs&&!Bu[Ke])&&!(se.namespaceURI===Ao&&!zu[Ke])&&!Ea[ne]&&(Yf[ne]||!br[ne])},_r=function(A){$(ue.removed,{element:A});try{A.parentNode.removeChild(A)}catch{try{A.outerHTML=Du}catch{A.remove()}}},Di=function(A,se){try{$(ue.removed,{attribute:se.getAttributeNode(A),from:se})}catch{$(ue.removed,{attribute:null,from:se})}if(se.removeAttribute(A),A==="is"&&!Rt[A])if(Ro||xa)try{_r(se)}catch{}else try{se.setAttribute(A,"")}catch{}},Hu=function(A){var se,ne;if(Ms)A="<remove></remove>"+A;else{var Ke=q(A,/^[\r\n\t ]+/);ne=Ke&&Ke[0]}xi==="application/xhtml+xml"&&(A='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+A+"</body></html>");var gt=yr?yr.createHTML(A):A;if(Ca===$r)try{se=new Af().parseFromString(gt,xi)}catch{}if(!se||!se.documentElement){se=Ps.createDocument(Ca,"template",null);try{se.documentElement.innerHTML=Fu?"":gt}catch{}}var Ut=se.body||se.documentElement;return A&&ne&&Ut.insertBefore(Te.createTextNode(ne),Ut.childNodes[0]||null),Ca===$r?Tu.call(se,io?"html":"body")[0]:io?se.documentElement:Ut},Uu=function(A){return To.call(A.ownerDocument||A,A,Ss.SHOW_ELEMENT|Ss.SHOW_COMMENT|Ss.SHOW_TEXT,null,!1)},Vf=function(A){return A instanceof Lf&&(typeof A.nodeName!="string"||typeof A.textContent!="string"||typeof A.removeChild!="function"||!(A.attributes instanceof oo)||typeof A.removeAttribute!="function"||typeof A.setAttribute!="function"||typeof A.namespaceURI!="string"||typeof A.insertBefore!="function")},Si=function(A){return c(Ar)==="object"?A instanceof Ar:A&&c(A)==="object"&&typeof A.nodeType=="number"&&typeof A.nodeName=="string"},nn=function(A,se,ne){An[A]&&M(An[A],function(Ke){Ke.call(ue,se,ne,Fo)})},Ti=function(A){var se;if(nn("beforeSanitizeElements",A,null),Vf(A)||B(/[\u0080-\uFFFF]/,A.nodeName))return _r(A),!0;var ne=Fr(A.nodeName);if(nn("uponSanitizeElement",A,{tagName:ne,allowedTags:It}),A.hasChildNodes()&&!Si(A.firstElementChild)&&(!Si(A.content)||!Si(A.content.firstElementChild))&&B(/<[/\w]/g,A.innerHTML)&&B(/<[/\w]/g,A.textContent)||ne==="select"&&B(/<template/i,A.innerHTML))return _r(A),!0;if(!It[ne]||Oo[ne]){if(!Oo[ne]&&so(ne)&&(dt.tagNameCheck instanceof RegExp&&B(dt.tagNameCheck,ne)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(ne)))return!1;if(Ls&&!Lo[ne]){var Ke=Ts(A)||A.parentNode,gt=Bf(A)||A.childNodes;if(gt&&Ke)for(var Ut=gt.length-1;Ut>=0;--Ut)Ke.insertBefore($f(gt[Ut],!0),zf(A))}return _r(A),!0}return A instanceof So&&!qf(A)?(_r(A),!0):ne!=="noscript"&&ne!=="noembed"||!B(/<\/no(script|embed)/i,A.innerHTML)?(Io&&A.nodeType===3&&(se=A.textContent,se=U(se,wa," "),se=U(se,ba," "),A.textContent!==se&&($(ue.removed,{element:A.cloneNode()}),A.textContent=se)),nn("afterSanitizeElements",A,null),!1):(_r(A),!0)},Wu=function(A,se,ne){if(Nu&&(se==="id"||se==="name")&&(ne in Te||ne in Wf))return!1;if(!(Rs&&!ka[se]&&B(Os,se))){if(!(Is&&B(Uf,se))){if(!Rt[se]||ka[se]){if(!(so(A)&&(dt.tagNameCheck instanceof RegExp&&B(dt.tagNameCheck,A)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(A))&&(dt.attributeNameCheck instanceof RegExp&&B(dt.attributeNameCheck,se)||dt.attributeNameCheck instanceof Function&&dt.attributeNameCheck(se))||se==="is"&&dt.allowCustomizedBuiltInElements&&(dt.tagNameCheck instanceof RegExp&&B(dt.tagNameCheck,ne)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(ne))))return!1}else if(!As[se]){if(!B(Qe,U(ne,_a,""))){if((se!=="src"&&se!=="xlink:href"&&se!=="href"||A==="script"||Y(ne,"data:")!==0||!Lu[A])&&!(Ru&&!B(Ou,U(ne,_a,"")))){if(ne)return!1}}}}}return!0},so=function(A){return A.indexOf("-")>0},Pi=function(A){var se,ne,Ke,gt;nn("beforeSanitizeAttributes",A,null);var Ut=A.attributes;if(Ut){var Nt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Rt};for(gt=Ut.length;gt--;){var Oi=se=Ut[gt],zr=Oi.name,Sn=Oi.namespaceURI;if(ne=zr==="value"?se.value:R(se.value),Ke=Fr(zr),Nt.attrName=Ke,Nt.attrValue=ne,Nt.keepAttr=!0,Nt.forceKeepAttr=void 0,nn("uponSanitizeAttribute",A,Nt),ne=Nt.attrValue,!Nt.forceKeepAttr&&(Di(zr,A),Nt.keepAttr))if(B(/\/>/i,ne))Di(zr,A);else{Io&&(ne=U(ne,wa," "),ne=U(ne,ba," "));var zs=Fr(A.nodeName);if(Wu(zs,Ke,ne))try{Sn?A.setAttributeNS(Sn,zr,ne):A.setAttribute(zr,ne),F(ue.removed)}catch{}}}nn("afterSanitizeAttributes",A,null)}},Qf=function A(se){var ne,Ke=Uu(se);for(nn("beforeSanitizeShadowDOM",se,null);ne=Ke.nextNode();)nn("uponSanitizeShadowNode",ne,null),Ti(ne)||(ne.content instanceof kt&&A(ne.content),Pi(ne));nn("afterSanitizeShadowDOM",se,null)};return ue.sanitize=function(A,se){var ne,Ke,gt,Ut,Nt;if((Fu=!A)&&(A="<!-->"),typeof A!="string"&&!Si(A)){if(typeof A.toString!="function")throw V("toString is not a function");if(typeof(A=A.toString())!="string")throw V("dirty is not a string, aborting")}if(!ue.isSupported){if(c(te.toStaticHTML)==="object"||typeof te.toStaticHTML=="function"){if(typeof A=="string")return te.toStaticHTML(A);if(Si(A))return te.toStaticHTML(A.outerHTML)}return A}if(Ns||$s(se),ue.removed=[],typeof A=="string"&&(Mo=!1),Mo){if(A.nodeName){var Oi=Fr(A.nodeName);if(!It[Oi]||Oo[Oi])throw V("root node is forbidden and cannot be sanitized in-place")}}else if(A instanceof Ar)(Ke=(ne=Hu("<!---->")).ownerDocument.importNode(A,!0)).nodeType===1&&Ke.nodeName==="BODY"||Ke.nodeName==="HTML"?ne=Ke:ne.appendChild(Ke);else{if(!Ro&&!Io&&!io&&A.indexOf("<")===-1)return yr&&No?yr.createHTML(A):A;if(!(ne=Hu(A)))return Ro?null:No?Du:""}ne&&Ms&&_r(ne.firstChild);for(var zr=Uu(Mo?A:ne);gt=zr.nextNode();)gt.nodeType===3&&gt===Ut||Ti(gt)||(gt.content instanceof kt&&Qf(gt.content),Pi(gt),Ut=gt);if(Ut=null,Mo)return A;if(Ro){if(xa)for(Nt=Su.call(ne.ownerDocument);ne.firstChild;)Nt.appendChild(ne.firstChild);else Nt=ne;return Rt.shadowroot&&(Nt=Hf.call(ye,Nt,!0)),Nt}var Sn=io?ne.outerHTML:ne.innerHTML;return io&&It["!doctype"]&&ne.ownerDocument&&ne.ownerDocument.doctype&&ne.ownerDocument.doctype.name&&B(ma,ne.ownerDocument.doctype.name)&&(Sn="<!DOCTYPE "+ne.ownerDocument.doctype.name+`>
`+Sn),Io&&(Sn=U(Sn,wa," "),Sn=U(Sn,ba," ")),yr&&No?yr.createHTML(Sn):Sn},ue.setConfig=function(A){$s(A),Ns=!0},ue.clearConfig=function(){Fo=null,Ns=!1},ue.isValidAttribute=function(A,se,ne){Fo||$s({});var Ke=Fr(A),gt=Fr(se);return Wu(Ke,gt,ne)},ue.addHook=function(A,se){typeof se=="function"&&(An[A]=An[A]||[],$(An[A],se))},ue.removeHook=function(A){if(An[A])return F(An[A])},ue.removeHooks=function(A){An[A]&&(An[A]=[])},ue.removeAllHooks=function(){An={}},ue}return ki()}()},729:s=>{var c=Object.prototype.hasOwnProperty,d="~";function u(){}function a(h,m,w){this.fn=h,this.context=m,this.once=w||!1}function l(h,m,w,y,v){if(typeof w!="function")throw new TypeError("The listener must be a function");var g=new a(w,y||h,v),b=d?d+m:m;return h._events[b]?h._events[b].fn?h._events[b]=[h._events[b],g]:h._events[b].push(g):(h._events[b]=g,h._eventsCount++),h}function f(h,m){--h._eventsCount==0?h._events=new u:delete h._events[m]}function p(){this._events=new u,this._eventsCount=0}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(d=!1)),p.prototype.eventNames=function(){var h,m,w=[];if(this._eventsCount===0)return w;for(m in h=this._events)c.call(h,m)&&w.push(d?m.slice(1):m);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(h)):w},p.prototype.listeners=function(h){var m=d?d+h:h,w=this._events[m];if(!w)return[];if(w.fn)return[w.fn];for(var y=0,v=w.length,g=new Array(v);y<v;y++)g[y]=w[y].fn;return g},p.prototype.listenerCount=function(h){var m=d?d+h:h,w=this._events[m];return w?w.fn?1:w.length:0},p.prototype.emit=function(h,m,w,y,v,g){var b=d?d+h:h;if(!this._events[b])return!1;var k,E,C=this._events[b],S=arguments.length;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),S){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,m),!0;case 3:return C.fn.call(C.context,m,w),!0;case 4:return C.fn.call(C.context,m,w,y),!0;case 5:return C.fn.call(C.context,m,w,y,v),!0;case 6:return C.fn.call(C.context,m,w,y,v,g),!0}for(E=1,k=new Array(S-1);E<S;E++)k[E-1]=arguments[E];C.fn.apply(C.context,k)}else{var T,P=C.length;for(E=0;E<P;E++)switch(C[E].once&&this.removeListener(h,C[E].fn,void 0,!0),S){case 1:C[E].fn.call(C[E].context);break;case 2:C[E].fn.call(C[E].context,m);break;case 3:C[E].fn.call(C[E].context,m,w);break;case 4:C[E].fn.call(C[E].context,m,w,y);break;default:if(!k)for(T=1,k=new Array(S-1);T<S;T++)k[T-1]=arguments[T];C[E].fn.apply(C[E].context,k)}}return!0},p.prototype.on=function(h,m,w){return l(this,h,m,w,!1)},p.prototype.once=function(h,m,w){return l(this,h,m,w,!0)},p.prototype.removeListener=function(h,m,w,y){var v=d?d+h:h;if(!this._events[v])return this;if(!m)return f(this,v),this;var g=this._events[v];if(g.fn)g.fn!==m||y&&!g.once||w&&g.context!==w||f(this,v);else{for(var b=0,k=[],E=g.length;b<E;b++)(g[b].fn!==m||y&&!g[b].once||w&&g[b].context!==w)&&k.push(g[b]);k.length?this._events[v]=k.length===1?k[0]:k:f(this,v)}return this},p.prototype.removeAllListeners=function(h){var m;return h?(m=d?d+h:h,this._events[m]&&f(this,m)):(this._events=new u,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=d,p.EventEmitter=p,s.exports=p},717:s=>{typeof Object.create=="function"?s.exports=function(c,d){c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(c,d){c.super_=d;var u=function(){};u.prototype=d.prototype,c.prototype=new u,c.prototype.constructor=c}},824:s=>{var c=1e3,d=60*c,u=60*d,a=24*u,l=7*a,f=365.25*a;function p(h,m,w,y){var v=m>=1.5*w;return Math.round(h/w)+" "+y+(v?"s":"")}s.exports=function(h,m){m=m||{};var w=typeof h;if(w==="string"&&h.length>0)return function(y){if(!((y=String(y)).length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(v){var g=parseFloat(v[1]);switch((v[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return g*f;case"weeks":case"week":case"w":return g*l;case"days":case"day":case"d":return g*a;case"hours":case"hour":case"hrs":case"hr":case"h":return g*u;case"minutes":case"minute":case"mins":case"min":case"m":return g*d;case"seconds":case"second":case"secs":case"sec":case"s":return g*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}(h);if(w==="number"&&isFinite(h))return m.long?function(y){var v=Math.abs(y);return v>=a?p(y,v,a,"day"):v>=u?p(y,v,u,"hour"):v>=d?p(y,v,d,"minute"):v>=c?p(y,v,c,"second"):y+" ms"}(h):function(y){var v=Math.abs(y);return v>=a?Math.round(y/a)+"d":v>=u?Math.round(y/u)+"h":v>=d?Math.round(y/d)+"m":v>=c?Math.round(y/c)+"s":y+"ms"}(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},520:(s,c,d)=>{var u=d(155),a=u.platform==="win32",l=d(539);function f(C,S){for(var T=[],P=0;P<C.length;P++){var L=C[P];L&&L!=="."&&(L===".."?T.length&&T[T.length-1]!==".."?T.pop():S&&T.push(".."):T.push(L))}return T}function p(C){for(var S=C.length-1,T=0;T<=S&&!C[T];T++);for(var P=S;P>=0&&!C[P];P--);return T===0&&P===S?C:T>P?[]:C.slice(T,P+1)}var h=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,m=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,w={};function y(C){var S=h.exec(C),T=(S[1]||"")+(S[2]||""),P=S[3]||"",L=m.exec(P);return[T,L[1],L[2],L[3]]}function v(C){var S=h.exec(C),T=S[1]||"",P=!!T&&T[1]!==":";return{device:T,isUnc:P,isAbsolute:P||!!S[2],tail:S[3]}}function g(C){return"\\\\"+C.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}w.resolve=function(){for(var C="",S="",T=!1,P=arguments.length-1;P>=-1;P--){var L;if(P>=0?L=arguments[P]:C?(L=u.env["="+C])&&L.substr(0,3).toLowerCase()===C.toLowerCase()+"\\"||(L=C+"\\"):L=u.cwd(),!l.isString(L))throw new TypeError("Arguments to path.resolve must be strings");if(L){var M=v(L),F=M.device,$=M.isUnc,z=M.isAbsolute,q=M.tail;if((!F||!C||F.toLowerCase()===C.toLowerCase())&&(C||(C=F),T||(S=q+"\\"+S,T=z),C&&T))break}}return $&&(C=g(C)),C+(T?"\\":"")+(S=f(S.split(/[\\\/]+/),!T).join("\\"))||"."},w.normalize=function(C){var S=v(C),T=S.device,P=S.isUnc,L=S.isAbsolute,M=S.tail,F=/[\\\/]$/.test(M);return(M=f(M.split(/[\\\/]+/),!L).join("\\"))||L||(M="."),M&&F&&(M+="\\"),P&&(T=g(T)),T+(L?"\\":"")+M},w.isAbsolute=function(C){return v(C).isAbsolute},w.join=function(){for(var C=[],S=0;S<arguments.length;S++){var T=arguments[S];if(!l.isString(T))throw new TypeError("Arguments to path.join must be strings");T&&C.push(T)}var P=C.join("\\");return/^[\\\/]{2}[^\\\/]/.test(C[0])||(P=P.replace(/^[\\\/]{2,}/,"\\")),w.normalize(P)},w.relative=function(C,S){C=w.resolve(C),S=w.resolve(S);for(var T=C.toLowerCase(),P=S.toLowerCase(),L=p(S.split("\\")),M=p(T.split("\\")),F=p(P.split("\\")),$=Math.min(M.length,F.length),z=$,q=0;q<$;q++)if(M[q]!==F[q]){z=q;break}if(z==0)return S;var U=[];for(q=z;q<M.length;q++)U.push("..");return(U=U.concat(L.slice(z))).join("\\")},w._makeLong=function(C){if(!l.isString(C))return C;if(!C)return"";var S=w.resolve(C);return/^[a-zA-Z]\:\\/.test(S)?"\\\\?\\"+S:/^\\\\[^?.]/.test(S)?"\\\\?\\UNC\\"+S.substring(2):C},w.dirname=function(C){var S=y(C),T=S[0],P=S[1];return T||P?(P&&(P=P.substr(0,P.length-1)),T+P):"."},w.basename=function(C,S){var T=y(C)[2];return S&&T.substr(-1*S.length)===S&&(T=T.substr(0,T.length-S.length)),T},w.extname=function(C){return y(C)[3]},w.format=function(C){if(!l.isObject(C))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof C);var S=C.root||"";if(!l.isString(S))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof C.root);var T=C.dir,P=C.base||"";return T?T[T.length-1]===w.sep?T+P:T+w.sep+P:P},w.parse=function(C){if(!l.isString(C))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof C);var S=y(C);if(!S||S.length!==4)throw new TypeError("Invalid path '"+C+"'");return{root:S[0],dir:S[0]+S[1].slice(0,-1),base:S[2],ext:S[3],name:S[2].slice(0,S[2].length-S[3].length)}},w.sep="\\",w.delimiter=";";var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,k={};function E(C){return b.exec(C).slice(1)}k.resolve=function(){for(var C="",S=!1,T=arguments.length-1;T>=-1&&!S;T--){var P=T>=0?arguments[T]:u.cwd();if(!l.isString(P))throw new TypeError("Arguments to path.resolve must be strings");P&&(C=P+"/"+C,S=P[0]==="/")}return(S?"/":"")+(C=f(C.split("/"),!S).join("/"))||"."},k.normalize=function(C){var S=k.isAbsolute(C),T=C&&C[C.length-1]==="/";return(C=f(C.split("/"),!S).join("/"))||S||(C="."),C&&T&&(C+="/"),(S?"/":"")+C},k.isAbsolute=function(C){return C.charAt(0)==="/"},k.join=function(){for(var C="",S=0;S<arguments.length;S++){var T=arguments[S];if(!l.isString(T))throw new TypeError("Arguments to path.join must be strings");T&&(C+=C?"/"+T:T)}return k.normalize(C)},k.relative=function(C,S){C=k.resolve(C).substr(1),S=k.resolve(S).substr(1);for(var T=p(C.split("/")),P=p(S.split("/")),L=Math.min(T.length,P.length),M=L,F=0;F<L;F++)if(T[F]!==P[F]){M=F;break}var $=[];for(F=M;F<T.length;F++)$.push("..");return($=$.concat(P.slice(M))).join("/")},k._makeLong=function(C){return C},k.dirname=function(C){var S=E(C),T=S[0],P=S[1];return T||P?(P&&(P=P.substr(0,P.length-1)),T+P):"."},k.basename=function(C,S){var T=E(C)[2];return S&&T.substr(-1*S.length)===S&&(T=T.substr(0,T.length-S.length)),T},k.extname=function(C){return E(C)[3]},k.format=function(C){if(!l.isObject(C))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof C);var S=C.root||"";if(!l.isString(S))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof C.root);return(C.dir?C.dir+k.sep:"")+(C.base||"")},k.parse=function(C){if(!l.isString(C))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof C);var S=E(C);if(!S||S.length!==4)throw new TypeError("Invalid path '"+C+"'");return S[1]=S[1]||"",S[2]=S[2]||"",S[3]=S[3]||"",{root:S[0],dir:S[0]+S[1].slice(0,-1),base:S[2],ext:S[3],name:S[2].slice(0,S[2].length-S[3].length)}},k.sep="/",k.delimiter=":",s.exports=a?w:k,s.exports.posix=k,s.exports.win32=w},155:s=>{var c,d,u=s.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function f(k){if(c===setTimeout)return setTimeout(k,0);if((c===a||!c)&&setTimeout)return c=setTimeout,setTimeout(k,0);try{return c(k,0)}catch{try{return c.call(null,k,0)}catch{return c.call(this,k,0)}}}(function(){try{c=typeof setTimeout=="function"?setTimeout:a}catch{c=a}try{d=typeof clearTimeout=="function"?clearTimeout:l}catch{d=l}})();var p,h=[],m=!1,w=-1;function y(){m&&p&&(m=!1,p.length?h=p.concat(h):w=-1,h.length&&v())}function v(){if(!m){var k=f(y);m=!0;for(var E=h.length;E;){for(p=h,h=[];++w<E;)p&&p[w].run();w=-1,E=h.length}p=null,m=!1,function(C){if(d===clearTimeout)return clearTimeout(C);if((d===l||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(C);try{d(C)}catch{try{return d.call(null,C)}catch{return d.call(this,C)}}}(k)}}function g(k,E){this.fun=k,this.array=E}function b(){}u.nextTick=function(k){var E=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)E[C-1]=arguments[C];h.push(new g(k,E)),h.length!==1||m||f(v)},g.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=b,u.addListener=b,u.once=b,u.off=b,u.removeListener=b,u.removeAllListeners=b,u.emit=b,u.prependListener=b,u.prependOnceListener=b,u.listeners=function(k){return[]},u.binding=function(k){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(k){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},384:s=>{s.exports=function(c){return c&&typeof c=="object"&&typeof c.copy=="function"&&typeof c.fill=="function"&&typeof c.readUInt8=="function"}},539:(s,c,d)=>{var u=d(155),a=/%[sdj%]/g;c.format=function(R){if(!C(R)){for(var B=[],V=0;V<arguments.length;V++)B.push(p(arguments[V]));return B.join(" ")}V=1;for(var re=arguments,ge=re.length,X=String(R).replace(a,function(me){if(me==="%%")return"%";if(V>=ge)return me;switch(me){case"%s":return String(re[V++]);case"%d":return Number(re[V++]);case"%j":try{return JSON.stringify(re[V++])}catch{return"[Circular]"}default:return me}}),ie=re[V];V<ge;ie=re[++V])k(ie)||!P(ie)?X+=" "+ie:X+=" "+p(ie);return X},c.deprecate=function(R,B){if(S(d.g.process))return function(){return c.deprecate(R,B).apply(this,arguments)};if(u.noDeprecation===!0)return R;var V=!1;return function(){if(!V){if(u.throwDeprecation)throw new Error(B);u.traceDeprecation?console.trace(B):console.error(B),V=!0}return R.apply(this,arguments)}};var l,f={};function p(R,B){var V={seen:[],stylize:m};return arguments.length>=3&&(V.depth=arguments[2]),arguments.length>=4&&(V.colors=arguments[3]),b(B)?V.showHidden=B:B&&c._extend(V,B),S(V.showHidden)&&(V.showHidden=!1),S(V.depth)&&(V.depth=2),S(V.colors)&&(V.colors=!1),S(V.customInspect)&&(V.customInspect=!0),V.colors&&(V.stylize=h),w(V,R,V.depth)}function h(R,B){var V=p.styles[B];return V?"\x1B["+p.colors[V][0]+"m"+R+"\x1B["+p.colors[V][1]+"m":R}function m(R,B){return R}function w(R,B,V){if(R.customInspect&&B&&F(B.inspect)&&B.inspect!==c.inspect&&(!B.constructor||B.constructor.prototype!==B)){var re=B.inspect(V,R);return C(re)||(re=w(R,re,V)),re}var ge=function(Ie,ke){if(S(ke))return Ie.stylize("undefined","undefined");if(C(ke)){var at="'"+JSON.stringify(ke).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ie.stylize(at,"string")}if(E(ke))return Ie.stylize(""+ke,"number");if(b(ke))return Ie.stylize(""+ke,"boolean");if(k(ke))return Ie.stylize("null","null")}(R,B);if(ge)return ge;var X=Object.keys(B),ie=function(Ie){var ke={};return Ie.forEach(function(at,ct){ke[at]=!0}),ke}(X);if(R.showHidden&&(X=Object.getOwnPropertyNames(B)),M(B)&&(X.indexOf("message")>=0||X.indexOf("description")>=0))return y(B);if(X.length===0){if(F(B)){var me=B.name?": "+B.name:"";return R.stylize("[Function"+me+"]","special")}if(T(B))return R.stylize(RegExp.prototype.toString.call(B),"regexp");if(L(B))return R.stylize(Date.prototype.toString.call(B),"date");if(M(B))return y(B)}var K,ve="",Ee=!1,He=["{","}"];return g(B)&&(Ee=!0,He=["[","]"]),F(B)&&(ve=" [Function"+(B.name?": "+B.name:"")+"]"),T(B)&&(ve=" "+RegExp.prototype.toString.call(B)),L(B)&&(ve=" "+Date.prototype.toUTCString.call(B)),M(B)&&(ve=" "+y(B)),X.length!==0||Ee&&B.length!=0?V<0?T(B)?R.stylize(RegExp.prototype.toString.call(B),"regexp"):R.stylize("[Object]","special"):(R.seen.push(B),K=Ee?function(Ie,ke,at,ct,mt){for(var Et=[],Ve=0,At=ke.length;Ve<At;++Ve)Y(ke,String(Ve))?Et.push(v(Ie,ke,at,ct,String(Ve),!0)):Et.push("");return mt.forEach(function(Zn){Zn.match(/^\d+$/)||Et.push(v(Ie,ke,at,ct,Zn,!0))}),Et}(R,B,V,ie,X):X.map(function(Ie){return v(R,B,V,ie,Ie,Ee)}),R.seen.pop(),function(Ie,ke,at){return Ie.reduce(function(ct,mt){return mt.indexOf(`
`)>=0,ct+mt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?at[0]+(ke===""?"":ke+`
 `)+" "+Ie.join(`,
  `)+" "+at[1]:at[0]+ke+" "+Ie.join(", ")+" "+at[1]}(K,ve,He)):He[0]+ve+He[1]}function y(R){return"["+Error.prototype.toString.call(R)+"]"}function v(R,B,V,re,ge,X){var ie,me,K;if((K=Object.getOwnPropertyDescriptor(B,ge)||{value:B[ge]}).get?me=K.set?R.stylize("[Getter/Setter]","special"):R.stylize("[Getter]","special"):K.set&&(me=R.stylize("[Setter]","special")),Y(re,ge)||(ie="["+ge+"]"),me||(R.seen.indexOf(K.value)<0?(me=k(V)?w(R,K.value,null):w(R,K.value,V-1)).indexOf(`
`)>-1&&(me=X?me.split(`
`).map(function(ve){return"  "+ve}).join(`
`).substr(2):`
`+me.split(`
`).map(function(ve){return"   "+ve}).join(`
`)):me=R.stylize("[Circular]","special")),S(ie)){if(X&&ge.match(/^\d+$/))return me;(ie=JSON.stringify(""+ge)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.substr(1,ie.length-2),ie=R.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=R.stylize(ie,"string"))}return ie+": "+me}function g(R){return Array.isArray(R)}function b(R){return typeof R=="boolean"}function k(R){return R===null}function E(R){return typeof R=="number"}function C(R){return typeof R=="string"}function S(R){return R===void 0}function T(R){return P(R)&&$(R)==="[object RegExp]"}function P(R){return typeof R=="object"&&R!==null}function L(R){return P(R)&&$(R)==="[object Date]"}function M(R){return P(R)&&($(R)==="[object Error]"||R instanceof Error)}function F(R){return typeof R=="function"}function $(R){return Object.prototype.toString.call(R)}function z(R){return R<10?"0"+R.toString(10):R.toString(10)}c.debuglog=function(R){if(S(l)&&(l=u.env.NODE_DEBUG||""),R=R.toUpperCase(),!f[R])if(new RegExp("\\b"+R+"\\b","i").test(l)){var B=u.pid;f[R]=function(){var V=c.format.apply(c,arguments);console.error("%s %d: %s",R,B,V)}}else f[R]=function(){};return f[R]},c.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=g,c.isBoolean=b,c.isNull=k,c.isNullOrUndefined=function(R){return R==null},c.isNumber=E,c.isString=C,c.isSymbol=function(R){return typeof R=="symbol"},c.isUndefined=S,c.isRegExp=T,c.isObject=P,c.isDate=L,c.isError=M,c.isFunction=F,c.isPrimitive=function(R){return R===null||typeof R=="boolean"||typeof R=="number"||typeof R=="string"||typeof R=="symbol"||R===void 0},c.isBuffer=d(384);var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var R=new Date,B=[z(R.getHours()),z(R.getMinutes()),z(R.getSeconds())].join(":");return[R.getDate(),q[R.getMonth()],B].join(" ")}function Y(R,B){return Object.prototype.hasOwnProperty.call(R,B)}c.log=function(){console.log("%s - %s",U(),c.format.apply(c,arguments))},c.inherits=d(717),c._extend=function(R,B){if(!B||!P(B))return R;for(var V=Object.keys(B),re=V.length;re--;)R[V[re]]=B[V[re]];return R}}},n={};function o(s){var c=n[s];if(c!==void 0)return c.exports;var d=n[s]={exports:{}};return r[s].call(d.exports,d,d.exports,o),d.exports}o.n=s=>{var c=s&&s.__esModule?()=>s.default:()=>s;return o.d(c,{a:c}),c},o.d=(s,c)=>{for(var d in c)o.o(c,d)&&!o.o(s,d)&&Object.defineProperty(s,d,{enumerable:!0,get:c[d]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(s,c)=>Object.prototype.hasOwnProperty.call(s,c),o.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{LSPluginUser:()=>tp,setupPluginUserInstance:()=>Uv});var s=o(520),c=(o(856),o(996)),d=o.n(c),u=function(){return u=Object.assign||function(x){for(var _,D=1,I=arguments.length;D<I;D++)for(var H in _=arguments[D])Object.prototype.hasOwnProperty.call(_,H)&&(x[H]=_[H]);return x},u.apply(this,arguments)};function a(x){return x.toLowerCase()}var l=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],f=/[^A-Z0-9]+/gi;function p(x,_,D){return _ instanceof RegExp?x.replace(_,D):_.reduce(function(I,H){return I.replace(H,D)},x)}function h(x,_){return _===void 0&&(_={}),function(D,I){I===void 0&&(I={});for(var H=I.splitRegexp,W=H===void 0?l:H,Q=I.stripRegexp,j=Q===void 0?f:Q,oe=I.transform,he=oe===void 0?a:oe,we=I.delimiter,fe=we===void 0?" ":we,_e=p(p(D,W,"$1\0$2"),j,"\0"),Fe=0,Se=_e.length;_e.charAt(Fe)==="\0";)Fe++;for(;_e.charAt(Se-1)==="\0";)Se--;return _e.slice(Fe,Se).split("\0").map(he).join(fe)}(x,u({delimiter:"."},_))}var m=o(729),w=o.n(m);function y(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}const v=navigator.platform.toLowerCase()==="win32"?s.win32:s.posix,g=function(x,_){return _===void 0&&(_={}),h(x,u({delimiter:"_"},_))};class b extends w(){constructor(_,D){super(),y(this,"_tag",void 0),y(this,"_opts",void 0),y(this,"_logs",[]),this._tag=_,this._opts=D}write(_,D,I){var H;D!=null&&D.length&&D[D.length-1]===!0&&(I=!0,D.pop());const W=D.reduce((j,oe)=>(oe&&oe instanceof Error?j+=`${oe.message} ${oe.stack}`:j+=oe.toString(),j),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var Q;this._logs.push([_,W]),(I||(H=this._opts)!==null&&H!==void 0&&H.console)&&((Q=console)===null||Q===void 0||Q[_==="ERROR"?"error":"debug"](`${_}: ${W}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(..._){this.write("INFO",_)}error(..._){this.write("ERROR",_)}warn(..._){this.write("WARN",_)}setTag(_){this._tag=_}toJSON(){return this._logs}}function k(x,..._){try{const D=new URL(x);if(!D.origin)throw new Error(null);const I=v.join(x.substr(D.origin.length),..._);return D.origin+I}catch{return v.join(x,..._)}}function E(x,_){let D,I,H=!1;const W=j=>oe=>{x&&clearTimeout(x),j(oe),H=!0},Q=new Promise((j,oe)=>{D=W(j),I=W(oe),x&&(x=setTimeout(()=>I(new Error(`[deferred timeout] ${_}`)),x))});return{created:Date.now(),setTag:j=>_=j,resolve:D,reject:I,promise:Q,get settled(){return H}}}const C=new Map;window.__injectedUIEffects=C;var S=o(227),T=o.n(S);function P(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}const L="application/x-postmate-v1+json";let M=0;const F={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},$=(x,_)=>(typeof _!="string"||x.origin===_)&&!!x.data&&(typeof x.data!="object"||"postmate"in x.data)&&x.data.type===L&&!!F[x.data.postmate];class z{constructor(_){P(this,"parent",void 0),P(this,"frame",void 0),P(this,"child",void 0),P(this,"events",{}),P(this,"childOrigin",void 0),P(this,"listener",void 0),this.parent=_.parent,this.frame=_.frame,this.child=_.child,this.childOrigin=_.childOrigin,this.listener=D=>{if(!$(D,this.childOrigin))return!1;const{data:I,name:H}=((D||{}).data||{}).value||{};D.data.postmate==="emit"&&H in this.events&&this.events[H].forEach(W=>{W.call(this,I)})},this.parent.addEventListener("message",this.listener,!1)}get(_,...D){return new Promise((I,H)=>{const W=++M,Q=j=>{j.data.uid===W&&j.data.postmate==="reply"&&(this.parent.removeEventListener("message",Q,!1),j.data.error?H(j.data.error):I(j.data.value))};this.parent.addEventListener("message",Q,!1),this.child.postMessage({postmate:"request",type:L,property:_,args:D,uid:W},this.childOrigin)})}call(_,D){this.child.postMessage({postmate:"call",type:L,property:_,data:D},this.childOrigin)}on(_,D){this.events[_]||(this.events[_]=[]),this.events[_].push(D)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class q{constructor(_){P(this,"model",void 0),P(this,"parent",void 0),P(this,"parentOrigin",void 0),P(this,"child",void 0),this.model=_.model,this.parent=_.parent,this.parentOrigin=_.parentOrigin,this.child=_.child,this.child.addEventListener("message",D=>{if(!$(D,this.parentOrigin))return;const{property:I,uid:H,data:W,args:Q}=D.data;D.data.postmate!=="call"?((j,oe,he)=>{const we=typeof j[oe]=="function"?j[oe].apply(null,he):j[oe];return Promise.resolve(we)})(this.model,I,Q).then(j=>{D.source.postMessage({property:I,postmate:"reply",type:L,uid:H,value:j},D.origin)}).catch(j=>{D.source.postMessage({property:I,postmate:"reply",type:L,uid:H,error:j},D.origin)}):I in this.model&&typeof this.model[I]=="function"&&this.model[I](W)})}emit(_,D){this.parent.postMessage({postmate:"emit",type:L,value:{name:_,data:D}},this.parentOrigin)}}class U{constructor(_){P(this,"container",void 0),P(this,"parent",void 0),P(this,"frame",void 0),P(this,"child",void 0),P(this,"childOrigin",void 0),P(this,"url",void 0),P(this,"model",void 0),this.container=_.container,this.url=_.url,this.parent=window,this.frame=document.createElement("iframe"),_.id&&(this.frame.id=_.id),_.name&&(this.frame.name=_.name),this.frame.classList.add.apply(this.frame.classList,_.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=_.model||{}}sendHandshake(_){const D=(W=>{const Q=document.createElement("a");Q.href=W;const j=Q.protocol.length>4?Q.protocol:window.location.protocol,oe=Q.host.length?Q.port==="80"||Q.port==="443"?Q.hostname:Q.host:window.location.host;return Q.origin||`${j}//${oe}`})(_=_||this.url);let I,H=0;return new Promise((W,Q)=>{const j=he=>!!$(he,D)&&(he.data.postmate==="handshake-reply"?(clearInterval(I),this.parent.removeEventListener("message",j,!1),this.childOrigin=he.origin,W(new z(this))):Q("Failed handshake"));this.parent.addEventListener("message",j,!1);const oe=()=>{H++,this.child.postMessage({postmate:"handshake",type:L,model:this.model},D),H===5&&clearInterval(I)};this.frame.addEventListener("load",()=>{oe(),I=setInterval(oe,500)}),this.frame.src=_})}destroy(){this.frame.parentNode.removeChild(this.frame)}}P(U,"debug",!1),P(U,"Model",void 0);class Y{constructor(_){P(this,"child",void 0),P(this,"model",void 0),P(this,"parent",void 0),P(this,"parentOrigin",void 0),this.child=window,this.model=_,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((_,D)=>{const I=H=>{if(H.data.postmate){if(H.data.postmate==="handshake"){this.child.removeEventListener("message",I,!1),H.source.postMessage({postmate:"handshake-reply",type:L},H.origin),this.parentOrigin=H.origin;const W=H.data.model;return W&&Object.keys(W).forEach(Q=>{this.model[Q]=W[Q]}),_(new q(this))}return D("Handshake Reply Failed")}};this.child.addEventListener("message",I,!1)})}}function R(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}const{importHTML:B,createSandboxContainer:V}=window.QSandbox||{};function re(x,_){return x.startsWith("http")?fetch(x,_):(x=x.replace("file://",""),new Promise(async(D,I)=>{try{const H=await window.apis.doAction(["readFile",x]);D({text:()=>H})}catch(H){console.error(H),I(H)}}))}class ge extends w(){constructor(_){super(),R(this,"_pluginLocal",void 0),R(this,"_frame",void 0),R(this,"_root",void 0),R(this,"_loaded",!1),R(this,"_unmountFns",[]),this._pluginLocal=_,_._dispose(()=>{this._unmount()})}async load(){const{name:_,entry:D}=this._pluginLocal.options;if(this.loaded||!D)return;const{template:I,execScripts:H}=await B(D,{fetch:re});this._mount(I,document.body);const W=V(_,{elementGetter:()=>{var j;return(j=this._root)===null||j===void 0?void 0:j.firstChild}}).instance.proxy;W.__shadow_mode__=!0,W.LSPluginLocal=this._pluginLocal,W.LSPluginShadow=this,W.LSPluginUser=W.logseq=new tp(this._pluginLocal.toJSON(),this._pluginLocal.caller);const Q=await H(W,!0);this._unmountFns.push(Q.unmount),this._loaded=!0}_mount(_,D){const I=this._frame=document.createElement("div");I.classList.add("lsp-shadow-sandbox"),I.id=this._pluginLocal.id,this._root=I.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${_}</div>`,D.appendChild(I),this.emit("mounted")}_unmount(){for(const _ of this._unmountFns)_&&_.call(null)}destroy(){var _,D;(_=this.frame)===null||_===void 0||(D=_.parentNode)===null||D===void 0||D.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var _;return(_=this._root)===null||_===void 0?void 0:_.firstChild}get frame(){return this._frame}}function X(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}const ie=T()("LSPlugin:caller"),me="#await#response#",K="#lspmsg#",ve="#lspmsg#error#",Ee=x=>`#lspmsg#${x}`;class He extends w(){constructor(_){super(),X(this,"_pluginLocal",void 0),X(this,"_connected",!1),X(this,"_parent",void 0),X(this,"_child",void 0),X(this,"_shadow",void 0),X(this,"_status",void 0),X(this,"_userModel",{}),X(this,"_call",void 0),X(this,"_callUserModel",void 0),X(this,"_debugTag",""),this._pluginLocal=_,_&&(this._debugTag=_.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:_}=this._pluginLocal;_?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(_={}){if(this._connected)return;const D=this,I=this._pluginLocal!=null;let H=0;const W=new Map,Q=E(6e4),j=this._extendUserModel({"#lspmsg#ready#":async we=>{j[Ee(we?.pid)]=({type:fe,payload:_e})=>{ie(`[host (_call) -> *user] ${this._debugTag}`,fe,_e),D.emit(fe,_e)},await Q.resolve()},"#lspmsg#beforeunload#":async we=>{const fe=E(1e4);D.emit("beforeunload",Object.assign({actor:fe},we)),await fe.promise},"#lspmsg#settings#":async({type:we,payload:fe})=>{D.emit("settings:changed",fe)},[K]:async({ns:we,type:fe,payload:_e})=>{ie(`[host (async) -> *user] ${this._debugTag} ns=${we} type=${fe}`,_e),we&&we.startsWith("hook")?D.emit(`${we}:${fe}`,_e):D.emit(fe,_e)},"#lspmsg#reply#":({_sync:we,result:fe})=>{if(ie(`[sync host -> *user] #${we}`,fe),W.has(we)){const _e=W.get(we);_e&&(fe!=null&&fe.hasOwnProperty(ve)?_e.reject(fe[ve]):_e.resolve(fe),W.delete(we))}},..._});var oe;if(I)return await Q.promise,JSON.parse(JSON.stringify((oe=this._pluginLocal)===null||oe===void 0?void 0:oe.toJSON()));const he=new Y(j).sendHandshakeReply();return this._status="pending",await he.then(we=>{this._child=we,this._connected=!0,this._call=async(fe,_e={},Fe)=>{if(Fe){const Se=++H;W.set(Se,Fe),_e._sync=Se,Fe.setTag(`async call #${Se}`),ie(`async call #${Se}`)}return we.emit(Ee(j.baseInfo.id),{type:fe,payload:_e}),Fe?.promise},this._callUserModel=async(fe,_e)=>{try{j[fe](_e)}catch{ie(`[model method] #${fe} not existed`)}},setInterval(()=>{if(W.size>100)for(const[fe,_e]of W)_e.settled&&W.delete(fe)},18e5)}).finally(()=>{this._status=void 0}),await Q.promise,j.baseInfo}async call(_,D={}){var I;return(I=this._call)===null||I===void 0?void 0:I.call(this,_,D)}async callAsync(_,D={}){var I;const H=E(1e4);return(I=this._call)===null||I===void 0?void 0:I.call(this,_,D,H)}async callUserModel(_,...D){var I;return(I=this._callUserModel)===null||I===void 0?void 0:I.apply(this,[_,...D])}async callUserModelAsync(_,...D){var I;return _=`${me}${_}`,(I=this._callUserModel)===null||I===void 0?void 0:I.apply(this,[_,...D])}async _setupIframeSandbox(){const _=this._pluginLocal,D=_.id,I=`${D}_lsp_main`,H=new URL(_.options.entry);H.searchParams.set("__v__",_.options.version);const W=document.querySelector(`#${I}`);W&&W.parentElement.removeChild(W);const Q=document.createElement("div");Q.classList.add("lsp-iframe-sandbox-container"),Q.id=I,Q.dataset.pid=D;try{var j;const fe=(j=await this._pluginLocal._loadLayoutsData())===null||j===void 0?void 0:j.$$0;if(fe){Q.dataset.inited_layout="true";let{width:_e,height:Fe,left:Se,top:Ge,vw:ot,vh:Mt}=fe;Se=Math.max(Se,0),Se=typeof ot=="number"?`${Math.min(100*Se/ot,99)}%`:`${Se}px`,Ge=Math.max(Ge,45),Ge=typeof Mt=="number"?`${Math.min(100*Ge/Mt,99)}%`:`${Ge}px`,Object.assign(Q.style,{width:_e+"px",height:Fe+"px",left:Se,top:Ge})}}catch(fe){console.error("[Restore Layout Error]",fe)}document.body.appendChild(Q);const oe=new U({id:D+"_iframe",container:Q,url:H.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(_.toJSON()))}});let he,we=oe.sendHandshake();return this._status="pending",new Promise((fe,_e)=>{he=setTimeout(()=>{_e(new Error("handshake Timeout")),oe.destroy()},4e3),we.then(Fe=>{this._parent=Fe,this._connected=!0,this.emit("connected"),Fe.on(Ee(_.id),({type:Se,payload:Ge})=>{var ot,Mt;ie("[user -> *host] ",Se,Ge),(ot=this._pluginLocal)===null||ot===void 0||ot.emit(Se,Ge||{}),(Mt=this._pluginLocal)===null||Mt===void 0||Mt.caller.emit(Se,Ge||{})}),this._call=async(...Se)=>{await Fe.call(Ee(_.id),{type:Se[0],payload:Object.assign(Se[1]||{},{$$pid:_.id})})},this._callUserModel=async(Se,...Ge)=>{if(Se.startsWith(me))return await Fe.get(Se.replace(me,""),...Ge);Fe.call(Se,Ge?.[0])},fe(null)}).catch(Fe=>{_e(Fe)}).finally(()=>{clearTimeout(he)})}).catch(fe=>{throw ie("[iframe sandbox] error",fe),fe}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const _=this._pluginLocal,D=this._shadow=new ge(_);try{this._status="pending",await D.load(),this._connected=!0,this.emit("connected"),this._call=async(I,H={},W)=>{var Q;return W&&(H.actor=W),(Q=this._pluginLocal)===null||Q===void 0||Q.emit(I,Object.assign(H,{$$pid:_.id})),W?.promise},this._callUserModel=async(...I)=>{var H;let W=I[0];(H=W)!==null&&H!==void 0&&H.startsWith(me)&&(W=W.replace(me,""));const Q=I[1]||{},j=this._userModel[W];typeof j=="function"&&await j.call(null,Q)}}catch(I){throw ie("[shadow sandbox] error",I),I}finally{this._status=void 0}}_extendUserModel(_){return Object.assign(this._userModel,_)}_getSandboxIframeContainer(){var _;return(_=this._parent)===null||_===void 0?void 0:_.frame.parentNode}_getSandboxShadowContainer(){var _;return(_=this._shadow)===null||_===void 0?void 0:_.frame.parentNode}_getSandboxIframeRoot(){var _;return(_=this._parent)===null||_===void 0?void 0:_.frame}_getSandboxShadowRoot(){var _;return(_=this._shadow)===null||_===void 0?void 0:_.frame}set debugTag(_){this._debugTag=_}async destroy(){var _;let D=null;this._parent&&(D=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(D=this._getSandboxShadowContainer(),this._shadow.destroy()),(_=D)===null||_===void 0||_.parentNode.removeChild(D)}}function Ie(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}class ke{constructor(_,D){Ie(this,"ctx",void 0),Ie(this,"opts",void 0),this.ctx=_,this.opts=D}get ctxId(){return this.ctx.baseInfo.id}setItem(_,D){var I;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,_,D,(I=this.opts)===null||I===void 0?void 0:I.assets]})}getItem(_){var D;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,_,(D=this.opts)===null||D===void 0?void 0:D.assets]})}removeItem(_){var D;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,_,(D=this.opts)===null||D===void 0?void 0:D.assets]})}allKeys(){var _;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(_=this.opts)===null||_===void 0?void 0:_.assets]})}clear(){var _;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(_=this.opts)===null||_===void 0?void 0:_.assets]})}hasItem(_){var D;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,_,(D=this.opts)===null||D===void 0?void 0:D.assets]})}}class at{constructor(_){var D,I,H;H=void 0,(I="ctx")in(D=this)?Object.defineProperty(D,I,{value:H,enumerable:!0,configurable:!0,writable:!0}):D[I]=H,this.ctx=_}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(_,...D){var I,H;const W=this.ensureHostScope();return _=(I=g(_))===null||I===void 0?void 0:I.toLowerCase(),(H=W.logseq.api["exper_"+_])===null||H===void 0?void 0:H.apply(W,D)}async loadScripts(..._){(_=_.map(D=>D!=null&&D.startsWith("http")?D:this.ctx.resolveResourceFullUrl(D))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",..._)}registerFencedCodeRenderer(_,D){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,_,D)}registerExtensionsEnhancer(_,D){const I=this.ensureHostScope();return _==="katex"&&I.katex&&D(I.katex).catch(console.error),I.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,_,D)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function ct(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}const mt=x=>`task_callback_${x}`;class Et{constructor(_,D,I={}){ct(this,"_client",void 0),ct(this,"_requestId",void 0),ct(this,"_requestOptions",void 0),ct(this,"_promise",void 0),ct(this,"_aborted",!1),this._client=_,this._requestId=D,this._requestOptions=I,this._promise=new Promise((j,oe)=>{if(!this._requestId)return oe(null);this._client.once(mt(this._requestId),he=>{he&&he instanceof Error?oe(he):j(he)})});const{success:H,fail:W,final:Q}=this._requestOptions;this._promise.then(j=>{H?.(j)}).catch(j=>{W?.(j)}).finally(()=>{Q?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Ve extends m.EventEmitter{constructor(_){super(),ct(this,"_ctx",void 0),this._ctx=_,this.ctx.caller.on("#lsp#request#callback",D=>{const I=D?.requestId;I&&this.emit(mt(I),D?.payload)})}static createRequestTask(_,D,I){return new Et(_,D,I)}async _request(_){const D=this.ctx.baseInfo.id,{success:I,fail:H,final:W,...Q}=_,j=this.ctx.Experiments.invokeExperMethod("request",D,Q),oe=Ve.createRequestTask(this.ctx.Request,j,_);return Q.abortable?oe:oe.promise}get ctx(){return this._ctx}}const At=Array.isArray,Zn=typeof Je=="object"&&Je&&Je.Object===Object&&Je;var _i=typeof self=="object"&&self&&self.Object===Object&&self;const Dn=Zn||_i||Function("return this")(),dn=Dn.Symbol;var hr=Object.prototype,mr=hr.hasOwnProperty,ma=hr.toString,Lr=dn?dn.toStringTag:void 0;const ga=function(x){var _=mr.call(x,Lr),D=x[Lr];try{x[Lr]=void 0;var I=!0}catch{}var H=ma.call(x);return I&&(_?x[Lr]=D:delete x[Lr]),H};var ki=Object.prototype.toString;const te=function(x){return ki.call(x)};var ue=dn?dn.toStringTag:void 0;const ye=function(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":ue&&ue in Object(x)?ga(x):te(x)},Te=function(x){var _=typeof x;return x!=null&&(_=="object"||_=="function")},kt=function(x){if(!Te(x))return!1;var _=ye(x);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"},gr=Dn["__core-js_shared__"];var Ar,So=(Ar=/[^.]+$/.exec(gr&&gr.keys&&gr.keys.IE_PROTO||""))?"Symbol(src)_1."+Ar:"";const Ss=function(x){return!!So&&So in x};var Eu=Function.prototype.toString;const oo=function(x){if(x!=null){try{return Eu.call(x)}catch{}try{return x+""}catch{}}return""};var Lf=/^\[object .+?Constructor\]$/,Af=Function.prototype,Ff=Object.prototype,va=Af.toString,$f=Ff.hasOwnProperty,zf=RegExp("^"+va.call($f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Bf=function(x){return!(!Te(x)||Ss(x))&&(kt(x)?zf:Lf).test(oo(x))},Ts=function(x,_){return x?.[_]},vr=function(x,_){var D=Ts(x,_);return Bf(D)?D:void 0},yr=function(){try{var x=vr(Object,"defineProperty");return x({},"",{}),x}catch{}}(),Du=function(x,_,D){_=="__proto__"&&yr?yr(x,_,{configurable:!0,enumerable:!0,value:D,writable:!0}):x[_]=D},ya=function(x){return function(_,D,I){for(var H=-1,W=Object(_),Q=I(_),j=Q.length;j--;){var oe=Q[x?j:++H];if(D(W[oe],oe,W)===!1)break}return _}}(),Ps=function(x,_){for(var D=-1,I=Array(x);++D<x;)I[D]=_(D);return I},To=function(x){return x!=null&&typeof x=="object"},Su=function(x){return To(x)&&ye(x)=="[object Arguments]"};var Tu=Object.prototype,Hf=Tu.hasOwnProperty,Pu=Tu.propertyIsEnumerable;const An=Su(function(){return arguments}())?Su:function(x){return To(x)&&Hf.call(x,"callee")&&!Pu.call(x,"callee")},xi=function(){return!1};var Fr=t&&!t.nodeType&&t,wa=Fr&&!0&&e&&!e.nodeType&&e,ba=wa&&wa.exports===Fr?Dn.Buffer:void 0;const Os=(ba?ba.isBuffer:void 0)||xi;var Uf=/^(?:0|[1-9]\d*)$/;const Ou=function(x,_){var D=typeof x;return!!(_=_??9007199254740991)&&(D=="number"||D!="symbol"&&Uf.test(x))&&x>-1&&x%1==0&&x<_},_a=function(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=9007199254740991};var Qe={};Qe["[object Float32Array]"]=Qe["[object Float64Array]"]=Qe["[object Int8Array]"]=Qe["[object Int16Array]"]=Qe["[object Int32Array]"]=Qe["[object Uint8Array]"]=Qe["[object Uint8ClampedArray]"]=Qe["[object Uint16Array]"]=Qe["[object Uint32Array]"]=!0,Qe["[object Arguments]"]=Qe["[object Array]"]=Qe["[object ArrayBuffer]"]=Qe["[object Boolean]"]=Qe["[object DataView]"]=Qe["[object Date]"]=Qe["[object Error]"]=Qe["[object Function]"]=Qe["[object Map]"]=Qe["[object Number]"]=Qe["[object Object]"]=Qe["[object RegExp]"]=Qe["[object Set]"]=Qe["[object String]"]=Qe["[object WeakMap]"]=!1;const It=function(x){return To(x)&&_a(x.length)&&!!Qe[ye(x)]},Iu=function(x){return function(_){return x(_)}};var Rt=t&&!t.nodeType&&t,Po=Rt&&!0&&e&&!e.nodeType&&e,dt=Po&&Po.exports===Rt&&Zn.process,Oo=function(){try{var x=Po&&Po.require&&Po.require("util").types;return x||dt&&dt.binding&&dt.binding("util")}catch{}}(),ka=Oo&&Oo.isTypedArray;const Is=ka?Iu(ka):It;var Rs=Object.prototype.hasOwnProperty;const Ru=function(x,_){var D=At(x),I=!D&&An(x),H=!D&&!I&&Os(x),W=!D&&!I&&!H&&Is(x),Q=D||I||H||W,j=Q?Ps(x.length,String):[],oe=j.length;for(var he in x)!_&&!Rs.call(x,he)||Q&&(he=="length"||H&&(he=="offset"||he=="parent")||W&&(he=="buffer"||he=="byteLength"||he=="byteOffset")||Ou(he,oe))||j.push(he);return j};var Io=Object.prototype;const io=function(x){var _=x&&x.constructor;return x===(typeof _=="function"&&_.prototype||Io)},Ns=function(x,_){return function(D){return x(_(D))}}(Object.keys,Object);var Ms=Object.prototype.hasOwnProperty;const Ro=function(x){if(!io(x))return Ns(x);var _=[];for(var D in Object(x))Ms.call(x,D)&&D!="constructor"&&_.push(D);return _},xa=function(x){return x!=null&&_a(x.length)&&!kt(x)},No=function(x){return xa(x)?Ru(x):Ro(x)},Nu=function(x,_){return x&&ya(x,_,No)},Ls=function(){this.__data__=[],this.size=0},Mo=function(x,_){return x===_||x!=x&&_!=_},wr=function(x,_){for(var D=x.length;D--;)if(Mo(x[D][0],_))return D;return-1};var Lo=Array.prototype.splice;const Mu=function(x){var _=this.__data__,D=wr(_,x);return!(D<0)&&(D==_.length-1?_.pop():Lo.call(_,D,1),--this.size,!0)},Lu=function(x){var _=this.__data__,D=wr(_,x);return D<0?void 0:_[D][1]},Au=function(x){return wr(this.__data__,x)>-1},As=function(x,_){var D=this.__data__,I=wr(D,x);return I<0?(++this.size,D.push([x,_])):D[I][1]=_,this};function ao(x){var _=-1,D=x==null?0:x.length;for(this.clear();++_<D;){var I=x[_];this.set(I[0],I[1])}}ao.prototype.clear=Ls,ao.prototype.delete=Mu,ao.prototype.get=Lu,ao.prototype.has=Au,ao.prototype.set=As;const Ao=ao,Fs=function(){this.__data__=new Ao,this.size=0},$r=function(x){var _=this.__data__,D=_.delete(x);return this.size=_.size,D},Ca=function(x){return this.__data__.get(x)},Fu=function(x){return this.__data__.has(x)},Ci=vr(Dn,"Map"),Ei=vr(Object,"create"),Fo=function(){this.__data__=Ei?Ei(null):{},this.size=0},Wf=function(x){var _=this.has(x)&&delete this.__data__[x];return this.size-=_?1:0,_};var $u=Object.prototype.hasOwnProperty;const $s=function(x){var _=this.__data__;if(Ei){var D=_[x];return D==="__lodash_hash_undefined__"?void 0:D}return $u.call(_,x)?_[x]:void 0};var zu=Object.prototype.hasOwnProperty;const Bu=function(x){var _=this.__data__;return Ei?_[x]!==void 0:zu.call(_,x)},Yf=function(x,_){var D=this.__data__;return this.size+=this.has(x)?0:1,D[x]=Ei&&_===void 0?"__lodash_hash_undefined__":_,this};function br(x){var _=-1,D=x==null?0:x.length;for(this.clear();++_<D;){var I=x[_];this.set(I[0],I[1])}}br.prototype.clear=Fo,br.prototype.delete=Wf,br.prototype.get=$s,br.prototype.has=Bu,br.prototype.set=Yf;const Ea=br,qf=function(){this.size=0,this.__data__={hash:new Ea,map:new(Ci||Ao),string:new Ea}},_r=function(x){var _=typeof x;return _=="string"||_=="number"||_=="symbol"||_=="boolean"?x!=="__proto__":x===null},Di=function(x,_){var D=x.__data__;return _r(_)?D[typeof _=="string"?"string":"hash"]:D.map},Hu=function(x){var _=Di(this,x).delete(x);return this.size-=_?1:0,_},Uu=function(x){return Di(this,x).get(x)},Vf=function(x){return Di(this,x).has(x)},Si=function(x,_){var D=Di(this,x),I=D.size;return D.set(x,_),this.size+=D.size==I?0:1,this};function nn(x){var _=-1,D=x==null?0:x.length;for(this.clear();++_<D;){var I=x[_];this.set(I[0],I[1])}}nn.prototype.clear=qf,nn.prototype.delete=Hu,nn.prototype.get=Uu,nn.prototype.has=Vf,nn.prototype.set=Si;const Ti=nn,Wu=function(x,_){var D=this.__data__;if(D instanceof Ao){var I=D.__data__;if(!Ci||I.length<199)return I.push([x,_]),this.size=++D.size,this;D=this.__data__=new Ti(I)}return D.set(x,_),this.size=D.size,this};function so(x){var _=this.__data__=new Ao(x);this.size=_.size}so.prototype.clear=Fs,so.prototype.delete=$r,so.prototype.get=Ca,so.prototype.has=Fu,so.prototype.set=Wu;const Pi=so,Qf=function(x){return this.__data__.set(x,"__lodash_hash_undefined__"),this},A=function(x){return this.__data__.has(x)};function se(x){var _=-1,D=x==null?0:x.length;for(this.__data__=new Ti;++_<D;)this.add(x[_])}se.prototype.add=se.prototype.push=Qf,se.prototype.has=A;const ne=se,Ke=function(x,_){for(var D=-1,I=x==null?0:x.length;++D<I;)if(_(x[D],D,x))return!0;return!1},gt=function(x,_){return x.has(_)},Ut=function(x,_,D,I,H,W){var Q=1&D,j=x.length,oe=_.length;if(j!=oe&&!(Q&&oe>j))return!1;var he=W.get(x),we=W.get(_);if(he&&we)return he==_&&we==x;var fe=-1,_e=!0,Fe=2&D?new ne:void 0;for(W.set(x,_),W.set(_,x);++fe<j;){var Se=x[fe],Ge=_[fe];if(I)var ot=Q?I(Ge,Se,fe,_,x,W):I(Se,Ge,fe,x,_,W);if(ot!==void 0){if(ot)continue;_e=!1;break}if(Fe){if(!Ke(_,function(Mt,Jn){if(!gt(Fe,Jn)&&(Se===Mt||H(Se,Mt,D,I,W)))return Fe.push(Jn)})){_e=!1;break}}else if(Se!==Ge&&!H(Se,Ge,D,I,W)){_e=!1;break}}return W.delete(x),W.delete(_),_e},Nt=Dn.Uint8Array,Oi=function(x){var _=-1,D=Array(x.size);return x.forEach(function(I,H){D[++_]=[H,I]}),D},zr=function(x){var _=-1,D=Array(x.size);return x.forEach(function(I){D[++_]=I}),D};var Sn=dn?dn.prototype:void 0,zs=Sn?Sn.valueOf:void 0;const yv=function(x,_,D,I,H,W,Q){switch(D){case"[object DataView]":if(x.byteLength!=_.byteLength||x.byteOffset!=_.byteOffset)return!1;x=x.buffer,_=_.buffer;case"[object ArrayBuffer]":return!(x.byteLength!=_.byteLength||!W(new Nt(x),new Nt(_)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Mo(+x,+_);case"[object Error]":return x.name==_.name&&x.message==_.message;case"[object RegExp]":case"[object String]":return x==_+"";case"[object Map]":var j=Oi;case"[object Set]":var oe=1&I;if(j||(j=zr),x.size!=_.size&&!oe)return!1;var he=Q.get(x);if(he)return he==_;I|=2,Q.set(x,_);var we=Ut(j(x),j(_),I,H,W,Q);return Q.delete(x),we;case"[object Symbol]":if(zs)return zs.call(x)==zs.call(_)}return!1},mC=function(x,_){for(var D=-1,I=_.length,H=x.length;++D<I;)x[H+D]=_[D];return x},gC=function(x,_,D){var I=_(x);return At(x)?I:mC(I,D(x))},vC=function(x,_){for(var D=-1,I=x==null?0:x.length,H=0,W=[];++D<I;){var Q=x[D];_(Q,D,x)&&(W[H++]=Q)}return W},yC=function(){return[]};var wC=Object.prototype.propertyIsEnumerable,wv=Object.getOwnPropertySymbols;const bC=wv?function(x){return x==null?[]:(x=Object(x),vC(wv(x),function(_){return wC.call(x,_)}))}:yC,bv=function(x){return gC(x,No,bC)};var _C=Object.prototype.hasOwnProperty;const kC=function(x,_,D,I,H,W){var Q=1&D,j=bv(x),oe=j.length;if(oe!=bv(_).length&&!Q)return!1;for(var he=oe;he--;){var we=j[he];if(!(Q?we in _:_C.call(_,we)))return!1}var fe=W.get(x),_e=W.get(_);if(fe&&_e)return fe==_&&_e==x;var Fe=!0;W.set(x,_),W.set(_,x);for(var Se=Q;++he<oe;){var Ge=x[we=j[he]],ot=_[we];if(I)var Mt=Q?I(ot,Ge,we,_,x,W):I(Ge,ot,we,x,_,W);if(!(Mt===void 0?Ge===ot||H(Ge,ot,D,I,W):Mt)){Fe=!1;break}Se||(Se=we=="constructor")}if(Fe&&!Se){var Jn=x.constructor,Ri=_.constructor;Jn==Ri||!("constructor"in x)||!("constructor"in _)||typeof Jn=="function"&&Jn instanceof Jn&&typeof Ri=="function"&&Ri instanceof Ri||(Fe=!1)}return W.delete(x),W.delete(_),Fe},Kf=vr(Dn,"DataView"),Gf=vr(Dn,"Promise"),jf=vr(Dn,"Set"),Xf=vr(Dn,"WeakMap");var _v="[object Map]",kv="[object Promise]",xv="[object Set]",Cv="[object WeakMap]",Ev="[object DataView]",xC=oo(Kf),CC=oo(Ci),EC=oo(Gf),DC=oo(jf),SC=oo(Xf),Ii=ye;(Kf&&Ii(new Kf(new ArrayBuffer(1)))!=Ev||Ci&&Ii(new Ci)!=_v||Gf&&Ii(Gf.resolve())!=kv||jf&&Ii(new jf)!=xv||Xf&&Ii(new Xf)!=Cv)&&(Ii=function(x){var _=ye(x),D=_=="[object Object]"?x.constructor:void 0,I=D?oo(D):"";if(I)switch(I){case xC:return Ev;case CC:return _v;case EC:return kv;case DC:return xv;case SC:return Cv}return _});const Dv=Ii;var Sv="[object Arguments]",Tv="[object Array]",Yu="[object Object]",Pv=Object.prototype.hasOwnProperty;const TC=function(x,_,D,I,H,W){var Q=At(x),j=At(_),oe=Q?Tv:Dv(x),he=j?Tv:Dv(_),we=(oe=oe==Sv?Yu:oe)==Yu,fe=(he=he==Sv?Yu:he)==Yu,_e=oe==he;if(_e&&Os(x)){if(!Os(_))return!1;Q=!0,we=!1}if(_e&&!we)return W||(W=new Pi),Q||Is(x)?Ut(x,_,D,I,H,W):yv(x,_,oe,D,I,H,W);if(!(1&D)){var Fe=we&&Pv.call(x,"__wrapped__"),Se=fe&&Pv.call(_,"__wrapped__");if(Fe||Se){var Ge=Fe?x.value():x,ot=Se?_.value():_;return W||(W=new Pi),H(Ge,ot,D,I,W)}}return!!_e&&(W||(W=new Pi),kC(x,_,D,I,H,W))},Ov=function x(_,D,I,H,W){return _===D||(_==null||D==null||!To(_)&&!To(D)?_!=_&&D!=D:TC(_,D,I,H,x,W))},PC=function(x,_,D,I){var H=D.length,W=H,Q=!I;if(x==null)return!W;for(x=Object(x);H--;){var j=D[H];if(Q&&j[2]?j[1]!==x[j[0]]:!(j[0]in x))return!1}for(;++H<W;){var oe=(j=D[H])[0],he=x[oe],we=j[1];if(Q&&j[2]){if(he===void 0&&!(oe in x))return!1}else{var fe=new Pi;if(I)var _e=I(he,we,oe,x,_,fe);if(!(_e===void 0?Ov(we,he,3,I,fe):_e))return!1}}return!0},Iv=function(x){return x==x&&!Te(x)},OC=function(x){for(var _=No(x),D=_.length;D--;){var I=_[D],H=x[I];_[D]=[I,H,Iv(H)]}return _},Rv=function(x,_){return function(D){return D!=null&&D[x]===_&&(_!==void 0||x in Object(D))}},IC=function(x){var _=OC(x);return _.length==1&&_[0][2]?Rv(_[0][0],_[0][1]):function(D){return D===x||PC(D,x,_)}},Zf=function(x){return typeof x=="symbol"||To(x)&&ye(x)=="[object Symbol]"};var RC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NC=/^\w*$/;const Jf=function(x,_){if(At(x))return!1;var D=typeof x;return!(D!="number"&&D!="symbol"&&D!="boolean"&&x!=null&&!Zf(x))||NC.test(x)||!RC.test(x)||_!=null&&x in Object(_)};function ep(x,_){if(typeof x!="function"||_!=null&&typeof _!="function")throw new TypeError("Expected a function");var D=function(){var I=arguments,H=_?_.apply(this,I):I[0],W=D.cache;if(W.has(H))return W.get(H);var Q=x.apply(this,I);return D.cache=W.set(H,Q)||W,Q};return D.cache=new(ep.Cache||Ti),D}ep.Cache=Ti;const MC=ep;var LC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AC=/\\(\\)?/g;const FC=function(x){var _=MC(x,function(I){return D.size===500&&D.clear(),I}),D=_.cache;return _}(function(x){var _=[];return x.charCodeAt(0)===46&&_.push(""),x.replace(LC,function(D,I,H,W){_.push(H?W.replace(AC,"$1"):I||D)}),_}),$C=function(x,_){for(var D=-1,I=x==null?0:x.length,H=Array(I);++D<I;)H[D]=_(x[D],D,x);return H};var Nv=dn?dn.prototype:void 0,Mv=Nv?Nv.toString:void 0;const zC=function x(_){if(typeof _=="string")return _;if(At(_))return $C(_,x)+"";if(Zf(_))return Mv?Mv.call(_):"";var D=_+"";return D=="0"&&1/_==-1/0?"-0":D},BC=function(x){return x==null?"":zC(x)},Lv=function(x,_){return At(x)?x:Jf(x,_)?[x]:FC(BC(x))},qu=function(x){if(typeof x=="string"||Zf(x))return x;var _=x+"";return _=="0"&&1/x==-1/0?"-0":_},Av=function(x,_){for(var D=0,I=(_=Lv(_,x)).length;x!=null&&D<I;)x=x[qu(_[D++])];return D&&D==I?x:void 0},HC=function(x,_,D){var I=x==null?void 0:Av(x,_);return I===void 0?D:I},UC=function(x,_){return x!=null&&_ in Object(x)},WC=function(x,_,D){for(var I=-1,H=(_=Lv(_,x)).length,W=!1;++I<H;){var Q=qu(_[I]);if(!(W=x!=null&&D(x,Q)))break;x=x[Q]}return W||++I!=H?W:!!(H=x==null?0:x.length)&&_a(H)&&Ou(Q,H)&&(At(x)||An(x))},YC=function(x,_){return x!=null&&WC(x,_,UC)},qC=function(x,_){return Jf(x)&&Iv(_)?Rv(qu(x),_):function(D){var I=HC(D,x);return I===void 0&&I===_?YC(D,x):Ov(_,I,3)}},VC=function(x){return x},QC=function(x){return function(_){return _?.[x]}},KC=function(x){return function(_){return Av(_,x)}},GC=function(x){return Jf(x)?QC(qu(x)):KC(x)},jC=function(x){return typeof x=="function"?x:x==null?VC:typeof x=="object"?At(x)?qC(x[0],x[1]):IC(x):GC(x)},XC=function(x,_){var D={};return _=jC(_),Nu(x,function(I,H,W){Du(D,_(I,H,W),I)}),D};function Fv(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}class ZC{constructor(_,D){Fv(this,"ctx",void 0),Fv(this,"serviceHooks",void 0),this.ctx=_,this.serviceHooks=D,_._execCallableAPI("register-search-service",_.baseInfo.id,D.name,D.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:I=>(At(I?.blocks)&&(I.blocks=I.blocks.map(H=>H&&XC(H,(W,Q)=>`block/${Q}`))),I)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([I,H])=>{const W=(Q=>`service:search:${Q}:${D.name}`)(I);_.caller.on(W,async Q=>{if(kt(D?.[H.f])){let j=null;try{j=await D[H.f].apply(D,(H.args||[]).map(oe=>{if(Q){if(oe===!0)return Q;if(Q.hasOwnProperty(oe)){const he=Q[oe];return delete Q[oe],he}}})),H.transformOutput&&(j=H.transformOutput(j))}catch(oe){console.error("[SearchService] ",oe),j=oe}finally{H.reply&&_.caller.call(`${W}:reply`,j)}}})})}}function kr(x,_,D){return _ in x?Object.defineProperty(x,_,{value:D,enumerable:!0,configurable:!0,writable:!0}):x[_]=D,x}const JC=Symbol.for("proxy-continue"),eE=T()("LSPlugin:user"),$v=new b("",{console:!0});function Da(x,_,D){var I;const{key:H,label:W,desc:Q,palette:j,keybinding:oe,extras:he}=_;if(typeof D!="function")return this.logger.error(`${H||W}: command action should be function.`),!1;const we=function(_e){if(typeof _e=="string")return _e.trim().replace(/\s/g,"_").toLowerCase()}(H);if(!we)return this.logger.error(`${W}: command key is required.`),!1;const fe=`SimpleCommandHook${we}${++Hv}`;this.Editor["on"+fe](D),(I=this.caller)===null||I===void 0||I.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:we,label:W,type:x,desc:Q,keybinding:oe,extras:he},["editor/hook",fe]],j]})}function zv(x){return!(typeof(_=x)!="string"||_.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(_))||($v.error(`#${x} is not a valid UUID string.`),!1);var _}let Vu=null,Bv=new Map;const tE={async getInfo(x){return Vu||(Vu=await this._execCallableAPIAsync("get-app-info")),typeof x=="string"?Vu[x]:Vu},registerCommand:Da,registerSearchService(x){if(Bv.has(x.name))throw new Error(`SearchService: #${x.name} has registered!`);Bv.set(x.name,new ZC(this,x))},registerCommandPalette(x,_){const{key:D,label:I,keybinding:H}=x;return Da.call(this,"$palette$",{key:D,label:I,palette:!0,keybinding:H},_)},registerCommandShortcut(x,_,D={}){typeof x=="string"&&(x={mode:"global",binding:x});const{binding:I}=x,H="$shortcut$",W=D.key||H+g(I?.toString());return Da.call(this,H,{...D,key:W,palette:!1,keybinding:x},_)},registerUIItem(x,_){var D;const I=this.baseInfo.id;(D=this.caller)===null||D===void 0||D.call("api:call",{method:"register-plugin-ui-item",args:[I,x,_]})},registerPageMenuItem(x,_){if(typeof _!="function")return!1;const D=x+"_"+this.baseInfo.id,I=x;Da.call(this,"page-menu-item",{key:D,label:I},_)},onBlockRendererSlotted(x,_){if(!zv(x))return;const D=this.baseInfo.id,I=`hook:editor:${g(`slot:${x}`)}`;return this.caller.on(I,_),this.App._installPluginHook(D,I),()=>{this.caller.off(I,_),this.App._uninstallPluginHook(D,I)}},invokeExternalPlugin(x,..._){var D;if(!(x=(D=x)===null||D===void 0?void 0:D.trim()))return;let[I,H]=x.split(".");if(!["models","commands"].includes(H?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const W=x.replace(`${I}.${H}.`,"");if(!I||!H||!W)throw new Error(`Illegal type of #${x} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",I,H.toLowerCase(),W,_)},setFullScreen(x){const _=(...D)=>this._callWin("setFullScreen",...D);x==="toggle"?this._callWin("isFullScreen").then(D=>{D?_():_(!0)}):x?_(!0):_()}};let Hv=0;const nE={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(x,_){var D;eE("Register slash command #",this.baseInfo.id,x,_),typeof _=="function"&&(_=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",_]]),_=_.map(I=>{const[H,...W]=I;if(H==="editor/hook"){let Q=W[0],j=()=>{var he;(he=this.caller)===null||he===void 0||he.callUserModel(Q)};typeof Q=="function"&&(j=Q);const oe=`SlashCommandHook${H}${++Hv}`;I[1]=oe,this.Editor["on"+oe](j)}return I}),(D=this.caller)===null||D===void 0||D.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[x,_]]})},registerBlockContextMenuItem(x,_){if(typeof _!="function")return!1;const D=x+"_"+this.baseInfo.id;Da.call(this,"block-context-menu-item",{key:D,label:x},_)},registerHighlightContextMenuItem(x,_,D){if(typeof _!="function")return!1;const I=x+"_"+this.baseInfo.id;Da.call(this,"highlight-context-menu-item",{key:I,label:x,extras:D},_)},scrollToBlockInPage(x,_,D){const I="block-content-"+_;D!=null&&D.replaceState?this.App.replaceState("page",{name:x},{anchor:I}):this.App.pushState("page",{name:x},{anchor:I})}},rE={onBlockChanged(x,_){if(!zv(x))return;const D=this.baseInfo.id,I=`hook:db:${g(`block:${x}`)}`,H=({block:W,txData:Q,txMeta:j})=>{W.uuid===x&&_(W,Q,j)};return this.caller.on(I,H),this.App._installPluginHook(D,I),()=>{this.caller.off(I,H),this.App._uninstallPluginHook(D,I)}},datascriptQuery(x,..._){return _.pop(),_!=null&&_.some(D=>typeof D=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(x,..._):this._execCallableAPIAsync("datascript_query",x,..._)}},oE={},iE={},aE={makeSandboxStorage(){return new ke(this,{assets:!0})}};class tp extends w(){constructor(_,D){super(),kr(this,"_baseInfo",void 0),kr(this,"_caller",void 0),kr(this,"_version","0.0.17"),kr(this,"_debugTag",""),kr(this,"_settingsSchema",void 0),kr(this,"_connected",!1),kr(this,"_ui",new Map),kr(this,"_mFileStorage",void 0),kr(this,"_mRequest",void 0),kr(this,"_mExperiments",void 0),kr(this,"_beforeunloadCallback",void 0),this._baseInfo=_,this._caller=D,D.on("sys:ui:visible",I=>{I!=null&&I.toggle&&this.toggleMainUI()}),D.on("settings:changed",I=>{const H=Object.assign({},this.settings),W=Object.assign(this._baseInfo.settings,I);this.emit("settings:changed",{...W},H)}),D.on("beforeunload",async I=>{const{actor:H,...W}=I,Q=this._beforeunloadCallback;try{Q&&await Q(W),H?.resolve(null)}catch(j){this.logger.error("[beforeunload] ",j),H?.reject(j)}})}async ready(_,D){var I,H;if(!this._connected)try{var W;typeof _=="function"&&(D=_,_={});let Q=await this._caller.connectToParent(_);this._connected=!0,I=this._baseInfo,H=Q,Q=d()(I,H,{arrayMerge:(j,oe)=>oe}),this._baseInfo=Q,(W=Q)!==null&&W!==void 0&&W.id&&(this._debugTag=this._caller.debugTag=`#${Q.id} [${Q.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(Q.settings=function(j,oe){const he=(oe||[]).reduce((we,fe)=>("default"in fe&&(we[fe.key]=fe.default),we),{});return Object.assign(he,j)}(Q.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(j){console.warn(j)}D&&D.call(this,Q)}catch(Q){console.error(`${this._debugTag} [Ready Error]`,Q)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(_){typeof _=="function"&&(this._beforeunloadCallback=_)}provideModel(_){return this.caller._extendUserModel(_),this}provideTheme(_){return this.caller.call("provider:theme",_),this}provideStyle(_){return this.caller.call("provider:style",_),this}provideUI(_){return this.caller.call("provider:ui",_),this}useSettingsSchema(_){return this.connected&&this.caller.call("settings:schema",{schema:_,isSync:!0}),this._settingsSchema=_,this}updateSettings(_){this.caller.call("settings:update",_)}onSettingsChanged(_){const D="settings:changed";return this.on(D,_),()=>this.off(D,_)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(_){this.caller.call("main-ui:attrs",_)}setMainUIInlineStyle(_){this.caller.call("main-ui:style",_)}hideMainUI(_){const D={key:0,visible:!1,cursor:_?.restoreEditingCursor};this.caller.call("main-ui:visible",D),this.emit("ui:visible:changed",D),this._ui.set(D.key,D)}showMainUI(_){const D={key:0,visible:!0,autoFocus:_?.autoFocus};this.caller.call("main-ui:visible",D),this.emit("ui:visible:changed",D),this._ui.set(D.key,D)}toggleMainUI(){const D=this._ui.get(0);D&&D.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const _=this._ui.get(0);return!!(_&&_.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(_=this)&&(((D=_.baseInfo)===null||D===void 0?void 0:D.effect)||!((I=_.baseInfo)!==null&&I!==void 0&&I.iir));var _,D,I}get logger(){return $v}get settings(){var _;return(_=this.baseInfo)===null||_===void 0?void 0:_.settings}get caller(){return this._caller}resolveResourceFullUrl(_){if(this.ensureConnected(),_)return _=_.replace(/^[.\\/]+/,""),k(this._baseInfo.lsr,_)}_makeUserProxy(_,D){const I=this,H=this.caller;return new Proxy(_,{get(W,Q,j){const oe=W[Q];return function(...he){if(oe){const fe=oe.apply(I,he.concat(D));if(fe!==JC)return fe}if(D){const fe=Q.toString().match(/^(once|off|on)/i);if(fe!=null){const _e=fe[0].toLowerCase(),Fe=fe.input,Se=_e==="off",Ge=I.baseInfo.id;let ot=Fe.slice(_e.length),Mt=he[0],Jn=he[1];typeof Mt=="string"&&typeof Jn=="function"&&(Mt=Mt.replace(/^logseq./,":"),ot=`${ot}${Mt}`,Mt=Jn,Jn=he[2]),ot=`hook:${D}:${g(ot)}`,H[_e](ot,Mt);const Ri=()=>{H.off(ot,Mt),H.listenerCount(ot)||I.App._uninstallPluginHook(Ge,ot)};return Se?void Ri():(I.App._installPluginHook(Ge,ot,Jn),Ri)}}let we=Q;return["git","ui","assets"].includes(D)&&(we=D+"_"+we),H.callAsync("api:call",{tag:D,method:we,args:he})}}})}_execCallableAPIAsync(_,...D){return this._caller.callAsync("api:call",{method:_,args:D})}_execCallableAPI(_,...D){this._caller.call("api:call",{method:_,args:D})}_callWin(..._){return this._execCallableAPIAsync("_callMainWin",..._)}get App(){return this._makeUserProxy(tE,"app")}get Editor(){return this._makeUserProxy(nE,"editor")}get DB(){return this._makeUserProxy(rE,"db")}get Git(){return this._makeUserProxy(oE,"git")}get UI(){return this._makeUserProxy(iE,"ui")}get Assets(){return this._makeUserProxy(aE,"assets")}get FileStorage(){let _=this._mFileStorage;return _||(_=this._mFileStorage=new ke(this)),_}get Request(){let _=this._mRequest;return _||(_=this._mRequest=new Ve(this)),_}get Experiments(){let _=this._mExperiments;return _||(_=this._mExperiments=new at(this)),_}}function Uv(x,_){return new tp(x,_)}if(window.__LSP__HOST__==null){const x=new He(null);window.logseq=Uv({},x)}})(),i})())})(Vc,Vc.exports);Vc.exports;var e1={exports:{}},jn={},t1={exports:{}},n1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,R){var B=Y.length;Y.push(R);e:for(;0<B;){var V=B-1>>>1,re=Y[V];if(0<o(re,R))Y[V]=R,Y[B]=re,B=V;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var R=Y[0],B=Y.pop();if(B!==R){Y[0]=B;e:for(var V=0,re=Y.length,ge=re>>>1;V<ge;){var X=2*(V+1)-1,ie=Y[X],me=X+1,K=Y[me];if(0>o(ie,B))me<re&&0>o(K,ie)?(Y[V]=K,Y[me]=B,V=me):(Y[V]=ie,Y[X]=B,V=X);else if(me<re&&0>o(K,B))Y[V]=K,Y[me]=B,V=me;else break e}}return R}function o(Y,R){var B=Y.sortIndex-R.sortIndex;return B!==0?B:Y.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],u=[],a=1,l=null,f=3,p=!1,h=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(Y){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=Y)n(u),R.sortIndex=R.expirationTime,t(d,R);else break;R=r(u)}}function b(Y){if(m=!1,g(Y),!h)if(r(d)!==null)h=!0,q(k);else{var R=r(u);R!==null&&U(b,R.startTime-Y)}}function k(Y,R){h=!1,m&&(m=!1,y(S),S=-1),p=!0;var B=f;try{for(g(R),l=r(d);l!==null&&(!(l.expirationTime>R)||Y&&!L());){var V=l.callback;if(typeof V=="function"){l.callback=null,f=l.priorityLevel;var re=V(l.expirationTime<=R);R=e.unstable_now(),typeof re=="function"?l.callback=re:l===r(d)&&n(d),g(R)}else n(d);l=r(d)}if(l!==null)var ge=!0;else{var X=r(u);X!==null&&U(b,X.startTime-R),ge=!1}return ge}finally{l=null,f=B,p=!1}}var E=!1,C=null,S=-1,T=5,P=-1;function L(){return!(e.unstable_now()-P<T)}function M(){if(C!==null){var Y=e.unstable_now();P=Y;var R=!0;try{R=C(!0,Y)}finally{R?F():(E=!1,C=null)}}else E=!1}var F;if(typeof v=="function")F=function(){v(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,z=$.port2;$.port1.onmessage=M,F=function(){z.postMessage(null)}}else F=function(){w(M,0)};function q(Y){C=Y,E||(E=!0,F())}function U(Y,R){S=w(function(){Y(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,q(k))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var B=f;f=R;try{return Y()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,R){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var B=f;f=Y;try{return R()}finally{f=B}},e.unstable_scheduleCallback=function(Y,R,B){var V=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,Y){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=B+re,Y={id:a++,callback:R,priorityLevel:Y,startTime:B,expirationTime:re,sortIndex:-1},B>V?(Y.sortIndex=B,t(u,Y),r(d)===null&&Y===r(u)&&(m?(y(S),S=-1):m=!0,U(b,B-V))):(Y.sortIndex=re,t(d,Y),h||p||(h=!0,q(k))),Y},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(Y){var R=f;return function(){var B=f;f=R;try{return Y.apply(this,arguments)}finally{f=B}}}})(n1);t1.exports=n1;var PE=t1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=G,Qn=PE;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r1=new Set,Dl={};function la(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(Dl[e]=t,e=0;e<t.length;e++)r1.add(t[e])}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jp=Object.prototype.hasOwnProperty,IE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vv={},Qv={};function RE(e){return jp.call(Qv,e)?!0:jp.call(Vv,e)?!1:IE.test(e)?Qv[e]=!0:(Vv[e]=!0,!1)}function NE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ME(e,t,r,n){if(t===null||typeof t>"u"||NE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,r,n,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tn[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tn[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tn[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tn[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tn[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tn[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tn[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tn[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tn[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var xm=/[\-:]([a-z])/g;function Cm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xm,Cm);tn[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xm,Cm);tn[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xm,Cm);tn[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Em(e,t,r,n){var o=tn.hasOwnProperty(t)?tn[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ME(t,r,o,n)&&(r=null),n||o===null?RE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Eo=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ku=Symbol.for("react.element"),Na=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),Xp=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),i1=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Tm=Symbol.for("react.memo"),Bo=Symbol.for("react.lazy"),a1=Symbol.for("react.offscreen"),Kv=Symbol.iterator;function Bs(e){return e===null||typeof e!="object"?null:(e=Kv&&e[Kv]||e["@@iterator"],typeof e=="function"?e:null)}var _t=Object.assign,rp;function el(e){if(rp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rp=t&&t[1]||""}return`
`+rp+e}var op=!1;function ip(e,t){if(!e||op)return"";op=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=n.stack.split(`
`),s=o.length-1,c=i.length-1;1<=s&&0<=c&&o[s]!==i[c];)c--;for(;1<=s&&0<=c;s--,c--)if(o[s]!==i[c]){if(s!==1||c!==1)do if(s--,c--,0>c||o[s]!==i[c]){var d=`
`+o[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=c);break}}}finally{op=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?el(e):""}function LE(e){switch(e.tag){case 5:return el(e.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return e=ip(e.type,!1),e;case 11:return e=ip(e.type.render,!1),e;case 1:return e=ip(e.type,!0),e;default:return""}}function eh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ma:return"Fragment";case Na:return"Portal";case Xp:return"Profiler";case Dm:return"StrictMode";case Zp:return"Suspense";case Jp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i1:return(e.displayName||"Context")+".Consumer";case o1:return(e._context.displayName||"Context")+".Provider";case Sm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tm:return t=e.displayName||null,t!==null?t:eh(e.type)||"Memo";case Bo:t=e._payload,e=e._init;try{return eh(e(t))}catch{}}return null}function AE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eh(t);case 8:return t===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FE(e){var t=s1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gu(e){e._valueTracker||(e._valueTracker=FE(e))}function l1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=s1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function th(e,t){var r=t.checked;return _t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Gv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ai(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u1(e,t){t=t.checked,t!=null&&Em(e,"checked",t,!1)}function nh(e,t){u1(e,t);var r=ai(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rh(e,t.type,r):t.hasOwnProperty("defaultValue")&&rh(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rh(e,t,r){(t!=="number"||Qc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tl=Array.isArray;function qa(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ai(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function oh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return _t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(tl(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ai(r)}}function c1(e,t){var r=ai(t.value),n=ai(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ju,f1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$E=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){$E.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function p1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function h1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=p1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var zE=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ah(e,t){if(t){if(zE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function sh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=null;function Pm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uh=null,Va=null,Qa=null;function Jv(e){if(e=au(e)){if(typeof uh!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=jd(t),uh(e.stateNode,e.type,t))}}function m1(e){Va?Qa?Qa.push(e):Qa=[e]:Va=e}function g1(){if(Va){var e=Va,t=Qa;if(Qa=Va=null,Jv(e),t)for(e=0;e<t.length;e++)Jv(t[e])}}function v1(e,t){return e(t)}function y1(){}var ap=!1;function w1(e,t,r){if(ap)return e(t,r);ap=!0;try{return v1(e,t,r)}finally{ap=!1,(Va!==null||Qa!==null)&&(y1(),g1())}}function Tl(e,t){var r=e.stateNode;if(r===null)return null;var n=jd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var ch=!1;if(wo)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){ch=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{ch=!1}function BE(e,t,r,n,o,i,s,c,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(a){this.onError(a)}}var fl=!1,Kc=null,Gc=!1,dh=null,HE={onError:function(e){fl=!0,Kc=e}};function UE(e,t,r,n,o,i,s,c,d){fl=!1,Kc=null,BE.apply(HE,arguments)}function WE(e,t,r,n,o,i,s,c,d){if(UE.apply(this,arguments),fl){if(fl){var u=Kc;fl=!1,Kc=null}else throw Error(ee(198));Gc||(Gc=!0,dh=u)}}function ua(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function b1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e0(e){if(ua(e)!==e)throw Error(ee(188))}function YE(e){var t=e.alternate;if(!t){if(t=ua(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return e0(o),e;if(i===n)return e0(o),t;i=i.sibling}throw Error(ee(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,c=o.child;c;){if(c===r){s=!0,r=o,n=i;break}if(c===n){s=!0,n=o,r=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===r){s=!0,r=i,n=o;break}if(c===n){s=!0,n=i,r=o;break}c=c.sibling}if(!s)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function _1(e){return e=YE(e),e!==null?k1(e):null}function k1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=k1(e);if(t!==null)return t;e=e.sibling}return null}var x1=Qn.unstable_scheduleCallback,t0=Qn.unstable_cancelCallback,qE=Qn.unstable_shouldYield,VE=Qn.unstable_requestPaint,Tt=Qn.unstable_now,QE=Qn.unstable_getCurrentPriorityLevel,Om=Qn.unstable_ImmediatePriority,C1=Qn.unstable_UserBlockingPriority,jc=Qn.unstable_NormalPriority,KE=Qn.unstable_LowPriority,E1=Qn.unstable_IdlePriority,Vd=null,jr=null;function GE(e){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Vd,e,void 0,(e.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:ZE,jE=Math.log,XE=Math.LN2;function ZE(e){return e>>>=0,e===0?32:31-(jE(e)/XE|0)|0}var Xu=64,Zu=4194304;function nl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var c=s&~o;c!==0?n=nl(c):(i&=s,i!==0&&(n=nl(i)))}else s=r&~o,s!==0?n=nl(s):i!==0&&(n=nl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Tr(t),o=1<<r,n|=e[r],t&=~o;return n}function JE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Tr(i),c=1<<s,d=o[s];d===-1?(!(c&r)||c&n)&&(o[s]=JE(c,t)):d<=t&&(e.expiredLanes|=c),i&=~c}}function fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function D1(){var e=Xu;return Xu<<=1,!(Xu&4194240)&&(Xu=64),e}function sp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ou(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tr(t),e[t]=r}function tD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Tr(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function Im(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Tr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var tt=0;function S1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var T1,Rm,P1,O1,I1,ph=!1,Ju=[],jo=null,Xo=null,Zo=null,Pl=new Map,Ol=new Map,Uo=[],nD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n0(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Zo=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(t.pointerId)}}function Us(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=au(t),t!==null&&Rm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function rD(e,t,r,n,o){switch(t){case"focusin":return jo=Us(jo,e,t,r,n,o),!0;case"dragenter":return Xo=Us(Xo,e,t,r,n,o),!0;case"mouseover":return Zo=Us(Zo,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return Pl.set(i,Us(Pl.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Ol.set(i,Us(Ol.get(i)||null,e,t,r,n,o)),!0}return!1}function R1(e){var t=zi(e.target);if(t!==null){var r=ua(t);if(r!==null){if(t=r.tag,t===13){if(t=b1(r),t!==null){e.blockedOn=t,I1(e.priority,function(){P1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);lh=n,r.target.dispatchEvent(n),lh=null}else return t=au(r),t!==null&&Rm(t),e.blockedOn=r,!1;t.shift()}return!0}function r0(e,t,r){Dc(e)&&r.delete(t)}function oD(){ph=!1,jo!==null&&Dc(jo)&&(jo=null),Xo!==null&&Dc(Xo)&&(Xo=null),Zo!==null&&Dc(Zo)&&(Zo=null),Pl.forEach(r0),Ol.forEach(r0)}function Ws(e,t){e.blockedOn===t&&(e.blockedOn=null,ph||(ph=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,oD)))}function Il(e){function t(o){return Ws(o,e)}if(0<Ju.length){Ws(Ju[0],e);for(var r=1;r<Ju.length;r++){var n=Ju[r];n.blockedOn===e&&(n.blockedOn=null)}}for(jo!==null&&Ws(jo,e),Xo!==null&&Ws(Xo,e),Zo!==null&&Ws(Zo,e),Pl.forEach(t),Ol.forEach(t),r=0;r<Uo.length;r++)n=Uo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Uo.length&&(r=Uo[0],r.blockedOn===null);)R1(r),r.blockedOn===null&&Uo.shift()}var Ka=Eo.ReactCurrentBatchConfig,Zc=!0;function iD(e,t,r,n){var o=tt,i=Ka.transition;Ka.transition=null;try{tt=1,Nm(e,t,r,n)}finally{tt=o,Ka.transition=i}}function aD(e,t,r,n){var o=tt,i=Ka.transition;Ka.transition=null;try{tt=4,Nm(e,t,r,n)}finally{tt=o,Ka.transition=i}}function Nm(e,t,r,n){if(Zc){var o=hh(e,t,r,n);if(o===null)vp(e,t,n,Jc,r),n0(e,n);else if(rD(o,e,t,r,n))n.stopPropagation();else if(n0(e,n),t&4&&-1<nD.indexOf(e)){for(;o!==null;){var i=au(o);if(i!==null&&T1(i),i=hh(e,t,r,n),i===null&&vp(e,t,n,Jc,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else vp(e,t,n,null,r)}}var Jc=null;function hh(e,t,r,n){if(Jc=null,e=Pm(n),e=zi(e),e!==null)if(t=ua(e),t===null)e=null;else if(r=t.tag,r===13){if(e=b1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jc=e,null}function N1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QE()){case Om:return 1;case C1:return 4;case jc:case KE:return 16;case E1:return 536870912;default:return 16}default:return 16}}var qo=null,Mm=null,Sc=null;function M1(){if(Sc)return Sc;var e,t=Mm,r=t.length,n,o="value"in qo?qo.value:qo.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===o[i-n];n++);return Sc=o.slice(e,1<n?1-n:void 0)}function Tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ec(){return!0}function o0(){return!1}function Xn(e){function t(r,n,o,i,s){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ec:o0,this.isPropagationStopped=o0,this}return _t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),t}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=Xn(bs),iu=_t({},bs,{view:0,detail:0}),sD=Xn(iu),lp,up,Ys,Qd=_t({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Am,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(lp=e.screenX-Ys.screenX,up=e.screenY-Ys.screenY):up=lp=0,Ys=e),lp)},movementY:function(e){return"movementY"in e?e.movementY:up}}),i0=Xn(Qd),lD=_t({},Qd,{dataTransfer:0}),uD=Xn(lD),cD=_t({},iu,{relatedTarget:0}),cp=Xn(cD),dD=_t({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),fD=Xn(dD),pD=_t({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hD=Xn(pD),mD=_t({},bs,{data:0}),a0=Xn(mD),gD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yD[e])?!!t[e]:!1}function Am(){return wD}var bD=_t({},iu,{key:function(e){if(e.key){var t=gD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Am,charCode:function(e){return e.type==="keypress"?Tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_D=Xn(bD),kD=_t({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s0=Xn(kD),xD=_t({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Am}),CD=Xn(xD),ED=_t({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),DD=Xn(ED),SD=_t({},Qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TD=Xn(SD),PD=[9,13,27,32],Fm=wo&&"CompositionEvent"in window,pl=null;wo&&"documentMode"in document&&(pl=document.documentMode);var OD=wo&&"TextEvent"in window&&!pl,L1=wo&&(!Fm||pl&&8<pl&&11>=pl),l0=String.fromCharCode(32),u0=!1;function A1(e,t){switch(e){case"keyup":return PD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function ID(e,t){switch(e){case"compositionend":return F1(t);case"keypress":return t.which!==32?null:(u0=!0,l0);case"textInput":return e=t.data,e===l0&&u0?null:e;default:return null}}function RD(e,t){if(La)return e==="compositionend"||!Fm&&A1(e,t)?(e=M1(),Sc=Mm=qo=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return L1&&t.locale!=="ko"?null:t.data;default:return null}}var ND={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ND[e.type]:t==="textarea"}function $1(e,t,r,n){m1(n),t=ed(t,"onChange"),0<t.length&&(r=new Lm("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var hl=null,Rl=null;function MD(e){G1(e,0)}function Kd(e){var t=$a(e);if(l1(t))return e}function LD(e,t){if(e==="change")return t}var z1=!1;if(wo){var dp;if(wo){var fp="oninput"in document;if(!fp){var d0=document.createElement("div");d0.setAttribute("oninput","return;"),fp=typeof d0.oninput=="function"}dp=fp}else dp=!1;z1=dp&&(!document.documentMode||9<document.documentMode)}function f0(){hl&&(hl.detachEvent("onpropertychange",B1),Rl=hl=null)}function B1(e){if(e.propertyName==="value"&&Kd(Rl)){var t=[];$1(t,Rl,e,Pm(e)),w1(MD,t)}}function AD(e,t,r){e==="focusin"?(f0(),hl=t,Rl=r,hl.attachEvent("onpropertychange",B1)):e==="focusout"&&f0()}function FD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kd(Rl)}function $D(e,t){if(e==="click")return Kd(t)}function zD(e,t){if(e==="input"||e==="change")return Kd(t)}function BD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ir=typeof Object.is=="function"?Object.is:BD;function Nl(e,t){if(Ir(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!jp.call(t,o)||!Ir(e[o],t[o]))return!1}return!0}function p0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h0(e,t){var r=p0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=p0(r)}}function H1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U1(){for(var e=window,t=Qc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qc(e.document)}return t}function $m(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function HD(e){var t=U1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&H1(r.ownerDocument.documentElement,r)){if(n!==null&&$m(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=h0(r,i);var s=h0(r,n);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UD=wo&&"documentMode"in document&&11>=document.documentMode,Aa=null,mh=null,ml=null,gh=!1;function m0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gh||Aa==null||Aa!==Qc(n)||(n=Aa,"selectionStart"in n&&$m(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ml&&Nl(ml,n)||(ml=n,n=ed(mh,"onSelect"),0<n.length&&(t=new Lm("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Aa)))}function tc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fa={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},pp={},W1={};wo&&(W1=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Gd(e){if(pp[e])return pp[e];if(!Fa[e])return e;var t=Fa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in W1)return pp[e]=t[r];return e}var Y1=Gd("animationend"),q1=Gd("animationiteration"),V1=Gd("animationstart"),Q1=Gd("transitionend"),K1=new Map,g0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(e,t){K1.set(e,t),la(t,[e])}for(var hp=0;hp<g0.length;hp++){var mp=g0[hp],WD=mp.toLowerCase(),YD=mp[0].toUpperCase()+mp.slice(1);hi(WD,"on"+YD)}hi(Y1,"onAnimationEnd");hi(q1,"onAnimationIteration");hi(V1,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(Q1,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));la("onBeforeInput",["compositionend","keypress","textInput","paste"]);la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qD=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function v0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,WE(n,t,void 0,e),e.currentTarget=null}function G1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var c=n[s],d=c.instance,u=c.currentTarget;if(c=c.listener,d!==i&&o.isPropagationStopped())break e;v0(o,c,u),i=d}else for(s=0;s<n.length;s++){if(c=n[s],d=c.instance,u=c.currentTarget,c=c.listener,d!==i&&o.isPropagationStopped())break e;v0(o,c,u),i=d}}}if(Gc)throw e=dh,Gc=!1,dh=null,e}function st(e,t){var r=t[_h];r===void 0&&(r=t[_h]=new Set);var n=e+"__bubble";r.has(n)||(j1(t,e,2,!1),r.add(n))}function gp(e,t,r){var n=0;t&&(n|=4),j1(r,e,n,t)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Ml(e){if(!e[nc]){e[nc]=!0,r1.forEach(function(r){r!=="selectionchange"&&(qD.has(r)||gp(r,!1,e),gp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nc]||(t[nc]=!0,gp("selectionchange",!1,t))}}function j1(e,t,r,n){switch(N1(t)){case 1:var o=iD;break;case 4:o=aD;break;default:o=Nm}r=o.bind(null,t,r,e),o=void 0,!ch||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function vp(e,t,r,n,o){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var c=n.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(s===4)for(s=n.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;s=s.return}for(;c!==null;){if(s=zi(c),s===null)return;if(d=s.tag,d===5||d===6){n=i=s;continue e}c=c.parentNode}}n=n.return}w1(function(){var u=i,a=Pm(r),l=[];e:{var f=K1.get(e);if(f!==void 0){var p=Lm,h=e;switch(e){case"keypress":if(Tc(r)===0)break e;case"keydown":case"keyup":p=_D;break;case"focusin":h="focus",p=cp;break;case"focusout":h="blur",p=cp;break;case"beforeblur":case"afterblur":p=cp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CD;break;case Y1:case q1:case V1:p=fD;break;case Q1:p=DD;break;case"scroll":p=sD;break;case"wheel":p=TD;break;case"copy":case"cut":case"paste":p=hD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=s0}var m=(t&4)!==0,w=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var v=u,g;v!==null;){g=v;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,y!==null&&(b=Tl(v,y),b!=null&&m.push(Ll(v,b,g)))),w)break;v=v.return}0<m.length&&(f=new p(f,h,null,r,a),l.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==lh&&(h=r.relatedTarget||r.fromElement)&&(zi(h)||h[bo]))break e;if((p||f)&&(f=a.window===a?a:(f=a.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?zi(h):null,h!==null&&(w=ua(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(m=i0,b="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=s0,b="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?f:$a(p),g=h==null?f:$a(h),f=new m(b,v+"leave",p,r,a),f.target=w,f.relatedTarget=g,b=null,zi(a)===u&&(m=new m(y,v+"enter",h,r,a),m.target=g,m.relatedTarget=w,b=m),w=b,p&&h)t:{for(m=p,y=h,v=0,g=m;g;g=Sa(g))v++;for(g=0,b=y;b;b=Sa(b))g++;for(;0<v-g;)m=Sa(m),v--;for(;0<g-v;)y=Sa(y),g--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Sa(m),y=Sa(y)}m=null}else m=null;p!==null&&y0(l,f,p,m,!1),h!==null&&w!==null&&y0(l,w,h,m,!0)}}e:{if(f=u?$a(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=LD;else if(c0(f))if(z1)k=zD;else{k=FD;var E=AD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=$D);if(k&&(k=k(e,u))){$1(l,k,r,a);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&rh(f,"number",f.value)}switch(E=u?$a(u):window,e){case"focusin":(c0(E)||E.contentEditable==="true")&&(Aa=E,mh=u,ml=null);break;case"focusout":ml=mh=Aa=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,m0(l,r,a);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":m0(l,r,a)}var C;if(Fm)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else La?A1(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(L1&&r.locale!=="ko"&&(La||S!=="onCompositionStart"?S==="onCompositionEnd"&&La&&(C=M1()):(qo=a,Mm="value"in qo?qo.value:qo.textContent,La=!0)),E=ed(u,S),0<E.length&&(S=new a0(S,e,null,r,a),l.push({event:S,listeners:E}),C?S.data=C:(C=F1(r),C!==null&&(S.data=C)))),(C=OD?ID(e,r):RD(e,r))&&(u=ed(u,"onBeforeInput"),0<u.length&&(a=new a0("onBeforeInput","beforeinput",null,r,a),l.push({event:a,listeners:u}),a.data=C))}G1(l,t)})}function Ll(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ed(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Tl(e,r),i!=null&&n.unshift(Ll(e,i,o)),i=Tl(e,t),i!=null&&n.push(Ll(e,i,o))),e=e.return}return n}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y0(e,t,r,n,o){for(var i=t._reactName,s=[];r!==null&&r!==n;){var c=r,d=c.alternate,u=c.stateNode;if(d!==null&&d===n)break;c.tag===5&&u!==null&&(c=u,o?(d=Tl(r,i),d!=null&&s.unshift(Ll(r,d,c))):o||(d=Tl(r,i),d!=null&&s.push(Ll(r,d,c)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var VD=/\r\n?/g,QD=/\u0000|\uFFFD/g;function w0(e){return(typeof e=="string"?e:""+e).replace(VD,`
`).replace(QD,"")}function rc(e,t,r){if(t=w0(t),w0(e)!==t&&r)throw Error(ee(425))}function td(){}var vh=null,yh=null;function wh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,KD=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,GD=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(e){return b0.resolve(null).then(e).catch(jD)}:bh;function jD(e){setTimeout(function(){throw e})}function yp(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Il(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Il(t)}function Jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),qr="__reactFiber$"+_s,Al="__reactProps$"+_s,bo="__reactContainer$"+_s,_h="__reactEvents$"+_s,XD="__reactListeners$"+_s,ZD="__reactHandles$"+_s;function zi(e){var t=e[qr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bo]||r[qr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_0(e);e!==null;){if(r=e[qr])return r;e=_0(e)}return t}e=r,r=e.parentNode}return null}function au(e){return e=e[qr]||e[bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $a(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function jd(e){return e[Al]||null}var kh=[],za=-1;function mi(e){return{current:e}}function lt(e){0>za||(e.current=kh[za],kh[za]=null,za--)}function it(e,t){za++,kh[za]=e.current,e.current=t}var si={},cn=mi(si),Nn=mi(!1),Zi=si;function ns(e,t){var r=e.type.contextTypes;if(!r)return si;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mn(e){return e=e.childContextTypes,e!=null}function nd(){lt(Nn),lt(cn)}function k0(e,t,r){if(cn.current!==si)throw Error(ee(168));it(cn,t),it(Nn,r)}function X1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(ee(108,AE(e)||"Unknown",o));return _t({},r,n)}function rd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,Zi=cn.current,it(cn,e),it(Nn,Nn.current),!0}function x0(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=X1(e,t,Zi),n.__reactInternalMemoizedMergedChildContext=e,lt(Nn),lt(cn),it(cn,e)):lt(Nn),it(Nn,r)}var uo=null,Xd=!1,wp=!1;function Z1(e){uo===null?uo=[e]:uo.push(e)}function JD(e){Xd=!0,Z1(e)}function gi(){if(!wp&&uo!==null){wp=!0;var e=0,t=tt;try{var r=uo;for(tt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}uo=null,Xd=!1}catch(o){throw uo!==null&&(uo=uo.slice(e+1)),x1(Om,gi),o}finally{tt=t,wp=!1}}return null}var Ba=[],Ha=0,od=null,id=0,nr=[],rr=0,Ji=null,fo=1,po="";function Mi(e,t){Ba[Ha++]=id,Ba[Ha++]=od,od=e,id=t}function J1(e,t,r){nr[rr++]=fo,nr[rr++]=po,nr[rr++]=Ji,Ji=e;var n=fo;e=po;var o=32-Tr(n)-1;n&=~(1<<o),r+=1;var i=32-Tr(t)+o;if(30<i){var s=o-o%5;i=(n&(1<<s)-1).toString(32),n>>=s,o-=s,fo=1<<32-Tr(t)+o|r<<o|n,po=i+e}else fo=1<<i|r<<o|n,po=e}function zm(e){e.return!==null&&(Mi(e,1),J1(e,1,0))}function Bm(e){for(;e===od;)od=Ba[--Ha],Ba[Ha]=null,id=Ba[--Ha],Ba[Ha]=null;for(;e===Ji;)Ji=nr[--rr],nr[rr]=null,po=nr[--rr],nr[rr]=null,fo=nr[--rr],nr[rr]=null}var Wn=null,Hn=null,ft=!1,Dr=null;function eb(e,t){var r=or(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function C0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wn=e,Hn=Jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wn=e,Hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ji!==null?{id:fo,overflow:po}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=or(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wn=e,Hn=null,!0):!1;default:return!1}}function xh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ch(e){if(ft){var t=Hn;if(t){var r=t;if(!C0(e,t)){if(xh(e))throw Error(ee(418));t=Jo(r.nextSibling);var n=Wn;t&&C0(e,t)?eb(n,r):(e.flags=e.flags&-4097|2,ft=!1,Wn=e)}}else{if(xh(e))throw Error(ee(418));e.flags=e.flags&-4097|2,ft=!1,Wn=e}}}function E0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wn=e}function oc(e){if(e!==Wn)return!1;if(!ft)return E0(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wh(e.type,e.memoizedProps)),t&&(t=Hn)){if(xh(e))throw tb(),Error(ee(418));for(;t;)eb(e,t),t=Jo(t.nextSibling)}if(E0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hn=Jo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hn=null}}else Hn=Wn?Jo(e.stateNode.nextSibling):null;return!0}function tb(){for(var e=Hn;e;)e=Jo(e.nextSibling)}function rs(){Hn=Wn=null,ft=!1}function Hm(e){Dr===null?Dr=[e]:Dr.push(e)}var eS=Eo.ReactCurrentBatchConfig;function qs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var c=o.refs;s===null?delete c[i]:c[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function ic(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function D0(e){var t=e._init;return t(e._payload)}function nb(e){function t(y,v){if(e){var g=y.deletions;g===null?(y.deletions=[v],y.flags|=16):g.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function o(y,v){return y=ri(y,v),y.index=0,y.sibling=null,y}function i(y,v,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<v?(y.flags|=2,v):g):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,v,g,b){return v===null||v.tag!==6?(v=Dp(g,y.mode,b),v.return=y,v):(v=o(v,g),v.return=y,v)}function d(y,v,g,b){var k=g.type;return k===Ma?a(y,v,g.props.children,b,g.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bo&&D0(k)===v.type)?(b=o(v,g.props),b.ref=qs(y,v,g),b.return=y,b):(b=Lc(g.type,g.key,g.props,null,y.mode,b),b.ref=qs(y,v,g),b.return=y,b)}function u(y,v,g,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=Sp(g,y.mode,b),v.return=y,v):(v=o(v,g.children||[]),v.return=y,v)}function a(y,v,g,b,k){return v===null||v.tag!==7?(v=qi(g,y.mode,b,k),v.return=y,v):(v=o(v,g),v.return=y,v)}function l(y,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dp(""+v,y.mode,g),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ku:return g=Lc(v.type,v.key,v.props,null,y.mode,g),g.ref=qs(y,null,v),g.return=y,g;case Na:return v=Sp(v,y.mode,g),v.return=y,v;case Bo:var b=v._init;return l(y,b(v._payload),g)}if(tl(v)||Bs(v))return v=qi(v,y.mode,g,null),v.return=y,v;ic(y,v)}return null}function f(y,v,g,b){var k=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:c(y,v,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ku:return g.key===k?d(y,v,g,b):null;case Na:return g.key===k?u(y,v,g,b):null;case Bo:return k=g._init,f(y,v,k(g._payload),b)}if(tl(g)||Bs(g))return k!==null?null:a(y,v,g,b,null);ic(y,g)}return null}function p(y,v,g,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(g)||null,c(v,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ku:return y=y.get(b.key===null?g:b.key)||null,d(v,y,b,k);case Na:return y=y.get(b.key===null?g:b.key)||null,u(v,y,b,k);case Bo:var E=b._init;return p(y,v,g,E(b._payload),k)}if(tl(b)||Bs(b))return y=y.get(g)||null,a(v,y,b,k,null);ic(v,b)}return null}function h(y,v,g,b){for(var k=null,E=null,C=v,S=v=0,T=null;C!==null&&S<g.length;S++){C.index>S?(T=C,C=null):T=C.sibling;var P=f(y,C,g[S],b);if(P===null){C===null&&(C=T);break}e&&C&&P.alternate===null&&t(y,C),v=i(P,v,S),E===null?k=P:E.sibling=P,E=P,C=T}if(S===g.length)return r(y,C),ft&&Mi(y,S),k;if(C===null){for(;S<g.length;S++)C=l(y,g[S],b),C!==null&&(v=i(C,v,S),E===null?k=C:E.sibling=C,E=C);return ft&&Mi(y,S),k}for(C=n(y,C);S<g.length;S++)T=p(C,y,S,g[S],b),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?S:T.key),v=i(T,v,S),E===null?k=T:E.sibling=T,E=T);return e&&C.forEach(function(L){return t(y,L)}),ft&&Mi(y,S),k}function m(y,v,g,b){var k=Bs(g);if(typeof k!="function")throw Error(ee(150));if(g=k.call(g),g==null)throw Error(ee(151));for(var E=k=null,C=v,S=v=0,T=null,P=g.next();C!==null&&!P.done;S++,P=g.next()){C.index>S?(T=C,C=null):T=C.sibling;var L=f(y,C,P.value,b);if(L===null){C===null&&(C=T);break}e&&C&&L.alternate===null&&t(y,C),v=i(L,v,S),E===null?k=L:E.sibling=L,E=L,C=T}if(P.done)return r(y,C),ft&&Mi(y,S),k;if(C===null){for(;!P.done;S++,P=g.next())P=l(y,P.value,b),P!==null&&(v=i(P,v,S),E===null?k=P:E.sibling=P,E=P);return ft&&Mi(y,S),k}for(C=n(y,C);!P.done;S++,P=g.next())P=p(C,y,S,P.value,b),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?S:P.key),v=i(P,v,S),E===null?k=P:E.sibling=P,E=P);return e&&C.forEach(function(M){return t(y,M)}),ft&&Mi(y,S),k}function w(y,v,g,b){if(typeof g=="object"&&g!==null&&g.type===Ma&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ku:e:{for(var k=g.key,E=v;E!==null;){if(E.key===k){if(k=g.type,k===Ma){if(E.tag===7){r(y,E.sibling),v=o(E,g.props.children),v.return=y,y=v;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Bo&&D0(k)===E.type){r(y,E.sibling),v=o(E,g.props),v.ref=qs(y,E,g),v.return=y,y=v;break e}r(y,E);break}else t(y,E);E=E.sibling}g.type===Ma?(v=qi(g.props.children,y.mode,b,g.key),v.return=y,y=v):(b=Lc(g.type,g.key,g.props,null,y.mode,b),b.ref=qs(y,v,g),b.return=y,y=b)}return s(y);case Na:e:{for(E=g.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(y,v.sibling),v=o(v,g.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=Sp(g,y.mode,b),v.return=y,y=v}return s(y);case Bo:return E=g._init,w(y,v,E(g._payload),b)}if(tl(g))return h(y,v,g,b);if(Bs(g))return m(y,v,g,b);ic(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(r(y,v.sibling),v=o(v,g),v.return=y,y=v):(r(y,v),v=Dp(g,y.mode,b),v.return=y,y=v),s(y)):r(y,v)}return w}var os=nb(!0),rb=nb(!1),ad=mi(null),sd=null,Ua=null,Um=null;function Wm(){Um=Ua=sd=null}function Ym(e){var t=ad.current;lt(ad),e._currentValue=t}function Eh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ga(e,t){sd=e,Um=Ua=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function lr(e){var t=e._currentValue;if(Um!==e)if(e={context:e,memoizedValue:t,next:null},Ua===null){if(sd===null)throw Error(ee(308));Ua=e,sd.dependencies={lanes:0,firstContext:e}}else Ua=Ua.next=e;return t}var Bi=null;function qm(e){Bi===null?Bi=[e]:Bi.push(e)}function ob(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,qm(t)):(r.next=o.next,o.next=r),t.interleaved=r,_o(e,n)}function _o(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ho=!1;function Vm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ib(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ho(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ei(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,We&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,_o(e,r)}return o=n.interleaved,o===null?(t.next=t,qm(n)):(t.next=o.next,o.next=t),n.interleaved=t,_o(e,r)}function Pc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Im(e,r)}}function S0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ld(e,t,r,n){var o=e.updateQueue;Ho=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var d=c,u=d.next;d.next=null,s===null?i=u:s.next=u,s=d;var a=e.alternate;a!==null&&(a=a.updateQueue,c=a.lastBaseUpdate,c!==s&&(c===null?a.firstBaseUpdate=u:c.next=u,a.lastBaseUpdate=d))}if(i!==null){var l=o.baseState;s=0,a=u=d=null,c=i;do{var f=c.lane,p=c.eventTime;if((n&f)===f){a!==null&&(a=a.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var h=e,m=c;switch(f=t,p=r,m.tag){case 1:if(h=m.payload,typeof h=="function"){l=h.call(p,l,f);break e}l=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,f=typeof h=="function"?h.call(p,l,f):h,f==null)break e;l=_t({},l,f);break e;case 2:Ho=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[c]:f.push(c))}else p={eventTime:p,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},a===null?(u=a=p,d=l):a=a.next=p,s|=f;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;f=c,c=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(1);if(a===null&&(d=l),o.baseState=d,o.firstBaseUpdate=u,o.lastBaseUpdate=a,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);ta|=s,e.lanes=s,e.memoizedState=l}}function T0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(ee(191,o));o.call(n)}}}var su={},Xr=mi(su),Fl=mi(su),$l=mi(su);function Hi(e){if(e===su)throw Error(ee(174));return e}function Qm(e,t){switch(it($l,t),it(Fl,e),it(Xr,su),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ih(t,e)}lt(Xr),it(Xr,t)}function is(){lt(Xr),lt(Fl),lt($l)}function ab(e){Hi($l.current);var t=Hi(Xr.current),r=ih(t,e.type);t!==r&&(it(Fl,e),it(Xr,r))}function Km(e){Fl.current===e&&(lt(Xr),lt(Fl))}var yt=mi(0);function ud(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bp=[];function Gm(){for(var e=0;e<bp.length;e++)bp[e]._workInProgressVersionPrimary=null;bp.length=0}var Oc=Eo.ReactCurrentDispatcher,_p=Eo.ReactCurrentBatchConfig,ea=0,bt=null,zt=null,Wt=null,cd=!1,gl=!1,zl=0,tS=0;function rn(){throw Error(ee(321))}function jm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ir(e[r],t[r]))return!1;return!0}function Xm(e,t,r,n,o,i){if(ea=i,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oc.current=e===null||e.memoizedState===null?iS:aS,e=r(n,o),gl){i=0;do{if(gl=!1,zl=0,25<=i)throw Error(ee(301));i+=1,Wt=zt=null,t.updateQueue=null,Oc.current=sS,e=r(n,o)}while(gl)}if(Oc.current=dd,t=zt!==null&&zt.next!==null,ea=0,Wt=zt=bt=null,cd=!1,t)throw Error(ee(300));return e}function Zm(){var e=zl!==0;return zl=0,e}function Hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?bt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function ur(){if(zt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=Wt===null?bt.memoizedState:Wt.next;if(t!==null)Wt=t,zt=e;else{if(e===null)throw Error(ee(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Wt===null?bt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function Bl(e,t){return typeof t=="function"?t(e):t}function kp(e){var t=ur(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=zt,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var c=s=null,d=null,u=i;do{var a=u.lane;if((ea&a)===a)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var l={lane:a,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(c=d=l,s=n):d=d.next=l,bt.lanes|=a,ta|=a}u=u.next}while(u!==null&&u!==i);d===null?s=n:d.next=c,Ir(n,t.memoizedState)||(Rn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,bt.lanes|=i,ta|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xp(e){var t=ur(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ir(i,t.memoizedState)||(Rn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function sb(){}function lb(e,t){var r=bt,n=ur(),o=t(),i=!Ir(n.memoizedState,o);if(i&&(n.memoizedState=o,Rn=!0),n=n.queue,Jm(db.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,Hl(9,cb.bind(null,r,n,o,t),void 0,null),Qt===null)throw Error(ee(349));ea&30||ub(r,t,o)}return o}function ub(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cb(e,t,r,n){t.value=r,t.getSnapshot=n,fb(t)&&pb(e)}function db(e,t,r){return r(function(){fb(t)&&pb(e)})}function fb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ir(e,r)}catch{return!0}}function pb(e){var t=_o(e,1);t!==null&&Pr(t,e,1,-1)}function P0(e){var t=Hr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},t.queue=e,e=e.dispatch=oS.bind(null,bt,e),[t.memoizedState,e]}function Hl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hb(){return ur().memoizedState}function Ic(e,t,r,n){var o=Hr();bt.flags|=e,o.memoizedState=Hl(1|t,r,void 0,n===void 0?null:n)}function Zd(e,t,r,n){var o=ur();n=n===void 0?null:n;var i=void 0;if(zt!==null){var s=zt.memoizedState;if(i=s.destroy,n!==null&&jm(n,s.deps)){o.memoizedState=Hl(t,r,i,n);return}}bt.flags|=e,o.memoizedState=Hl(1|t,r,i,n)}function O0(e,t){return Ic(8390656,8,e,t)}function Jm(e,t){return Zd(2048,8,e,t)}function mb(e,t){return Zd(4,2,e,t)}function gb(e,t){return Zd(4,4,e,t)}function vb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yb(e,t,r){return r=r!=null?r.concat([e]):null,Zd(4,4,vb.bind(null,t,e),r)}function eg(){}function wb(e,t){var r=ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bb(e,t){var r=ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _b(e,t,r){return ea&21?(Ir(r,t)||(r=D1(),bt.lanes|=r,ta|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=r)}function nS(e,t){var r=tt;tt=r!==0&&4>r?r:4,e(!0);var n=_p.transition;_p.transition={};try{e(!1),t()}finally{tt=r,_p.transition=n}}function kb(){return ur().memoizedState}function rS(e,t,r){var n=ni(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xb(e))Cb(t,r);else if(r=ob(e,t,r,n),r!==null){var o=_n();Pr(r,e,n,o),Eb(r,t,n)}}function oS(e,t,r){var n=ni(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xb(e))Cb(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,c=i(s,r);if(o.hasEagerState=!0,o.eagerState=c,Ir(c,s)){var d=t.interleaved;d===null?(o.next=o,qm(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}r=ob(e,t,o,n),r!==null&&(o=_n(),Pr(r,e,n,o),Eb(r,t,n))}}function xb(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function Cb(e,t){gl=cd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Eb(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Im(e,r)}}var dd={readContext:lr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},iS={readContext:lr,useCallback:function(e,t){return Hr().memoizedState=[e,t===void 0?null:t],e},useContext:lr,useEffect:O0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ic(4194308,4,vb.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ic(4,2,e,t)},useMemo:function(e,t){var r=Hr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Hr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rS.bind(null,bt,e),[n.memoizedState,e]},useRef:function(e){var t=Hr();return e={current:e},t.memoizedState=e},useState:P0,useDebugValue:eg,useDeferredValue:function(e){return Hr().memoizedState=e},useTransition:function(){var e=P0(!1),t=e[0];return e=nS.bind(null,e[1]),Hr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=bt,o=Hr();if(ft){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),Qt===null)throw Error(ee(349));ea&30||ub(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,O0(db.bind(null,n,i,e),[e]),n.flags|=2048,Hl(9,cb.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Hr(),t=Qt.identifierPrefix;if(ft){var r=po,n=fo;r=(n&~(1<<32-Tr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tS++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aS={readContext:lr,useCallback:wb,useContext:lr,useEffect:Jm,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:bb,useReducer:kp,useRef:hb,useState:function(){return kp(Bl)},useDebugValue:eg,useDeferredValue:function(e){var t=ur();return _b(t,zt.memoizedState,e)},useTransition:function(){var e=kp(Bl)[0],t=ur().memoizedState;return[e,t]},useMutableSource:sb,useSyncExternalStore:lb,useId:kb,unstable_isNewReconciler:!1},sS={readContext:lr,useCallback:wb,useContext:lr,useEffect:Jm,useImperativeHandle:yb,useInsertionEffect:mb,useLayoutEffect:gb,useMemo:bb,useReducer:xp,useRef:hb,useState:function(){return xp(Bl)},useDebugValue:eg,useDeferredValue:function(e){var t=ur();return zt===null?t.memoizedState=e:_b(t,zt.memoizedState,e)},useTransition:function(){var e=xp(Bl)[0],t=ur().memoizedState;return[e,t]},useMutableSource:sb,useSyncExternalStore:lb,useId:kb,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=_t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jd={isMounted:function(e){return(e=e._reactInternals)?ua(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_n(),o=ni(e),i=ho(n,o);i.payload=t,r!=null&&(i.callback=r),t=ei(e,i,o),t!==null&&(Pr(t,e,o,n),Pc(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_n(),o=ni(e),i=ho(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ei(e,i,o),t!==null&&(Pr(t,e,o,n),Pc(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_n(),n=ni(e),o=ho(r,n);o.tag=2,t!=null&&(o.callback=t),t=ei(e,o,n),t!==null&&(Pr(t,e,n,r),Pc(t,e,n))}};function I0(e,t,r,n,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Nl(r,n)||!Nl(o,i):!0}function Db(e,t,r){var n=!1,o=si,i=t.contextType;return typeof i=="object"&&i!==null?i=lr(i):(o=Mn(t)?Zi:cn.current,n=t.contextTypes,i=(n=n!=null)?ns(e,o):si),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function R0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jd.enqueueReplaceState(t,t.state,null)}function Sh(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Vm(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=lr(i):(i=Mn(t)?Zi:cn.current,o.context=ns(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dh(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Jd.enqueueReplaceState(o,o.state,null),ld(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function as(e,t){try{var r="",n=t;do r+=LE(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Cp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Th(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lS=typeof WeakMap=="function"?WeakMap:Map;function Sb(e,t,r){r=ho(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pd||(pd=!0,$h=n),Th(e,t)},r}function Tb(e,t,r){r=ho(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Th(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Th(e,t),typeof n!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function N0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lS;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=kS.bind(null,e,t,r),t.then(e,e))}function M0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L0(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ho(-1,1),t.tag=2,ei(r,t,1))),r.lanes|=1),e)}var uS=Eo.ReactCurrentOwner,Rn=!1;function hn(e,t,r,n){t.child=e===null?rb(t,null,r,n):os(t,e.child,r,n)}function A0(e,t,r,n,o){r=r.render;var i=t.ref;return Ga(t,o),n=Xm(e,t,r,n,i,o),r=Zm(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ko(e,t,o)):(ft&&r&&zm(t),t.flags|=1,hn(e,t,n,o),t.child)}function F0(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!lg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Pb(e,t,i,n,o)):(e=Lc(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Nl,r(s,n)&&e.ref===t.ref)return ko(e,t,o)}return t.flags|=1,e=ri(i,n),e.ref=t.ref,e.return=t,t.child=e}function Pb(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(Nl(i,n)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,ko(e,t,o)}return Ph(e,t,r,n,o)}function Ob(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ya,$n),$n|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(Ya,$n),$n|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,it(Ya,$n),$n|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,it(Ya,$n),$n|=n;return hn(e,t,o,r),t.child}function Ib(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ph(e,t,r,n,o){var i=Mn(r)?Zi:cn.current;return i=ns(t,i),Ga(t,o),r=Xm(e,t,r,n,i,o),n=Zm(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ko(e,t,o)):(ft&&n&&zm(t),t.flags|=1,hn(e,t,r,o),t.child)}function $0(e,t,r,n,o){if(Mn(r)){var i=!0;rd(t)}else i=!1;if(Ga(t,o),t.stateNode===null)Rc(e,t),Db(t,r,n),Sh(t,r,n,o),n=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var d=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=Mn(r)?Zi:cn.current,u=ns(t,u));var a=r.getDerivedStateFromProps,l=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function";l||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==n||d!==u)&&R0(t,s,n,u),Ho=!1;var f=t.memoizedState;s.state=f,ld(t,n,s,o),d=t.memoizedState,c!==n||f!==d||Nn.current||Ho?(typeof a=="function"&&(Dh(t,r,a,n),d=t.memoizedState),(c=Ho||I0(t,r,c,n,f,d,u))?(l||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),s.props=n,s.state=d,s.context=u,n=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,ib(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Cr(t.type,c),s.props=u,l=t.pendingProps,f=s.context,d=r.contextType,typeof d=="object"&&d!==null?d=lr(d):(d=Mn(r)?Zi:cn.current,d=ns(t,d));var p=r.getDerivedStateFromProps;(a=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==l||f!==d)&&R0(t,s,n,d),Ho=!1,f=t.memoizedState,s.state=f,ld(t,n,s,o);var h=t.memoizedState;c!==l||f!==h||Nn.current||Ho?(typeof p=="function"&&(Dh(t,r,p,n),h=t.memoizedState),(u=Ho||I0(t,r,u,n,f,h,d)||!1)?(a||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,h,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,h,d)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),s.props=n,s.state=h,s.context=d,n=u):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Oh(e,t,r,n,i,o)}function Oh(e,t,r,n,o,i){Ib(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return o&&x0(t,r,!1),ko(e,t,i);n=t.stateNode,uS.current=t;var c=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=os(t,e.child,null,i),t.child=os(t,null,c,i)):hn(e,t,c,i),t.memoizedState=n.state,o&&x0(t,r,!0),t.child}function Rb(e){var t=e.stateNode;t.pendingContext?k0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k0(e,t.context,!1),Qm(e,t.containerInfo)}function z0(e,t,r,n,o){return rs(),Hm(o),t.flags|=256,hn(e,t,r,n),t.child}var Ih={dehydrated:null,treeContext:null,retryLane:0};function Rh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nb(e,t,r){var n=t.pendingProps,o=yt.current,i=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),it(yt,o&1),e===null)return Ch(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=nf(s,n,0,null),e=qi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Rh(r),t.memoizedState=Ih,e):tg(t,s));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return cS(e,t,s,n,c,o,r);if(i){i=n.fallback,s=t.mode,o=e.child,c=o.sibling;var d={mode:"hidden",children:n.children};return!(s&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=ri(o,d),n.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=ri(c,i):(i=qi(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Rh(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Ih,n}return i=e.child,e=i.sibling,n=ri(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function tg(e,t){return t=nf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ac(e,t,r,n){return n!==null&&Hm(n),os(t,e.child,null,r),e=tg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cS(e,t,r,n,o,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Cp(Error(ee(422))),ac(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=nf({mode:"visible",children:n.children},o,0,null),i=qi(i,o,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&os(t,e.child,null,s),t.child.memoizedState=Rh(s),t.memoizedState=Ih,i);if(!(t.mode&1))return ac(e,t,s,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(ee(419)),n=Cp(i,n,void 0),ac(e,t,s,n)}if(c=(s&e.childLanes)!==0,Rn||c){if(n=Qt,n!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,_o(e,o),Pr(n,e,o,-1))}return sg(),n=Cp(Error(ee(421))),ac(e,t,s,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=xS.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Hn=Jo(o.nextSibling),Wn=t,ft=!0,Dr=null,e!==null&&(nr[rr++]=fo,nr[rr++]=po,nr[rr++]=Ji,fo=e.id,po=e.overflow,Ji=t),t=tg(t,n.children),t.flags|=4096,t)}function B0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Eh(e.return,t,r)}function Ep(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Mb(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(hn(e,t,n.children,r),n=yt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B0(e,r,t);else if(e.tag===19)B0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(it(yt,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&ud(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Ep(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ud(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Ep(t,!0,r,null,i);break;case"together":Ep(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ko(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=ri(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ri(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dS(e,t,r){switch(t.tag){case 3:Rb(t),rs();break;case 5:ab(t);break;case 1:Mn(t.type)&&rd(t);break;case 4:Qm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;it(ad,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(it(yt,yt.current&1),t.flags|=128,null):r&t.child.childLanes?Nb(e,t,r):(it(yt,yt.current&1),e=ko(e,t,r),e!==null?e.sibling:null);it(yt,yt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Mb(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),it(yt,yt.current),n)break;return null;case 22:case 23:return t.lanes=0,Ob(e,t,r)}return ko(e,t,r)}var Lb,Nh,Ab,Fb;Lb=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nh=function(){};Ab=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Hi(Xr.current);var i=null;switch(r){case"input":o=th(e,o),n=th(e,n),i=[];break;case"select":o=_t({},o,{value:void 0}),n=_t({},n,{value:void 0}),i=[];break;case"textarea":o=oh(e,o),n=oh(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=td)}ah(r,n);var s;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var c=o[u];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var d=n[u];if(c=o?.[u],n.hasOwnProperty(u)&&d!==c&&(d!=null||c!=null))if(u==="style")if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(r||(r={}),r[s]=d[s])}else r||(i||(i=[]),i.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dl.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&st("scroll",e),i||c===d||(i=[])):(i=i||[]).push(u,d))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Fb=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vs(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function on(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fS(e,t,r){var n=t.pendingProps;switch(Bm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(t),null;case 1:return Mn(t.type)&&nd(),on(t),null;case 3:return n=t.stateNode,is(),lt(Nn),lt(cn),Gm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(oc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dr!==null&&(Hh(Dr),Dr=null))),Nh(e,t),on(t),null;case 5:Km(t);var o=Hi($l.current);if(r=t.type,e!==null&&t.stateNode!=null)Ab(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return on(t),null}if(e=Hi(Xr.current),oc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[qr]=t,n[Al]=i,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(o=0;o<rl.length;o++)st(rl[o],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":Gv(n,i),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},st("invalid",n);break;case"textarea":Xv(n,i),st("invalid",n)}ah(r,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var c=i[s];s==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&rc(n.textContent,c,e),o=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&rc(n.textContent,c,e),o=["children",""+c]):Dl.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&st("scroll",n)}switch(r){case"input":Gu(n),jv(n,i,!0);break;case"textarea":Gu(n),Zv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=td)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[qr]=t,e[Al]=n,Lb(e,t,!1,!1),t.stateNode=e;e:{switch(s=sh(r,n),r){case"dialog":st("cancel",e),st("close",e),o=n;break;case"iframe":case"object":case"embed":st("load",e),o=n;break;case"video":case"audio":for(o=0;o<rl.length;o++)st(rl[o],e);o=n;break;case"source":st("error",e),o=n;break;case"img":case"image":case"link":st("error",e),st("load",e),o=n;break;case"details":st("toggle",e),o=n;break;case"input":Gv(e,n),o=th(e,n),st("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=_t({},n,{value:void 0}),st("invalid",e);break;case"textarea":Xv(e,n),o=oh(e,n),st("invalid",e);break;default:o=n}ah(r,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?h1(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&f1(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Sl(e,d):typeof d=="number"&&Sl(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dl.hasOwnProperty(i)?d!=null&&i==="onScroll"&&st("scroll",e):d!=null&&Em(e,i,d,s))}switch(r){case"input":Gu(e),jv(e,n,!1);break;case"textarea":Gu(e),Zv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ai(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?qa(e,!!n.multiple,i,!1):n.defaultValue!=null&&qa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=td)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return on(t),null;case 6:if(e&&t.stateNode!=null)Fb(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=Hi($l.current),Hi(Xr.current),oc(t)){if(n=t.stateNode,r=t.memoizedProps,n[qr]=t,(i=n.nodeValue!==r)&&(e=Wn,e!==null))switch(e.tag){case 3:rc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qr]=t,t.stateNode=n}return on(t),null;case 13:if(lt(yt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&Hn!==null&&t.mode&1&&!(t.flags&128))tb(),rs(),t.flags|=98560,i=!1;else if(i=oc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[qr]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;on(t),i=!1}else Dr!==null&&(Hh(Dr),Dr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?Ht===0&&(Ht=3):sg())),t.updateQueue!==null&&(t.flags|=4),on(t),null);case 4:return is(),Nh(e,t),e===null&&Ml(t.stateNode.containerInfo),on(t),null;case 10:return Ym(t.type._context),on(t),null;case 17:return Mn(t.type)&&nd(),on(t),null;case 19:if(lt(yt),i=t.memoizedState,i===null)return on(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Vs(i,!1);else{if(Ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ud(e),s!==null){for(t.flags|=128,Vs(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return it(yt,yt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tt()>ss&&(t.flags|=128,n=!0,Vs(i,!1),t.lanes=4194304)}else{if(!n)if(e=ud(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ft)return on(t),null}else 2*Tt()-i.renderingStartTime>ss&&r!==1073741824&&(t.flags|=128,n=!0,Vs(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,r=yt.current,it(yt,n?r&1|2:r&1),t):(on(t),null);case 22:case 23:return ag(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$n&1073741824&&(on(t),t.subtreeFlags&6&&(t.flags|=8192)):on(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function pS(e,t){switch(Bm(t),t.tag){case 1:return Mn(t.type)&&nd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),lt(Nn),lt(cn),Gm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Km(t),null;case 13:if(lt(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(yt),null;case 4:return is(),null;case 10:return Ym(t.type._context),null;case 22:case 23:return ag(),null;case 24:return null;default:return null}}var sc=!1,ln=!1,hS=typeof WeakSet=="function"?WeakSet:Set,de=null;function Wa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(e,t,n)}else r.current=null}function Mh(e,t,r){try{r()}catch(n){xt(e,t,n)}}var H0=!1;function mS(e,t){if(vh=Zc,e=U1(),$m(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,c=-1,d=-1,u=0,a=0,l=e,f=null;t:for(;;){for(var p;l!==r||o!==0&&l.nodeType!==3||(c=s+o),l!==i||n!==0&&l.nodeType!==3||(d=s+n),l.nodeType===3&&(s+=l.nodeValue.length),(p=l.firstChild)!==null;)f=l,l=p;for(;;){if(l===e)break t;if(f===r&&++u===o&&(c=s),f===i&&++a===n&&(d=s),(p=l.nextSibling)!==null)break;l=f,f=l.parentNode}l=p}r=c===-1||d===-1?null:{start:c,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(yh={focusedElem:e,selectionRange:r},Zc=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,w=h.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Cr(t.type,m),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(b){xt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return h=H0,H0=!1,h}function vl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Mh(t,r,i)}o=o.next}while(o!==n)}}function ef(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Lh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $b(e){var t=e.alternate;t!==null&&(e.alternate=null,$b(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qr],delete t[Al],delete t[_h],delete t[XD],delete t[ZD])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zb(e){return e.tag===5||e.tag===3||e.tag===4}function U0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ah(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=td));else if(n!==4&&(e=e.child,e!==null))for(Ah(e,t,r),e=e.sibling;e!==null;)Ah(e,t,r),e=e.sibling}function Fh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Fh(e,t,r),e=e.sibling;e!==null;)Fh(e,t,r),e=e.sibling}var Jt=null,Er=!1;function $o(e,t,r){for(r=r.child;r!==null;)Bb(e,t,r),r=r.sibling}function Bb(e,t,r){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Vd,r)}catch{}switch(r.tag){case 5:ln||Wa(r,t);case 6:var n=Jt,o=Er;Jt=null,$o(e,t,r),Jt=n,Er=o,Jt!==null&&(Er?(e=Jt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jt.removeChild(r.stateNode));break;case 18:Jt!==null&&(Er?(e=Jt,r=r.stateNode,e.nodeType===8?yp(e.parentNode,r):e.nodeType===1&&yp(e,r),Il(e)):yp(Jt,r.stateNode));break;case 4:n=Jt,o=Er,Jt=r.stateNode.containerInfo,Er=!0,$o(e,t,r),Jt=n,Er=o;break;case 0:case 11:case 14:case 15:if(!ln&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Mh(r,t,s),o=o.next}while(o!==n)}$o(e,t,r);break;case 1:if(!ln&&(Wa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){xt(r,t,c)}$o(e,t,r);break;case 21:$o(e,t,r);break;case 22:r.mode&1?(ln=(n=ln)||r.memoizedState!==null,$o(e,t,r),ln=n):$o(e,t,r);break;default:$o(e,t,r)}}function W0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hS),t.forEach(function(n){var o=CS.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:Jt=c.stateNode,Er=!1;break e;case 3:Jt=c.stateNode.containerInfo,Er=!0;break e;case 4:Jt=c.stateNode.containerInfo,Er=!0;break e}c=c.return}if(Jt===null)throw Error(ee(160));Bb(i,s,o),Jt=null,Er=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(u){xt(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hb(t,e),t=t.sibling}function Hb(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xr(t,e),Br(e),n&4){try{vl(3,e,e.return),ef(3,e)}catch(m){xt(e,e.return,m)}try{vl(5,e,e.return)}catch(m){xt(e,e.return,m)}}break;case 1:xr(t,e),Br(e),n&512&&r!==null&&Wa(r,r.return);break;case 5:if(xr(t,e),Br(e),n&512&&r!==null&&Wa(r,r.return),e.flags&32){var o=e.stateNode;try{Sl(o,"")}catch(m){xt(e,e.return,m)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&u1(o,i),sh(c,s);var u=sh(c,i);for(s=0;s<d.length;s+=2){var a=d[s],l=d[s+1];a==="style"?h1(o,l):a==="dangerouslySetInnerHTML"?f1(o,l):a==="children"?Sl(o,l):Em(o,a,l,u)}switch(c){case"input":nh(o,i);break;case"textarea":c1(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?qa(o,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?qa(o,!!i.multiple,i.defaultValue,!0):qa(o,!!i.multiple,i.multiple?[]:"",!1))}o[Al]=i}catch(m){xt(e,e.return,m)}}break;case 6:if(xr(t,e),Br(e),n&4){if(e.stateNode===null)throw Error(ee(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){xt(e,e.return,m)}}break;case 3:if(xr(t,e),Br(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(m){xt(e,e.return,m)}break;case 4:xr(t,e),Br(e);break;case 13:xr(t,e),Br(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(og=Tt())),n&4&&W0(e);break;case 22:if(a=r!==null&&r.memoizedState!==null,e.mode&1?(ln=(u=ln)||a,xr(t,e),ln=u):xr(t,e),Br(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!a&&e.mode&1)for(de=e,a=e.child;a!==null;){for(l=de=a;de!==null;){switch(f=de,p=f.child,f.tag){case 0:case 11:case 14:case 15:vl(4,f,f.return);break;case 1:Wa(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(m){xt(n,r,m)}}break;case 5:Wa(f,f.return);break;case 22:if(f.memoizedState!==null){q0(l);continue}}p!==null?(p.return=f,de=p):q0(l)}a=a.sibling}e:for(a=null,l=e;;){if(l.tag===5){if(a===null){a=l;try{o=l.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=l.stateNode,d=l.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=p1("display",s))}catch(m){xt(e,e.return,m)}}}else if(l.tag===6){if(a===null)try{l.stateNode.nodeValue=u?"":l.memoizedProps}catch(m){xt(e,e.return,m)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===e)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;a===l&&(a=null),l=l.return}a===l&&(a=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:xr(t,e),Br(e),n&4&&W0(e);break;case 21:break;default:xr(t,e),Br(e)}}function Br(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zb(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Sl(o,""),n.flags&=-33);var i=U0(e);Fh(e,i,o);break;case 3:case 4:var s=n.stateNode.containerInfo,c=U0(e);Ah(e,c,s);break;default:throw Error(ee(161))}}catch(d){xt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gS(e,t,r){de=e,Ub(e)}function Ub(e,t,r){for(var n=(e.mode&1)!==0;de!==null;){var o=de,i=o.child;if(o.tag===22&&n){var s=o.memoizedState!==null||sc;if(!s){var c=o.alternate,d=c!==null&&c.memoizedState!==null||ln;c=sc;var u=ln;if(sc=s,(ln=d)&&!u)for(de=o;de!==null;)s=de,d=s.child,s.tag===22&&s.memoizedState!==null?V0(o):d!==null?(d.return=s,de=d):V0(o);for(;i!==null;)de=i,Ub(i),i=i.sibling;de=o,sc=c,ln=u}Y0(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,de=i):Y0(e)}}function Y0(e){for(;de!==null;){var t=de;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ln||ef(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ln)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Cr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&T0(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}T0(t,s,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var a=u.memoizedState;if(a!==null){var l=a.dehydrated;l!==null&&Il(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}ln||t.flags&512&&Lh(t)}catch(f){xt(t,t.return,f)}}if(t===e){de=null;break}if(r=t.sibling,r!==null){r.return=t.return,de=r;break}de=t.return}}function q0(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var r=t.sibling;if(r!==null){r.return=t.return,de=r;break}de=t.return}}function V0(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ef(4,t)}catch(d){xt(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(d){xt(t,o,d)}}var i=t.return;try{Lh(t)}catch(d){xt(t,i,d)}break;case 5:var s=t.return;try{Lh(t)}catch(d){xt(t,s,d)}}}catch(d){xt(t,t.return,d)}if(t===e){de=null;break}var c=t.sibling;if(c!==null){c.return=t.return,de=c;break}de=t.return}}var vS=Math.ceil,fd=Eo.ReactCurrentDispatcher,ng=Eo.ReactCurrentOwner,ar=Eo.ReactCurrentBatchConfig,We=0,Qt=null,Lt=null,en=0,$n=0,Ya=mi(0),Ht=0,Ul=null,ta=0,tf=0,rg=0,yl=null,On=null,og=0,ss=1/0,lo=null,pd=!1,$h=null,ti=null,lc=!1,Vo=null,hd=0,wl=0,zh=null,Nc=-1,Mc=0;function _n(){return We&6?Tt():Nc!==-1?Nc:Nc=Tt()}function ni(e){return e.mode&1?We&2&&en!==0?en&-en:eS.transition!==null?(Mc===0&&(Mc=D1()),Mc):(e=tt,e!==0||(e=window.event,e=e===void 0?16:N1(e.type)),e):1}function Pr(e,t,r,n){if(50<wl)throw wl=0,zh=null,Error(ee(185));ou(e,r,n),(!(We&2)||e!==Qt)&&(e===Qt&&(!(We&2)&&(tf|=r),Ht===4&&Wo(e,en)),Ln(e,n),r===1&&We===0&&!(t.mode&1)&&(ss=Tt()+500,Xd&&gi()))}function Ln(e,t){var r=e.callbackNode;eD(e,t);var n=Xc(e,e===Qt?en:0);if(n===0)r!==null&&t0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&t0(r),t===1)e.tag===0?JD(Q0.bind(null,e)):Z1(Q0.bind(null,e)),GD(function(){!(We&6)&&gi()}),r=null;else{switch(S1(n)){case 1:r=Om;break;case 4:r=C1;break;case 16:r=jc;break;case 536870912:r=E1;break;default:r=jc}r=jb(r,Wb.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Wb(e,t){if(Nc=-1,Mc=0,We&6)throw Error(ee(327));var r=e.callbackNode;if(ja()&&e.callbackNode!==r)return null;var n=Xc(e,e===Qt?en:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=md(e,n);else{t=n;var o=We;We|=2;var i=qb();(Qt!==e||en!==t)&&(lo=null,ss=Tt()+500,Yi(e,t));do try{bS();break}catch(c){Yb(e,c)}while(1);Wm(),fd.current=i,We=o,Lt!==null?t=0:(Qt=null,en=0,t=Ht)}if(t!==0){if(t===2&&(o=fh(e),o!==0&&(n=o,t=Bh(e,o))),t===1)throw r=Ul,Yi(e,0),Wo(e,n),Ln(e,Tt()),r;if(t===6)Wo(e,n);else{if(o=e.current.alternate,!(n&30)&&!yS(o)&&(t=md(e,n),t===2&&(i=fh(e),i!==0&&(n=i,t=Bh(e,i))),t===1))throw r=Ul,Yi(e,0),Wo(e,n),Ln(e,Tt()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:Li(e,On,lo);break;case 3:if(Wo(e,n),(n&130023424)===n&&(t=og+500-Tt(),10<t)){if(Xc(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){_n(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=bh(Li.bind(null,e,On,lo),t);break}Li(e,On,lo);break;case 4:if(Wo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-Tr(n);i=1<<s,s=t[s],s>o&&(o=s),n&=~i}if(n=o,n=Tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vS(n/1960))-n,10<n){e.timeoutHandle=bh(Li.bind(null,e,On,lo),n);break}Li(e,On,lo);break;case 5:Li(e,On,lo);break;default:throw Error(ee(329))}}}return Ln(e,Tt()),e.callbackNode===r?Wb.bind(null,e):null}function Bh(e,t){var r=yl;return e.current.memoizedState.isDehydrated&&(Yi(e,t).flags|=256),e=md(e,t),e!==2&&(t=On,On=r,t!==null&&Hh(t)),e}function Hh(e){On===null?On=e:On.push.apply(On,e)}function yS(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!Ir(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wo(e,t){for(t&=~rg,t&=~tf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Tr(t),n=1<<r;e[r]=-1,t&=~n}}function Q0(e){if(We&6)throw Error(ee(327));ja();var t=Xc(e,0);if(!(t&1))return Ln(e,Tt()),null;var r=md(e,t);if(e.tag!==0&&r===2){var n=fh(e);n!==0&&(t=n,r=Bh(e,n))}if(r===1)throw r=Ul,Yi(e,0),Wo(e,t),Ln(e,Tt()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Li(e,On,lo),Ln(e,Tt()),null}function ig(e,t){var r=We;We|=1;try{return e(t)}finally{We=r,We===0&&(ss=Tt()+500,Xd&&gi())}}function na(e){Vo!==null&&Vo.tag===0&&!(We&6)&&ja();var t=We;We|=1;var r=ar.transition,n=tt;try{if(ar.transition=null,tt=1,e)return e()}finally{tt=n,ar.transition=r,We=t,!(We&6)&&gi()}}function ag(){$n=Ya.current,lt(Ya)}function Yi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,KD(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(Bm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nd();break;case 3:is(),lt(Nn),lt(cn),Gm();break;case 5:Km(n);break;case 4:is();break;case 13:lt(yt);break;case 19:lt(yt);break;case 10:Ym(n.type._context);break;case 22:case 23:ag()}r=r.return}if(Qt=e,Lt=e=ri(e.current,null),en=$n=t,Ht=0,Ul=null,rg=tf=ta=0,On=yl=null,Bi!==null){for(t=0;t<Bi.length;t++)if(r=Bi[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=o,n.next=s}r.pending=n}Bi=null}return e}function Yb(e,t){do{var r=Lt;try{if(Wm(),Oc.current=dd,cd){for(var n=bt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}cd=!1}if(ea=0,Wt=zt=bt=null,gl=!1,zl=0,ng.current=null,r===null||r.return===null){Ht=1,Ul=t,Lt=null;break}e:{var i=e,s=r.return,c=r,d=t;if(t=en,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,a=c,l=a.tag;if(!(a.mode&1)&&(l===0||l===11||l===15)){var f=a.alternate;f?(a.updateQueue=f.updateQueue,a.memoizedState=f.memoizedState,a.lanes=f.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=M0(s);if(p!==null){p.flags&=-257,L0(p,s,c,i,t),p.mode&1&&N0(i,u,t),t=p,d=u;var h=t.updateQueue;if(h===null){var m=new Set;m.add(d),t.updateQueue=m}else h.add(d);break e}else{if(!(t&1)){N0(i,u,t),sg();break e}d=Error(ee(426))}}else if(ft&&c.mode&1){var w=M0(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),L0(w,s,c,i,t),Hm(as(d,c));break e}}i=d=as(d,c),Ht!==4&&(Ht=2),yl===null?yl=[i]:yl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Sb(i,d,t);S0(i,y);break e;case 1:c=d;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ti===null||!ti.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Tb(i,c,t);S0(i,b);break e}}i=i.return}while(i!==null)}Qb(r)}catch(k){t=k,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function qb(){var e=fd.current;return fd.current=dd,e===null?dd:e}function sg(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Qt===null||!(ta&268435455)&&!(tf&268435455)||Wo(Qt,en)}function md(e,t){var r=We;We|=2;var n=qb();(Qt!==e||en!==t)&&(lo=null,Yi(e,t));do try{wS();break}catch(o){Yb(e,o)}while(1);if(Wm(),We=r,fd.current=n,Lt!==null)throw Error(ee(261));return Qt=null,en=0,Ht}function wS(){for(;Lt!==null;)Vb(Lt)}function bS(){for(;Lt!==null&&!qE();)Vb(Lt)}function Vb(e){var t=Gb(e.alternate,e,$n);e.memoizedProps=e.pendingProps,t===null?Qb(e):Lt=t,ng.current=null}function Qb(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pS(r,t),r!==null){r.flags&=32767,Lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Lt=null;return}}else if(r=fS(r,t,$n),r!==null){Lt=r;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Ht===0&&(Ht=5)}function Li(e,t,r){var n=tt,o=ar.transition;try{ar.transition=null,tt=1,_S(e,t,r,n)}finally{ar.transition=o,tt=n}return null}function _S(e,t,r,n){do ja();while(Vo!==null);if(We&6)throw Error(ee(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(tD(e,i),e===Qt&&(Lt=Qt=null,en=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lc||(lc=!0,jb(jc,function(){return ja(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ar.transition,ar.transition=null;var s=tt;tt=1;var c=We;We|=4,ng.current=null,mS(e,r),Hb(r,e),HD(yh),Zc=!!vh,yh=vh=null,e.current=r,gS(r),VE(),We=c,tt=s,ar.transition=i}else e.current=r;if(lc&&(lc=!1,Vo=e,hd=o),i=e.pendingLanes,i===0&&(ti=null),GE(r.stateNode),Ln(e,Tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(pd)throw pd=!1,e=$h,$h=null,e;return hd&1&&e.tag!==0&&ja(),i=e.pendingLanes,i&1?e===zh?wl++:(wl=0,zh=e):wl=0,gi(),null}function ja(){if(Vo!==null){var e=S1(hd),t=ar.transition,r=tt;try{if(ar.transition=null,tt=16>e?16:e,Vo===null)var n=!1;else{if(e=Vo,Vo=null,hd=0,We&6)throw Error(ee(331));var o=We;for(We|=4,de=e.current;de!==null;){var i=de,s=i.child;if(de.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var u=c[d];for(de=u;de!==null;){var a=de;switch(a.tag){case 0:case 11:case 15:vl(8,a,i)}var l=a.child;if(l!==null)l.return=a,de=l;else for(;de!==null;){a=de;var f=a.sibling,p=a.return;if($b(a),a===u){de=null;break}if(f!==null){f.return=p,de=f;break}de=p}}}var h=i.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}de=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,de=s;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,de=y;break e}de=i.return}}var v=e.current;for(de=v;de!==null;){s=de;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,de=g;else e:for(s=v;de!==null;){if(c=de,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ef(9,c)}}catch(k){xt(c,c.return,k)}if(c===s){de=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,de=b;break e}de=c.return}}if(We=o,gi(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Vd,e)}catch{}n=!0}return n}finally{tt=r,ar.transition=t}}return!1}function K0(e,t,r){t=as(r,t),t=Sb(e,t,1),e=ei(e,t,1),t=_n(),e!==null&&(ou(e,1,t),Ln(e,t))}function xt(e,t,r){if(e.tag===3)K0(e,e,r);else for(;t!==null;){if(t.tag===3){K0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n))){e=as(r,e),e=Tb(t,e,1),t=ei(t,e,1),e=_n(),t!==null&&(ou(t,1,e),Ln(t,e));break}}t=t.return}}function kS(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_n(),e.pingedLanes|=e.suspendedLanes&r,Qt===e&&(en&r)===r&&(Ht===4||Ht===3&&(en&130023424)===en&&500>Tt()-og?Yi(e,0):rg|=r),Ln(e,t)}function Kb(e,t){t===0&&(e.mode&1?(t=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):t=1);var r=_n();e=_o(e,t),e!==null&&(ou(e,t,r),Ln(e,r))}function xS(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Kb(e,r)}function CS(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),Kb(e,r)}var Gb;Gb=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nn.current)Rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rn=!1,dS(e,t,r);Rn=!!(e.flags&131072)}else Rn=!1,ft&&t.flags&1048576&&J1(t,id,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rc(e,t),e=t.pendingProps;var o=ns(t,cn.current);Ga(t,r),o=Xm(null,t,n,e,o,r);var i=Zm();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mn(n)?(i=!0,rd(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Vm(t),o.updater=Jd,t.stateNode=o,o._reactInternals=t,Sh(t,n,e,r),t=Oh(null,t,n,!0,i,r)):(t.tag=0,ft&&i&&zm(t),hn(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rc(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=DS(n),e=Cr(n,e),o){case 0:t=Ph(null,t,n,e,r);break e;case 1:t=$0(null,t,n,e,r);break e;case 11:t=A0(null,t,n,e,r);break e;case 14:t=F0(null,t,n,Cr(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),Ph(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),$0(e,t,n,o,r);case 3:e:{if(Rb(t),e===null)throw Error(ee(387));n=t.pendingProps,i=t.memoizedState,o=i.element,ib(e,t),ld(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=as(Error(ee(423)),t),t=z0(e,t,n,r,o);break e}else if(n!==o){o=as(Error(ee(424)),t),t=z0(e,t,n,r,o);break e}else for(Hn=Jo(t.stateNode.containerInfo.firstChild),Wn=t,ft=!0,Dr=null,r=rb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rs(),n===o){t=ko(e,t,r);break e}hn(e,t,n,r)}t=t.child}return t;case 5:return ab(t),e===null&&Ch(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,wh(n,o)?s=null:i!==null&&wh(n,i)&&(t.flags|=32),Ib(e,t),hn(e,t,s,r),t.child;case 6:return e===null&&Ch(t),null;case 13:return Nb(e,t,r);case 4:return Qm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=os(t,null,n,r):hn(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),A0(e,t,n,o,r);case 7:return hn(e,t,t.pendingProps,r),t.child;case 8:return hn(e,t,t.pendingProps.children,r),t.child;case 12:return hn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,it(ad,n._currentValue),n._currentValue=s,i!==null)if(Ir(i.value,s)){if(i.children===o.children&&!Nn.current){t=ko(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){s=i.child;for(var d=c.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=ho(-1,r&-r),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var a=u.pending;a===null?d.next=d:(d.next=a.next,a.next=d),u.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),Eh(i.return,r,t),c.lanes|=r;break}d=d.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ee(341));s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Eh(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}hn(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ga(t,r),o=lr(o),n=n(o),t.flags|=1,hn(e,t,n,r),t.child;case 14:return n=t.type,o=Cr(n,t.pendingProps),o=Cr(n.type,o),F0(e,t,n,o,r);case 15:return Pb(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Cr(n,o),Rc(e,t),t.tag=1,Mn(n)?(e=!0,rd(t)):e=!1,Ga(t,r),Db(t,n,o),Sh(t,n,o,r),Oh(null,t,n,!0,e,r);case 19:return Mb(e,t,r);case 22:return Ob(e,t,r)}throw Error(ee(156,t.tag))};function jb(e,t){return x1(e,t)}function ES(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(e,t,r,n){return new ES(e,t,r,n)}function lg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DS(e){if(typeof e=="function")return lg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sm)return 11;if(e===Tm)return 14}return 2}function ri(e,t){var r=e.alternate;return r===null?(r=or(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lc(e,t,r,n,o,i){var s=2;if(n=e,typeof e=="function")lg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ma:return qi(r.children,o,i,t);case Dm:s=8,o|=8;break;case Xp:return e=or(12,r,t,o|2),e.elementType=Xp,e.lanes=i,e;case Zp:return e=or(13,r,t,o),e.elementType=Zp,e.lanes=i,e;case Jp:return e=or(19,r,t,o),e.elementType=Jp,e.lanes=i,e;case a1:return nf(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case o1:s=10;break e;case i1:s=9;break e;case Sm:s=11;break e;case Tm:s=14;break e;case Bo:s=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=or(s,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function qi(e,t,r,n){return e=or(7,e,n,t),e.lanes=r,e}function nf(e,t,r,n){return e=or(22,e,n,t),e.elementType=a1,e.lanes=r,e.stateNode={isHidden:!1},e}function Dp(e,t,r){return e=or(6,e,null,t),e.lanes=r,e}function Sp(e,t,r){return t=or(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SS(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ug(e,t,r,n,o,i,s,c,d){return e=new SS(e,t,r,c,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=or(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vm(i),e}function TS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Xb(e){if(!e)return si;e=e._reactInternals;e:{if(ua(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(Mn(r))return X1(e,r,t)}return t}function Zb(e,t,r,n,o,i,s,c,d){return e=ug(r,n,!0,e,o,i,s,c,d),e.context=Xb(null),r=e.current,n=_n(),o=ni(r),i=ho(n,o),i.callback=t??null,ei(r,i,o),e.current.lanes=o,ou(e,o,n),Ln(e,n),e}function rf(e,t,r,n){var o=t.current,i=_n(),s=ni(o);return r=Xb(r),t.context===null?t.context=r:t.pendingContext=r,t=ho(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ei(o,t,s),e!==null&&(Pr(e,o,s,i),Pc(e,o,s)),s}function gd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cg(e,t){G0(e,t),(e=e.alternate)&&G0(e,t)}function PS(){return null}var Jb=typeof reportError=="function"?reportError:function(e){console.error(e)};function dg(e){this._internalRoot=e}of.prototype.render=dg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));rf(e,t,null,null)};of.prototype.unmount=dg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;na(function(){rf(null,e,null,null)}),t[bo]=null}};function of(e){this._internalRoot=e}of.prototype.unstable_scheduleHydration=function(e){if(e){var t=O1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Uo.length&&t!==0&&t<Uo[r].priority;r++);Uo.splice(r,0,e),r===0&&R1(e)}};function fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function j0(){}function OS(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var u=gd(s);i.call(u)}}var s=Zb(t,n,e,0,null,!1,!1,"",j0);return e._reactRootContainer=s,e[bo]=s.current,Ml(e.nodeType===8?e.parentNode:e),na(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var c=n;n=function(){var u=gd(d);c.call(u)}}var d=ug(e,0,!1,null,null,!1,!1,"",j0);return e._reactRootContainer=d,e[bo]=d.current,Ml(e.nodeType===8?e.parentNode:e),na(function(){rf(t,d,r,n)}),d}function sf(e,t,r,n,o){var i=r._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var c=o;o=function(){var d=gd(s);c.call(d)}}rf(t,s,e,o)}else s=OS(r,t,e,o,n);return gd(s)}T1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=nl(t.pendingLanes);r!==0&&(Im(t,r|1),Ln(t,Tt()),!(We&6)&&(ss=Tt()+500,gi()))}break;case 13:na(function(){var n=_o(e,1);if(n!==null){var o=_n();Pr(n,e,1,o)}}),cg(e,1)}};Rm=function(e){if(e.tag===13){var t=_o(e,134217728);if(t!==null){var r=_n();Pr(t,e,134217728,r)}cg(e,134217728)}};P1=function(e){if(e.tag===13){var t=ni(e),r=_o(e,t);if(r!==null){var n=_n();Pr(r,e,t,n)}cg(e,t)}};O1=function(){return tt};I1=function(e,t){var r=tt;try{return tt=e,t()}finally{tt=r}};uh=function(e,t,r){switch(t){case"input":if(nh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=jd(n);if(!o)throw Error(ee(90));l1(n),nh(n,o)}}}break;case"textarea":c1(e,r);break;case"select":t=r.value,t!=null&&qa(e,!!r.multiple,t,!1)}};v1=ig;y1=na;var IS={usingClientEntryPoint:!1,Events:[au,$a,jd,m1,g1,ig]},Qs={findFiberByHostInstance:zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RS={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_1(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||PS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Vd=uc.inject(RS),jr=uc}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS;jn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(t))throw Error(ee(200));return TS(e,t,null,r)};jn.createRoot=function(e,t){if(!fg(e))throw Error(ee(299));var r=!1,n="",o=Jb;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ug(e,1,!1,null,null,r,!1,n,o),e[bo]=t.current,Ml(e.nodeType===8?e.parentNode:e),new dg(t)};jn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=_1(t),e=e===null?null:e.stateNode,e};jn.flushSync=function(e){return na(e)};jn.hydrate=function(e,t,r){if(!af(t))throw Error(ee(200));return sf(null,e,t,!0,r)};jn.hydrateRoot=function(e,t,r){if(!fg(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",s=Jb;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Zb(t,null,e,1,r??null,o,!1,i,s),e[bo]=t.current,Ml(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new of(t)};jn.render=function(e,t,r){if(!af(t))throw Error(ee(200));return sf(null,e,t,!1,r)};jn.unmountComponentAtNode=function(e){if(!af(e))throw Error(ee(40));return e._reactRootContainer?(na(function(){sf(null,null,e,!1,function(){e._reactRootContainer=null,e[bo]=null})}),!0):!1};jn.unstable_batchedUpdates=ig;jn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!af(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return sf(e,t,r,!1,n)};jn.version="18.3.1-next-f1338f8080-20240426";function e_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e_)}catch(e){console.error(e)}}e_(),e1.exports=jn;var lf=e1.exports;const t_=Yd(lf);var pg,X0=lf;pg=X0.createRoot,X0.hydrateRoot;function n_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=n_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=n_(e))&&(n&&(n+=" "),n+=t);return n}function NS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Uh(e,t)}function Uh(e,t){return Uh=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uh(e,t)}function MS(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Z0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LS(e,t,r){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(r):e.classList.contains(r)}function AS(e,t,r){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&LS(e,t,r))return!0;e=e.parentNode||e.host}return e}function FS(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var $S=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,r=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,r),window.removeEventListener("testPassiveEventSupport",n,r),t}};function zS(e){return e===void 0&&(e=0),function(){return++e}}var BS=zS(),Wh,cc={},Tp={},HS=["touchstart","touchmove"],US="ignore-react-onclickoutside";function J0(e,t){var r={},n=HS.indexOf(t)!==-1;return n&&Wh&&(r.passive=!e.props.preventDefault),r}function uf(e,t){var r,n,o=e.displayName||e.name||"Component";return n=r=function(i){NS(s,i);function s(d){var u;return u=i.call(this,d)||this,u.__outsideClickHandler=function(a){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(a);return}var l=u.getInstance();if(typeof l.props.handleClickOutside=="function"){l.props.handleClickOutside(a);return}if(typeof l.handleClickOutside=="function"){l.handleClickOutside(a);return}throw new Error("WrappedComponent: "+o+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var a=u.getInstance();return t&&typeof t.setClickOutsideRef=="function"?t.setClickOutsideRef()(a):typeof a.setClickOutsideRef=="function"?a.setClickOutsideRef():lf.findDOMNode(a)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||Tp[u._uid])){typeof Wh>"u"&&(Wh=$S()),Tp[u._uid]=!0;var a=u.props.eventTypes;a.forEach||(a=[a]),cc[u._uid]=function(l){if(u.componentNode!==null&&!(u.initTimeStamp>l.timeStamp)&&(u.props.preventDefault&&l.preventDefault(),u.props.stopPropagation&&l.stopPropagation(),!(u.props.excludeScrollbar&&FS(l)))){var f=l.composed&&l.composedPath&&l.composedPath().shift()||l.target;AS(f,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(l)}},a.forEach(function(l){document.addEventListener(l,cc[u._uid],J0(Z0(u),l))})}},u.disableOnClickOutside=function(){delete Tp[u._uid];var a=cc[u._uid];if(a&&typeof document<"u"){var l=u.props.eventTypes;l.forEach||(l=[l]),l.forEach(function(f){return document.removeEventListener(f,a,J0(Z0(u),f))}),delete cc[u._uid]}},u.getRef=function(a){return u.instanceRef=a},u._uid=BS(),u.initTimeStamp=performance.now(),u}var c=s.prototype;return c.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},c.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var u=this.getInstance();if(t&&typeof t.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=t.handleClickOutside(u),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+o+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},c.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},c.componentWillUnmount=function(){this.disableOnClickOutside()},c.render=function(){var u=this.props;u.excludeScrollbar;var a=MS(u,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?a.ref=this.getRef:a.wrappedRef=this.getRef,a.disableOnClickOutside=this.disableOnClickOutside,a.enableOnClickOutside=this.enableOnClickOutside,G.createElement(e,a)},s}(G.Component),r.displayName="OnClickOutside("+o+")",r.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:US,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return e.getClass?e.getClass():e},n}function ce(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vi(e,t){const r=ce(e);return isNaN(t)?Xe(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function hg(e,t){const r=+ce(e);return Xe(e,r+t)}const r_=6048e5,WS=864e5,cf=6e4,df=36e5,YS=1e3;function qS(e,t){return hg(e,t*df)}function Yh(e,t){return hg(e,t*cf)}function Rr(e,t){const r=ce(e);if(isNaN(t))return Xe(e,NaN);if(!t)return r;const n=r.getDate(),o=Xe(e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const i=o.getDate();return n>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),n),r)}function mg(e,t){const r=t*3;return Rr(e,r)}function VS(e,t){return hg(e,t*1e3)}function vd(e,t){const r=t*7;return vi(e,r)}function mo(e,t){return Rr(e,t*12)}function ra(e){const t=ce(e);return t.setHours(0,0,0,0),t}function yd(e){const t=ce(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Wl(e,t){const r=ra(e),n=ra(t),o=+r-yd(r),i=+n-yd(n);return Math.round((o-i)/WS)}function wd(e,t){const r=ce(e),n=ce(t),o=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return o*12+i}function Vi(e){const t=ce(e);return Math.trunc(t.getMonth()/3)+1}function bd(e,t){const r=ce(e),n=ce(t),o=r.getFullYear()-n.getFullYear(),i=Vi(r)-Vi(n);return o*4+i}function _d(e,t){const r=ce(e),n=ce(t);return r.getFullYear()-n.getFullYear()}function o_(e){const t=ce(e);return t.setHours(23,59,59,999),t}function QS(e){const t=ce(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}let KS={};function ca(){return KS}function GS(e,t){const r=ca(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=ce(e),i=o.getDay(),s=(i<n?-7:0)+6-(i-n);return o.setDate(o.getDate()+s),o.setHours(23,59,59,999),o}function i_(e){const t=ce(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}const jS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XS=(e,t,r)=>{let n;const o=jS[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pp(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ZS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tT={date:Pp({formats:ZS,defaultWidth:"full"}),time:Pp({formats:JS,defaultWidth:"full"}),dateTime:Pp({formats:eT,defaultWidth:"full"})},nT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rT=(e,t,r,n)=>nT[e];function Ks(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):s;o=e.formattingValues[c]||e.formattingValues[s]}else{const s=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;o=e.values[c]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return o[i]}}const oT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sT={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cT=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},dT={ordinalNumber:cT,era:Ks({values:oT,defaultWidth:"wide"}),quarter:Ks({values:iT,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ks({values:aT,defaultWidth:"wide"}),day:Ks({values:sT,defaultWidth:"wide"}),dayPeriod:Ks({values:lT,defaultWidth:"wide",formattingValues:uT,defaultFormattingWidth:"wide"})};function Gs(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const s=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?pT(c,l=>l.test(s)):fT(c,l=>l.test(s));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const a=t.slice(s.length);return{value:u,rest:a}}}function fT(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pT(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function hT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const c=t.slice(o.length);return{value:s,rest:c}}}const mT=/^(\d+)(th|st|nd|rd)?/i,gT=/\d+/i,vT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yT={any:[/^b/i,/^(a|c)/i]},wT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bT={any:[/1/i,/2/i,/3/i,/4/i]},_T={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xT={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CT={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ET={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DT={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ST={ordinalNumber:hT({matchPattern:mT,parsePattern:gT,valueCallback:e=>parseInt(e,10)}),era:Gs({matchPatterns:vT,defaultMatchWidth:"wide",parsePatterns:yT,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:wT,defaultMatchWidth:"wide",parsePatterns:bT,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gs({matchPatterns:_T,defaultMatchWidth:"wide",parsePatterns:kT,defaultParseWidth:"any"}),day:Gs({matchPatterns:xT,defaultMatchWidth:"wide",parsePatterns:CT,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:ET,defaultMatchWidth:"any",parsePatterns:DT,defaultParseWidth:"any"})},a_={code:"en-US",formatDistance:XS,formatLong:tT,formatRelative:rT,localize:dT,match:ST,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ff(e){const t=ce(e),r=Xe(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function TT(e){const t=ce(e);return Wl(t,ff(t))+1}function xo(e,t){const r=ca(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=ce(e),i=o.getDay(),s=(i<n?7:0)+i-n;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}function ls(e){return xo(e,{weekStartsOn:1})}function s_(e){const t=ce(e),r=t.getFullYear(),n=Xe(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=ls(n),i=Xe(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=ls(i);return t.getTime()>=o.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function PT(e){const t=s_(e),r=Xe(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ls(r)}function gg(e){const t=ce(e),r=+ls(t)-+PT(t);return Math.round(r/r_)+1}function vg(e,t){const r=ce(e),n=r.getFullYear(),o=ca(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,s=Xe(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const c=xo(s,t),d=Xe(e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const u=xo(d,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function OT(e,t){const r=ca(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=vg(e,t),i=Xe(e,0);return i.setFullYear(o,0,n),i.setHours(0,0,0,0),xo(i,t)}function l_(e,t){const r=ce(e),n=+xo(r,t)-+OT(r,t);return Math.round(n/r_)+1}function je(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const zo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return je(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):je(r+1,2)},d(e,t){return je(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return je(e.getHours()%12||12,t.length)},H(e,t){return je(e.getHours(),t.length)},m(e,t){return je(e.getMinutes(),t.length)},s(e,t){return je(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return je(o,t.length)}},Ta={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ey={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return zo.y(e,t)},Y:function(e,t,r,n){const o=vg(e,n),i=o>0?o:1-o;if(t==="YY"){const s=i%100;return je(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):je(i,t.length)},R:function(e,t){const r=s_(e);return je(r,t.length)},u:function(e,t){const r=e.getFullYear();return je(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return je(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return je(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return zo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return je(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=l_(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):je(o,t.length)},I:function(e,t,r){const n=gg(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):je(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):zo.d(e,t)},D:function(e,t,r){const n=TT(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):je(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return je(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return je(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return je(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=Ta.noon:n===0?o=Ta.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=Ta.evening:n>=12?o=Ta.afternoon:n>=4?o=Ta.morning:o=Ta.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):zo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):zo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):zo.s(e,t)},S:function(e,t){return zo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ny(n);case"XXXX":case"XX":return Ai(n);case"XXXXX":case"XXX":default:return Ai(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ny(n);case"xxxx":case"xx":return Ai(n);case"xxxxx":case"xxx":default:return Ai(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ty(n,":");case"OOOO":default:return"GMT"+Ai(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ty(n,":");case"zzzz":default:return"GMT"+Ai(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return je(n,t.length)},T:function(e,t,r){const n=e.getTime();return je(n,t.length)}};function ty(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),i=n%60;return i===0?r+String(o):r+String(o)+t+je(i,2)}function ny(e,t){return e%60===0?(e>0?"-":"+")+je(Math.abs(e)/60,2):Ai(e,t)}function Ai(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=je(Math.trunc(n/60),2),i=je(n%60,2);return r+o+t+i}const ry=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},u_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},IT=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return ry(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ry(n,t)).replace("{{time}}",u_(o,t))},kd={p:u_,P:IT},RT=/^D+$/,NT=/^Y+$/,MT=["D","DD","YY","YYYY"];function c_(e){return RT.test(e)}function d_(e){return NT.test(e)}function qh(e,t,r){const n=LT(e,t,r);if(console.warn(n),MT.includes(e))throw new RangeError(n)}function LT(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function go(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xd(e){if(!go(e)&&typeof e!="number")return!1;const t=ce(e);return!isNaN(Number(t))}const AT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$T=/^'([^]*?)'?$/,zT=/''/g,BT=/[a-zA-Z]/;function oy(e,t,r){const n=ca(),o=r?.locale??n.locale??a_,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=ce(e);if(!xd(c))throw new RangeError("Invalid time value");let d=t.match(FT).map(a=>{const l=a[0];if(l==="p"||l==="P"){const f=kd[l];return f(a,o.formatLong)}return a}).join("").match(AT).map(a=>{if(a==="''")return{isToken:!1,value:"'"};const l=a[0];if(l==="'")return{isToken:!1,value:HT(a)};if(ey[l])return{isToken:!0,value:a};if(l.match(BT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return{isToken:!1,value:a}});o.localize.preprocessor&&(d=o.localize.preprocessor(c,d));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:o};return d.map(a=>{if(!a.isToken)return a.value;const l=a.value;(!r?.useAdditionalWeekYearTokens&&d_(l)||!r?.useAdditionalDayOfYearTokens&&c_(l))&&qh(l,t,String(e));const f=ey[l[0]];return f(c,l,o.localize,u)}).join("")}function HT(e){const t=e.match($T);return t?t[1].replace(zT,"'"):e}function iy(e){return ce(e).getDate()}function UT(e){return ce(e).getDay()}function Zr(e){return ce(e).getHours()}function Jr(e){return ce(e).getMinutes()}function vn(e){return ce(e).getMonth()}function vo(e){return ce(e).getSeconds()}function Vh(e){return ce(e).getTime()}function Ne(e){return ce(e).getFullYear()}function li(e,t){const r=ce(e),n=ce(t);return r.getTime()>n.getTime()}function oa(e,t){const r=ce(e),n=ce(t);return+r<+n}function WT(e,t){const r=ce(e),n=ce(t);return+r==+n}function YT(e,t){const r=ra(e),n=ra(t);return+r==+n}function qT(e,t){const r=ce(e),n=ce(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Qh(e){const t=ce(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function VT(e,t){const r=Qh(e),n=Qh(t);return+r==+n}function QT(e,t){const r=ce(e),n=ce(t);return r.getFullYear()===n.getFullYear()}function Yl(e,t){const r=+ce(e),[n,o]=[+ce(t.start),+ce(t.end)].sort((i,s)=>i-s);return r>=n&&r<=o}function ay(e){let t;return e.forEach(function(r){const n=ce(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function sy(e){let t;return e.forEach(r=>{const n=ce(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function KT(){return Object.assign({},ca())}function GT(e,t){const r=t instanceof Date?Xe(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const jT=10;class f_{subPriority=0;validate(t,r){return!0}}class XT extends f_{constructor(t,r,n,o,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=o,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class ZT extends f_{priority=jT;subPriority=-1;set(t,r){return r.timestampIsSet?t:Xe(t,GT(t,Date))}}class qe{run(t,r,n,o){const i=this.parse(t,r,n,o);return i?{setter:new XT(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class JT extends qe{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Pt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ot(e,t){return e&&{value:t(e.value),rest:e.rest}}function wt(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Qr(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(o*df+i*cf+s*YS),rest:t.slice(r[0].length)}}function p_(e){return wt(Pt.anyDigitsSigned,e)}function Ct(e,t){switch(e){case 1:return wt(Pt.singleDigit,t);case 2:return wt(Pt.twoDigits,t);case 3:return wt(Pt.threeDigits,t);case 4:return wt(Pt.fourDigits,t);default:return wt(new RegExp("^\\d{1,"+e+"}"),t)}}function Cd(e,t){switch(e){case 1:return wt(Pt.singleDigitSigned,t);case 2:return wt(Pt.twoDigitsSigned,t);case 3:return wt(Pt.threeDigitsSigned,t);case 4:return wt(Pt.fourDigitsSigned,t);default:return wt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function yg(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function h_(e,t){const r=t>0,n=r?t:1-t;let o;if(n<=50)o=e||100;else{const i=n+50,s=Math.trunc(i/100)*100,c=e>=i%100;o=e+s-(c?100:0)}return r?o:1-o}function m_(e){return e%400===0||e%4===0&&e%100!==0}class eP extends qe{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const o=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ot(Ct(4,t),o);case"yo":return Ot(n.ordinalNumber(t,{unit:"year"}),o);default:return Ot(Ct(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const o=t.getFullYear();if(n.isTwoDigitYear){const s=h_(n.year,o);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}const i=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class tP extends qe{priority=130;parse(t,r,n){const o=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ot(Ct(4,t),o);case"Yo":return Ot(n.ordinalNumber(t,{unit:"year"}),o);default:return Ot(Ct(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,o){const i=vg(t,o);if(n.isTwoDigitYear){const c=h_(n.year,i);return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),xo(t,o)}const s=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(s,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),xo(t,o)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class nP extends qe{priority=130;parse(t,r){return Cd(r==="R"?4:r.length,t)}set(t,r,n){const o=Xe(t,0);return o.setFullYear(n,0,4),o.setHours(0,0,0,0),ls(o)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class rP extends qe{priority=130;parse(t,r){return Cd(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class oP extends qe{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return Ct(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class iP extends qe{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return Ct(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class aP extends qe{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const o=i=>i-1;switch(r){case"M":return Ot(wt(Pt.month,t),o);case"MM":return Ot(Ct(2,t),o);case"Mo":return Ot(n.ordinalNumber(t,{unit:"month"}),o);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class sP extends qe{priority=110;parse(t,r,n){const o=i=>i-1;switch(r){case"L":return Ot(wt(Pt.month,t),o);case"LL":return Ot(Ct(2,t),o);case"Lo":return Ot(n.ordinalNumber(t,{unit:"month"}),o);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function lP(e,t,r){const n=ce(e),o=l_(n,r)-t;return n.setDate(n.getDate()-o*7),n}class uP extends qe{priority=100;parse(t,r,n){switch(r){case"w":return wt(Pt.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return Ct(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,o){return xo(lP(t,n,o),o)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function cP(e,t){const r=ce(e),n=gg(r)-t;return r.setDate(r.getDate()-n*7),r}class dP extends qe{priority=100;parse(t,r,n){switch(r){case"I":return wt(Pt.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return Ct(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return ls(cP(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const fP=[31,28,31,30,31,30,31,31,30,31,30,31],pP=[31,29,31,30,31,30,31,31,30,31,30,31];class hP extends qe{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return wt(Pt.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return Ct(r.length,t)}}validate(t,r){const n=t.getFullYear(),o=m_(n),i=t.getMonth();return o?r>=1&&r<=pP[i]:r>=1&&r<=fP[i]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class mP extends qe{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return wt(Pt.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return Ct(r.length,t)}}validate(t,r){const n=t.getFullYear();return m_(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function wg(e,t,r){const n=ca(),o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ce(e),s=i.getDay(),d=(t%7+7)%7,u=7-o,a=t<0||t>6?t-(s+u)%7:(d+u)%7-(s+u)%7;return vi(i,a)}class gP extends qe{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,o){return t=wg(t,n,o),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class vP extends qe{priority=90;parse(t,r,n,o){const i=s=>{const c=Math.floor((s-1)/7)*7;return(s+o.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return Ot(Ct(r.length,t),i);case"eo":return Ot(n.ordinalNumber(t,{unit:"day"}),i);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,o){return t=wg(t,n,o),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class yP extends qe{priority=90;parse(t,r,n,o){const i=s=>{const c=Math.floor((s-1)/7)*7;return(s+o.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return Ot(Ct(r.length,t),i);case"co":return Ot(n.ordinalNumber(t,{unit:"day"}),i);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,o){return t=wg(t,n,o),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function wP(e){let r=ce(e).getDay();return r===0&&(r=7),r}function bP(e,t){const r=ce(e),n=wP(r),o=t-n;return vi(r,o)}class _P extends qe{priority=90;parse(t,r,n){const o=i=>i===0?7:i;switch(r){case"i":case"ii":return Ct(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return Ot(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ot(n.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ot(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Ot(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=bP(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class kP extends qe{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(yg(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class xP extends qe{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(yg(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class CP extends qe{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(yg(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class EP extends qe{priority=70;parse(t,r,n){switch(r){case"h":return wt(Pt.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return Ct(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const o=t.getHours()>=12;return o&&n<12?t.setHours(n+12,0,0,0):!o&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class DP extends qe{priority=70;parse(t,r,n){switch(r){case"H":return wt(Pt.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return Ct(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class SP extends qe{priority=70;parse(t,r,n){switch(r){case"K":return wt(Pt.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return Ct(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class TP extends qe{priority=70;parse(t,r,n){switch(r){case"k":return wt(Pt.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return Ct(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const o=n<=24?n%24:n;return t.setHours(o,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class PP extends qe{priority=60;parse(t,r,n){switch(r){case"m":return wt(Pt.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return Ct(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class OP extends qe{priority=50;parse(t,r,n){switch(r){case"s":return wt(Pt.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return Ct(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class IP extends qe{priority=30;parse(t,r){const n=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Ot(Ct(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class RP extends qe{priority=10;parse(t,r){switch(r){case"X":return Qr(Vr.basicOptionalMinutes,t);case"XX":return Qr(Vr.basic,t);case"XXXX":return Qr(Vr.basicOptionalSeconds,t);case"XXXXX":return Qr(Vr.extendedOptionalSeconds,t);case"XXX":default:return Qr(Vr.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Xe(t,t.getTime()-yd(t)-n)}incompatibleTokens=["t","T","x"]}class NP extends qe{priority=10;parse(t,r){switch(r){case"x":return Qr(Vr.basicOptionalMinutes,t);case"xx":return Qr(Vr.basic,t);case"xxxx":return Qr(Vr.basicOptionalSeconds,t);case"xxxxx":return Qr(Vr.extendedOptionalSeconds,t);case"xxx":default:return Qr(Vr.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Xe(t,t.getTime()-yd(t)-n)}incompatibleTokens=["t","T","X"]}class MP extends qe{priority=40;parse(t){return p_(t)}set(t,r,n){return[Xe(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class LP extends qe{priority=20;parse(t){return p_(t)}set(t,r,n){return[Xe(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const AP={G:new JT,y:new eP,Y:new tP,R:new nP,u:new rP,Q:new oP,q:new iP,M:new aP,L:new sP,w:new uP,I:new dP,d:new hP,D:new mP,E:new gP,e:new vP,c:new yP,i:new _P,a:new kP,b:new xP,B:new CP,h:new EP,H:new DP,K:new SP,k:new TP,m:new PP,s:new OP,S:new IP,X:new RP,x:new NP,t:new MP,T:new LP},FP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$P=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zP=/^'([^]*?)'?$/,BP=/''/g,HP=/\S/,UP=/[a-zA-Z]/;function Op(e,t,r,n){const o=KT(),i=n?.locale??o.locale??a_,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(t==="")return e===""?ce(r):Xe(r,NaN);const d={firstWeekContainsDate:s,weekStartsOn:c,locale:i},u=[new ZT],a=t.match($P).map(m=>{const w=m[0];if(w in kd){const y=kd[w];return y(m,i.formatLong)}return m}).join("").match(FP),l=[];for(let m of a){!n?.useAdditionalWeekYearTokens&&d_(m)&&qh(m,t,e),!n?.useAdditionalDayOfYearTokens&&c_(m)&&qh(m,t,e);const w=m[0],y=AP[w];if(y){const{incompatibleTokens:v}=y;if(Array.isArray(v)){const b=l.find(k=>v.includes(k.token)||k.token===w);if(b)throw new RangeError(`The format string mustn't contain \`${b.fullToken}\` and \`${m}\` at the same time`)}else if(y.incompatibleTokens==="*"&&l.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);l.push({token:w,fullToken:m});const g=y.run(e,m,i.match,d);if(!g)return Xe(r,NaN);u.push(g.setter),e=g.rest}else{if(w.match(UP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(m==="''"?m="'":w==="'"&&(m=WP(m)),e.indexOf(m)===0)e=e.slice(m.length);else return Xe(r,NaN)}}if(e.length>0&&HP.test(e))return Xe(r,NaN);const f=u.map(m=>m.priority).sort((m,w)=>w-m).filter((m,w,y)=>y.indexOf(m)===w).map(m=>u.filter(w=>w.priority===m).sort((w,y)=>y.subPriority-w.subPriority)).map(m=>m[0]);let p=ce(r);if(isNaN(p.getTime()))return Xe(r,NaN);const h={};for(const m of f){if(!m.validate(p,d))return Xe(r,NaN);const w=m.set(p,h,d);Array.isArray(w)?(p=w[0],Object.assign(h,w[1])):p=w}return Xe(r,p)}function WP(e){return e.match(zP)[1].replace(BP,"'")}function YP(e,t){const r=t?.additionalDigits??2,n=KP(e);let o;if(n.date){const d=GP(n.date,r);o=jP(d.restDateString,d.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const i=o.getTime();let s=0,c;if(n.time&&(s=XP(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(c=ZP(n.timezone),isNaN(c))return new Date(NaN)}else{const d=new Date(i+s),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return new Date(i+s+c)}const dc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qP=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VP=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,QP=/^([+-])(\d{2})(?::?(\d{2}))?$/;function KP(e){const t={},r=e.split(dc.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],dc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(dc.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const o=dc.timezone.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}function GP(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const o=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function jP(e,t){if(t===null)return new Date(NaN);const r=e.match(qP);if(!r)return new Date(NaN);const n=!!r[4],o=js(r[1]),i=js(r[2])-1,s=js(r[3]),c=js(r[4]),d=js(r[5])-1;if(n)return rO(t,c,d)?JP(t,c,d):new Date(NaN);{const u=new Date(0);return!tO(t,i,s)||!nO(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}}function js(e){return e?parseInt(e):1}function XP(e){const t=e.match(VP);if(!t)return NaN;const r=Ip(t[1]),n=Ip(t[2]),o=Ip(t[3]);return oO(r,n,o)?r*df+n*cf+o*1e3:NaN}function Ip(e){return e&&parseFloat(e.replace(",","."))||0}function ZP(e){if(e==="Z")return 0;const t=e.match(QP);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return iO(n,o)?r*(n*df+o*cf):NaN}function JP(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,i=(t-1)*7+r+1-o;return n.setUTCDate(n.getUTCDate()+i),n}const eO=[31,null,31,30,31,30,31,31,30,31,30,31];function g_(e){return e%400===0||e%4===0&&e%100!==0}function tO(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(eO[t]||(g_(e)?29:28))}function nO(e,t){return t>=1&&t<=(g_(e)?366:365)}function rO(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function oO(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function iO(e,t){return t>=0&&t<=59}function aO(e){const t=ce(e),r=t.getFullYear(),n=t.getMonth(),o=Xe(e,0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function zn(e,t){const r=ce(e),n=r.getFullYear(),o=r.getDate(),i=Xe(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const s=aO(i);return r.setMonth(t,Math.min(o,s)),r}function sO(e,t){let r=ce(e);return isNaN(+r)?Xe(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=zn(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function Ac(e,t){const r=ce(e);return r.setHours(t),r}function Fc(e,t){const r=ce(e);return r.setMinutes(t),r}function Ia(e,t){const r=ce(e),n=Math.trunc(r.getMonth()/3)+1,o=t-n;return zn(r,r.getMonth()+o*3)}function $c(e,t){const r=ce(e);return r.setSeconds(t),r}function Ur(e,t){const r=ce(e);return isNaN(+r)?Xe(e,NaN):(r.setFullYear(t),r)}function v_(e){const t=ce(e);return t.setDate(1),t.setHours(0,0,0,0),t}function lO(e,t){return vi(e,-t)}function us(e,t){return Rr(e,-t)}function y_(e,t){return mg(e,-t)}function ly(e,t){return vd(e,-t)}function cs(e,t){return mo(e,-t)}function ks(e){return w_(e)?(e.nodeName||"").toLowerCase():"#document"}function Yn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Do(e){var t;return(t=(w_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w_(e){return e instanceof Node||e instanceof Yn(e).Node}function yn(e){return e instanceof Element||e instanceof Yn(e).Element}function to(e){return e instanceof HTMLElement||e instanceof Yn(e).HTMLElement}function uy(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yn(e).ShadowRoot}function lu(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=cr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function uO(e){return["table","td","th"].includes(ks(e))}function pf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function bg(e){const t=_g(),r=yn(e)?cr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function cO(e){let t=ui(e);for(;to(t)&&!ds(t);){if(bg(t))return t;if(pf(t))return null;t=ui(t)}return null}function _g(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ds(e){return["html","body","#document"].includes(ks(e))}function cr(e){return Yn(e).getComputedStyle(e)}function hf(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ui(e){if(ks(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uy(e)&&e.host||Do(e);return uy(t)?t.host:t}function b_(e){const t=ui(e);return ds(t)?e.ownerDocument?e.ownerDocument.body:e.body:to(t)&&lu(t)?t:b_(t)}function ql(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=b_(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),s=Yn(o);return i?t.concat(s,s.visualViewport||[],lu(o)?o:[],s.frameElement&&r?ql(s.frameElement):[]):t.concat(o,ql(o,[],r))}const fs=Math.min,Qi=Math.max,Ed=Math.round,fc=Math.floor,ci=e=>({x:e,y:e}),dO={left:"right",right:"left",bottom:"top",top:"bottom"},fO={start:"end",end:"start"};function pO(e,t,r){return Qi(e,fs(t,r))}function mf(e,t){return typeof e=="function"?e(t):e}function ps(e){return e.split("-")[0]}function uu(e){return e.split("-")[1]}function hO(e){return e==="x"?"y":"x"}function kg(e){return e==="y"?"height":"width"}function Vl(e){return["top","bottom"].includes(ps(e))?"y":"x"}function xg(e){return hO(Vl(e))}function mO(e,t,r){r===void 0&&(r=!1);const n=uu(e),o=xg(e),i=kg(o);let s=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Dd(s)),[s,Dd(s)]}function gO(e){const t=Dd(e);return[Kh(e),t,Kh(t)]}function Kh(e){return e.replace(/start|end/g,t=>fO[t])}function vO(e,t,r){const n=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?i:s;default:return[]}}function yO(e,t,r,n){const o=uu(e);let i=vO(ps(e),r==="start",n);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Kh)))),i}function Dd(e){return e.replace(/left|right|bottom|top/g,t=>dO[t])}function wO(e){return{top:0,right:0,bottom:0,left:0,...e}}function __(e){return typeof e!="number"?wO(e):{top:e,right:e,bottom:e,left:e}}function Sd(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function cy(e,t,r){let{reference:n,floating:o}=e;const i=Vl(t),s=xg(t),c=kg(s),d=ps(t),u=i==="y",a=n.x+n.width/2-o.width/2,l=n.y+n.height/2-o.height/2,f=n[c]/2-o[c]/2;let p;switch(d){case"top":p={x:a,y:n.y-o.height};break;case"bottom":p={x:a,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:l};break;case"left":p={x:n.x-o.width,y:l};break;default:p={x:n.x,y:n.y}}switch(uu(t)){case"start":p[s]-=f*(r&&u?-1:1);break;case"end":p[s]+=f*(r&&u?-1:1);break}return p}const bO=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:s}=r,c=i.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:a,y:l}=cy(u,n,d),f=n,p={},h=0;for(let m=0;m<c.length;m++){const{name:w,fn:y}=c[m],{x:v,y:g,data:b,reset:k}=await y({x:a,y:l,initialPlacement:n,placement:f,strategy:o,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});a=v??a,l=g??l,p={...p,[w]:{...p[w],...b}},k&&h<=50&&(h++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):k.rects),{x:a,y:l}=cy(u,f,d)),m=-1)}return{x:a,y:l,placement:f,strategy:o,middlewareData:p}};async function _O(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:i,rects:s,elements:c,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:a="viewport",elementContext:l="floating",altBoundary:f=!1,padding:p=0}=mf(t,e),h=__(p),w=c[f?l==="floating"?"reference":"floating":l],y=Sd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:a,strategy:d})),v=l==="floating"?{x:n,y:o,width:s.floating.width,height:s.floating.height}:s.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),b=await(i.isElement==null?void 0:i.isElement(g))?await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1}:{x:1,y:1},k=Sd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:v,offsetParent:g,strategy:d}):v);return{top:(y.top-k.top+h.top)/b.y,bottom:(k.bottom-y.bottom+h.bottom)/b.y,left:(y.left-k.left+h.left)/b.x,right:(k.right-y.right+h.right)/b.x}}const kO=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:i,platform:s,elements:c,middlewareData:d}=t,{element:u,padding:a=0}=mf(e,t)||{};if(u==null)return{};const l=__(a),f={x:r,y:n},p=xg(o),h=kg(p),m=await s.getDimensions(u),w=p==="y",y=w?"top":"left",v=w?"bottom":"right",g=w?"clientHeight":"clientWidth",b=i.reference[h]+i.reference[p]-f[p]-i.floating[h],k=f[p]-i.reference[p],E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let C=E?E[g]:0;(!C||!await(s.isElement==null?void 0:s.isElement(E)))&&(C=c.floating[g]||i.floating[h]);const S=b/2-k/2,T=C/2-m[h]/2-1,P=fs(l[y],T),L=fs(l[v],T),M=P,F=C-m[h]-L,$=C/2-m[h]/2+S,z=pO(M,$,F),q=!d.arrow&&uu(o)!=null&&$!==z&&i.reference[h]/2-($<M?P:L)-m[h]/2<0,U=q?$<M?$-M:$-F:0;return{[p]:f[p]+U,data:{[p]:z,centerOffset:$-z-U,...q&&{alignmentOffset:U}},reset:q}}}),xO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:d,elements:u}=t,{mainAxis:a=!0,crossAxis:l=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...w}=mf(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=ps(o),v=Vl(c),g=ps(c)===c,b=await(d.isRTL==null?void 0:d.isRTL(u.floating)),k=f||(g||!m?[Dd(c)]:gO(c)),E=h!=="none";!f&&E&&k.push(...yO(c,m,h,b));const C=[c,...k],S=await _O(t,w),T=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(a&&T.push(S[y]),l){const $=mO(o,s,b);T.push(S[$[0]],S[$[1]])}if(P=[...P,{placement:o,overflows:T}],!T.every($=>$<=0)){var L,M;const $=(((L=i.flip)==null?void 0:L.index)||0)+1,z=C[$];if(z)return{data:{index:$,overflows:P},reset:{placement:z}};let q=(M=P.filter(U=>U.overflows[0]<=0).sort((U,Y)=>U.overflows[1]-Y.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(p){case"bestFit":{var F;const U=(F=P.filter(Y=>{if(E){const R=Vl(Y.placement);return R===v||R==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(R=>R>0).reduce((R,B)=>R+B,0)]).sort((Y,R)=>Y[1]-R[1])[0])==null?void 0:F[0];U&&(q=U);break}case"initialPlacement":q=c;break}if(o!==q)return{reset:{placement:q}}}return{}}}};async function CO(e,t){const{placement:r,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),s=ps(r),c=uu(r),d=Vl(r)==="y",u=["left","top"].includes(s)?-1:1,a=i&&d?-1:1,l=mf(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return c&&typeof h=="number"&&(p=c==="end"?h*-1:h),d?{x:p*a,y:f*u}:{x:f*u,y:p*a}}const EO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:i,placement:s,middlewareData:c}=t,d=await CO(t,e);return s===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+d.x,y:i+d.y,data:{...d,placement:s}}}}};function k_(e){const t=cr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=to(e),i=o?e.offsetWidth:r,s=o?e.offsetHeight:n,c=Ed(r)!==i||Ed(n)!==s;return c&&(r=i,n=s),{width:r,height:n,$:c}}function Cg(e){return yn(e)?e:e.contextElement}function Xa(e){const t=Cg(e);if(!to(t))return ci(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:i}=k_(t);let s=(i?Ed(r.width):r.width)/n,c=(i?Ed(r.height):r.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const DO=ci(0);function x_(e){const t=Yn(e);return!_g()||!t.visualViewport?DO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function SO(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yn(e)?!1:t}function ia(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),i=Cg(e);let s=ci(1);t&&(n?yn(n)&&(s=Xa(n)):s=Xa(e));const c=SO(i,r,n)?x_(i):ci(0);let d=(o.left+c.x)/s.x,u=(o.top+c.y)/s.y,a=o.width/s.x,l=o.height/s.y;if(i){const f=Yn(i),p=n&&yn(n)?Yn(n):n;let h=f,m=h.frameElement;for(;m&&n&&p!==h;){const w=Xa(m),y=m.getBoundingClientRect(),v=cr(m),g=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*w.x,b=y.top+(m.clientTop+parseFloat(v.paddingTop))*w.y;d*=w.x,u*=w.y,a*=w.x,l*=w.y,d+=g,u+=b,h=Yn(m),m=h.frameElement}}return Sd({width:a,height:l,x:d,y:u})}function TO(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const i=o==="fixed",s=Do(n),c=t?pf(t.floating):!1;if(n===s||c&&i)return r;let d={scrollLeft:0,scrollTop:0},u=ci(1);const a=ci(0),l=to(n);if((l||!l&&!i)&&((ks(n)!=="body"||lu(s))&&(d=hf(n)),to(n))){const f=ia(n);u=Xa(n),a.x=f.x+n.clientLeft,a.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+a.x,y:r.y*u.y-d.scrollTop*u.y+a.y}}function PO(e){return Array.from(e.getClientRects())}function C_(e){return ia(Do(e)).left+hf(e).scrollLeft}function OO(e){const t=Do(e),r=hf(e),n=e.ownerDocument.body,o=Qi(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Qi(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+C_(e);const c=-r.scrollTop;return cr(n).direction==="rtl"&&(s+=Qi(t.clientWidth,n.clientWidth)-o),{width:o,height:i,x:s,y:c}}function IO(e,t){const r=Yn(e),n=Do(e),o=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,d=0;if(o){i=o.width,s=o.height;const u=_g();(!u||u&&t==="fixed")&&(c=o.offsetLeft,d=o.offsetTop)}return{width:i,height:s,x:c,y:d}}function RO(e,t){const r=ia(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,i=to(e)?Xa(e):ci(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,d=o*i.x,u=n*i.y;return{width:s,height:c,x:d,y:u}}function dy(e,t,r){let n;if(t==="viewport")n=IO(e,r);else if(t==="document")n=OO(Do(e));else if(yn(t))n=RO(t,r);else{const o=x_(e);n={...t,x:t.x-o.x,y:t.y-o.y}}return Sd(n)}function E_(e,t){const r=ui(e);return r===t||!yn(r)||ds(r)?!1:cr(r).position==="fixed"||E_(r,t)}function NO(e,t){const r=t.get(e);if(r)return r;let n=ql(e,[],!1).filter(c=>yn(c)&&ks(c)!=="body"),o=null;const i=cr(e).position==="fixed";let s=i?ui(e):e;for(;yn(s)&&!ds(s);){const c=cr(s),d=bg(s);!d&&c.position==="fixed"&&(o=null),(i?!d&&!o:!d&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||lu(s)&&!d&&E_(e,s))?n=n.filter(a=>a!==s):o=c,s=ui(s)}return t.set(e,n),n}function MO(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const s=[...r==="clippingAncestors"?pf(t)?[]:NO(t,this._c):[].concat(r),n],c=s[0],d=s.reduce((u,a)=>{const l=dy(t,a,o);return u.top=Qi(l.top,u.top),u.right=fs(l.right,u.right),u.bottom=fs(l.bottom,u.bottom),u.left=Qi(l.left,u.left),u},dy(t,c,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function LO(e){const{width:t,height:r}=k_(e);return{width:t,height:r}}function AO(e,t,r){const n=to(t),o=Do(t),i=r==="fixed",s=ia(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=ci(0);if(n||!n&&!i)if((ks(t)!=="body"||lu(o))&&(c=hf(t)),n){const l=ia(t,!0,i,t);d.x=l.x+t.clientLeft,d.y=l.y+t.clientTop}else o&&(d.x=C_(o));const u=s.left+c.scrollLeft-d.x,a=s.top+c.scrollTop-d.y;return{x:u,y:a,width:s.width,height:s.height}}function Rp(e){return cr(e).position==="static"}function fy(e,t){return!to(e)||cr(e).position==="fixed"?null:t?t(e):e.offsetParent}function D_(e,t){const r=Yn(e);if(pf(e))return r;if(!to(e)){let o=ui(e);for(;o&&!ds(o);){if(yn(o)&&!Rp(o))return o;o=ui(o)}return r}let n=fy(e,t);for(;n&&uO(n)&&Rp(n);)n=fy(n,t);return n&&ds(n)&&Rp(n)&&!bg(n)?r:n||cO(e)||r}const FO=async function(e){const t=this.getOffsetParent||D_,r=this.getDimensions,n=await r(e.floating);return{reference:AO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $O(e){return cr(e).direction==="rtl"}const zO={convertOffsetParentRelativeRectToViewportRelativeRect:TO,getDocumentElement:Do,getClippingRect:MO,getOffsetParent:D_,getElementRects:FO,getClientRects:PO,getDimensions:LO,getScale:Xa,isElement:yn,isRTL:$O};function BO(e,t){let r=null,n;const o=Do(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function s(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const{left:u,top:a,width:l,height:f}=e.getBoundingClientRect();if(c||t(),!l||!f)return;const p=fc(a),h=fc(o.clientWidth-(u+l)),m=fc(o.clientHeight-(a+f)),w=fc(u),v={rootMargin:-p+"px "+-h+"px "+-m+"px "+-w+"px",threshold:Qi(0,fs(1,d))||1};let g=!0;function b(k){const E=k[0].intersectionRatio;if(E!==d){if(!g)return s();E?s(!1,E):n=setTimeout(()=>{s(!1,1e-7)},1e3)}g=!1}try{r=new IntersectionObserver(b,{...v,root:o.ownerDocument})}catch{r=new IntersectionObserver(b,v)}r.observe(e)}return s(!0),i}function HO(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=Cg(e),a=o||i?[...u?ql(u):[],...ql(t)]:[];a.forEach(y=>{o&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const l=u&&c?BO(u,r):null;let f=-1,p=null;s&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),r()}),u&&!d&&p.observe(u),p.observe(t));let h,m=d?ia(e):null;d&&w();function w(){const y=ia(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&r(),m=y,h=requestAnimationFrame(w)}return r(),()=>{var y;a.forEach(v=>{o&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),l?.(),(y=p)==null||y.disconnect(),p=null,d&&cancelAnimationFrame(h)}}const UO=EO,WO=xO,py=kO,YO=(e,t,r)=>{const n=new Map,o={platform:zO,...r},i={...o.platform,_c:n};return bO(e,t,{...o,platform:i})};var zc=typeof document<"u"?G.useLayoutEffect:G.useEffect;function Td(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Td(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!Td(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function S_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hy(e,t){const r=S_(e);return Math.round(t*r)/r}function my(e){const t=G.useRef(e);return zc(()=>{t.current=e}),t}function qO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[a,l]=G.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=G.useState(n);Td(f,n)||p(n);const[h,m]=G.useState(null),[w,y]=G.useState(null),v=G.useCallback(U=>{U!==E.current&&(E.current=U,m(U))},[]),g=G.useCallback(U=>{U!==C.current&&(C.current=U,y(U))},[]),b=i||h,k=s||w,E=G.useRef(null),C=G.useRef(null),S=G.useRef(a),T=d!=null,P=my(d),L=my(o),M=G.useCallback(()=>{if(!E.current||!C.current)return;const U={placement:t,strategy:r,middleware:f};L.current&&(U.platform=L.current),YO(E.current,C.current,U).then(Y=>{const R={...Y,isPositioned:!0};F.current&&!Td(S.current,R)&&(S.current=R,lf.flushSync(()=>{l(R)}))})},[f,t,r,L]);zc(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,l(U=>({...U,isPositioned:!1})))},[u]);const F=G.useRef(!1);zc(()=>(F.current=!0,()=>{F.current=!1}),[]),zc(()=>{if(b&&(E.current=b),k&&(C.current=k),b&&k){if(P.current)return P.current(b,k,M);M()}},[b,k,M,P,T]);const $=G.useMemo(()=>({reference:E,floating:C,setReference:v,setFloating:g}),[v,g]),z=G.useMemo(()=>({reference:b,floating:k}),[b,k]),q=G.useMemo(()=>{const U={position:r,left:0,top:0};if(!z.floating)return U;const Y=hy(z.floating,a.x),R=hy(z.floating,a.y);return c?{...U,transform:"translate("+Y+"px, "+R+"px)",...S_(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:R}},[r,c,z.floating,a.x,a.y]);return G.useMemo(()=>({...a,update:M,refs:$,elements:z,floatingStyles:q}),[a,M,$,z,q])}const VO=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?py({element:n.current,padding:o}).fn(r):{}:n?py({element:n,padding:o}).fn(r):{}}}},QO=(e,t)=>({...UO(e),options:[e,t]}),KO=(e,t)=>({...WO(e),options:[e,t]}),GO=(e,t)=>({...VO(e),options:[e,t]}),T_={...Gp},jO=T_.useInsertionEffect,XO=jO||(e=>e());function ZO(e){const t=G.useRef(()=>{});return XO(()=>{t.current=e}),G.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}var Pd=typeof document<"u"?G.useLayoutEffect:G.useEffect;function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}let gy=!1,JO=0;const vy=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+JO++;function eI(){const[e,t]=G.useState(()=>gy?vy():void 0);return Pd(()=>{e==null&&t(vy())},[]),G.useEffect(()=>{gy=!0},[]),e}const tI=T_.useId,P_=tI||eI,nI=G.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:o},middlewareData:{arrow:i}},width:s=14,height:c=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:a,stroke:l,d:f,style:{transform:p,...h}={},...m}=t,w=P_(),[y,v]=G.useState(!1);if(Pd(()=>{if(!o)return;cr(o).direction==="rtl"&&v(!0)},[o]),!o)return null;const g=u*2,b=g/2,k=s/2*(d/-8+1),E=c/2*d/4,[C,S]=n.split("-"),T=!!f,P=C==="top"||C==="bottom",L=a&&S==="end"?"bottom":"top";let M=a&&S==="end"?"right":"left";a&&y&&(M=S==="end"?"left":"right");const F=i?.x!=null?a||i.x:"",$=i?.y!=null?a||i.y:"",z=f||"M0,0"+(" H"+s)+(" L"+(s-k)+","+(c-E))+(" Q"+s/2+","+c+" "+k+","+(c-E))+" Z",q={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[C];return G.createElement("svg",Gh({},m,{"aria-hidden":!0,ref:r,width:T?s:s+g,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[M]:F,[L]:$,[C]:P||T?"100%":"calc(100% - "+g/2+"px)",transform:""+q+(p??""),...h}}),g>0&&G.createElement("path",{clipPath:"url(#"+w+")",fill:"none",stroke:l,strokeWidth:g+(f?0:1),d:z}),G.createElement("path",{stroke:g&&!f?m.fill:"none",d:z}),G.createElement("clipPath",{id:w},G.createElement("rect",{x:-b,y:b*(T?-1:1),width:s+g,height:s})))});function rI(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(o=>o(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(o=>o!==r))||[])}}}const oI=G.createContext(null),iI=G.createContext(null),aI=()=>{var e;return((e=G.useContext(oI))==null?void 0:e.id)||null},sI=()=>G.useContext(iI);function lI(e){const{open:t=!1,onOpenChange:r,elements:n}=e,o=P_(),i=G.useRef({}),[s]=G.useState(()=>rI()),c=aI()!=null,[d,u]=G.useState(n.reference),a=ZO((p,h,m)=>{i.current.openEvent=p?h:void 0,s.emit("openchange",{open:p,event:h,reason:m,nested:c}),r?.(p,h,m)}),l=G.useMemo(()=>({setPositionReference:u}),[]),f=G.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return G.useMemo(()=>({dataRef:i,open:t,onOpenChange:a,elements:f,events:s,floatingId:o,refs:l}),[t,a,f,s,o,l])}function uI(e){e===void 0&&(e={});const{nodeId:t}=e,r=lI({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,o=n.elements,[i,s]=G.useState(null),[c,d]=G.useState(null),a=o?.reference||i,l=G.useRef(null),f=sI();Pd(()=>{a&&(l.current=a)},[a]);const p=qO({...e,elements:{...o,...c&&{reference:c}}}),h=G.useCallback(g=>{const b=yn(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;d(b),p.refs.setReference(b)},[p.refs]),m=G.useCallback(g=>{(yn(g)||g===null)&&(l.current=g,s(g)),(yn(p.refs.reference.current)||p.refs.reference.current===null||g!==null&&!yn(g))&&p.refs.setReference(g)},[p.refs]),w=G.useMemo(()=>({...p.refs,setReference:m,setPositionReference:h,domReference:l}),[p.refs,m,h]),y=G.useMemo(()=>({...p.elements,domReference:a}),[p.elements,a]),v=G.useMemo(()=>({...p,...n,refs:w,elements:y,nodeId:t}),[p,w,y,t,n]);return Pd(()=>{n.dataRef.current.floatingContext=v;const g=f?.nodesRef.current.find(b=>b.id===t);g&&(g.context=v)}),G.useMemo(()=>({...p,context:v,refs:w,elements:y}),[p,w,y,v])}/*!
  react-datepicker v7.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var jh=function(t,r){return jh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},jh(t,r)};function Kt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ue=function(){return Ue=Object.assign||function(r){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Ue.apply(this,arguments)};function Kr(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var cI=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,o=n===void 0?!1:n,i=e.className,s=e.children,c=r?"Choose Time":"Choose Date".concat(o?" and Time":"");return O.createElement("div",{className:i,role:"dialog","aria-label":c,"aria-modal":"true"},s)},le;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(le||(le={}));function O_(){var e=typeof window<"u"?window:globalThis;return e}var cu=12,dI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Ze(e){if(e==null)return new Date;var t=typeof e=="string"?YP(e):ce(e);return co(t)?t:new Date}function fI(e,t,r,n,o){var i,s=null,c=Ki(r)||Ki(bl()),d=!0;if(Array.isArray(t))return t.forEach(function(a){var l=Op(e,a,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(d=co(l,o)&&e===ut(l,a,r)),co(l,o)&&d&&(s=l)}),s;if(s=Op(e,t,new Date,{locale:c,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)d=co(s)&&e===ut(s,t,r);else if(!co(s)){var u=((i=t.match(dI))!==null&&i!==void 0?i:[]).map(function(a){var l=a[0];if(l==="p"||l==="P"){var f=kd[l];return c?f(a,c.formatLong):l}return a}).join("");e.length>0&&(s=Op(e,u.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),co(s)||(s=new Date(e))}return co(s)&&d?s:null}function co(e,t){return xd(e)&&!oa(e,t??new Date("1/1/1800"))}function ut(e,t,r){if(r==="en")return oy(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Ki(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!n&&bl()&&Ki(bl())&&(n=Ki(bl())),oy(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function er(e,t){var r=t.dateFormat,n=t.locale,o=Array.isArray(r)&&r.length>0?r[0]:r;return e&&ut(e,o,n)||""}function pI(e,t,r){if(!e)return"";var n=er(e,r),o=t?er(t,r):"";return"".concat(n," - ").concat(o)}function hI(e,t){if(!e?.length)return"";var r=e[0]?er(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=er(e[1],t);return"".concat(r,", ").concat(n)}var o=e.length-1;return"".concat(r," (+").concat(o,")")}function Np(e,t){var r=t.hour,n=r===void 0?0:r,o=t.minute,i=o===void 0?0:o,s=t.second,c=s===void 0?0:s;return Ac(Fc($c(e,c),i),n)}function mI(e){return gg(e)}function gI(e,t){return ut(e,"ddd",t)}function Bc(e){return ra(e)}function oi(e,t,r){var n=Ki(t||bl());return xo(e,{locale:n,weekStartsOn:r})}function ii(e){return v_(e)}function ol(e){return ff(e)}function yy(e){return Qh(e)}function wy(){return ra(Ze())}function by(e){return o_(e)}function vI(e){return GS(e)}function Wr(e,t){return e&&t?QT(e,t):!e&&!t}function mn(e,t){return e&&t?qT(e,t):!e&&!t}function Od(e,t){return e&&t?VT(e,t):!e&&!t}function ze(e,t){return e&&t?YT(e,t):!e&&!t}function Ui(e,t){return e&&t?WT(e,t):!e&&!t}function il(e,t,r){var n,o=ra(t),i=o_(r);try{n=Yl(e,{start:o,end:i})}catch{n=!1}return n}function bl(){var e=O_();return e.__localeId__}function Ki(e){if(typeof e=="string"){var t=O_();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function yI(e,t,r){return t(ut(e,"EEEE",r))}function wI(e,t){return ut(e,"EEEEEE",t)}function bI(e,t){return ut(e,"EEE",t)}function Eg(e,t){return ut(zn(Ze(),e),"LLLL",t)}function I_(e,t){return ut(zn(Ze(),e),"LLL",t)}function _I(e,t){return ut(Ia(Ze(),e),"QQQ",t)}function Qo(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.maxDate,i=r.excludeDates,s=r.excludeDateIntervals,c=r.includeDates,d=r.includeDateIntervals,u=r.filterDate;return du(e,{minDate:n,maxDate:o})||i&&i.some(function(a){var l;return a instanceof Date?ze(e,a):ze(e,(l=a.date)!==null&&l!==void 0?l:new Date)})||s&&s.some(function(a){var l=a.start,f=a.end;return Yl(e,{start:l,end:f})})||c&&!c.some(function(a){return ze(e,a)})||d&&!d.some(function(a){var l=a.start,f=a.end;return Yl(e,{start:l,end:f})})||u&&!u(Ze(e))||!1}function Dg(e,t){var r=t===void 0?{}:t,n=r.excludeDates,o=r.excludeDateIntervals;return o&&o.length>0?o.some(function(i){var s=i.start,c=i.end;return Yl(e,{start:s,end:c})}):n&&n.some(function(i){var s;return i instanceof Date?ze(e,i):ze(e,(s=i.date)!==null&&s!==void 0?s:new Date)})||!1}function R_(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.maxDate,i=r.excludeDates,s=r.includeDates,c=r.filterDate;return du(e,{minDate:n?v_(n):void 0,maxDate:o?QS(o):void 0})||i?.some(function(d){return mn(e,d instanceof Date?d:d.date)})||s&&!s.some(function(d){return mn(e,d)})||c&&!c(Ze(e))||!1}function pc(e,t,r,n){var o=Ne(e),i=vn(e),s=Ne(t),c=vn(t),d=Ne(n);return o===s&&o===d?i<=r&&r<=c:o<s?d===o&&i<=r||d===s&&c>=r||d<s&&d>o:!1}function kI(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.maxDate,i=r.excludeDates,s=r.includeDates;return du(e,{minDate:n,maxDate:o})||i&&i.some(function(c){return mn(c instanceof Date?c:c.date,e)})||s&&!s.some(function(c){return mn(c,e)})||!1}function Mp(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.maxDate,i=r.excludeDates,s=r.includeDates,c=r.filterDate;return du(e,{minDate:n,maxDate:o})||i?.some(function(d){return Od(e,d instanceof Date?d:d.date)})||s&&!s.some(function(d){return Od(e,d)})||c&&!c(Ze(e))||!1}function hc(e,t,r){if(!t||!r||!xd(t)||!xd(r))return!1;var n=Ne(t),o=Ne(r);return n<=e&&o>=e}function Xh(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.maxDate,i=r.excludeDates,s=r.includeDates,c=r.filterDate,d=new Date(e,0,1);return du(d,{minDate:n?ff(n):void 0,maxDate:o?i_(o):void 0})||i?.some(function(u){return Wr(d,u instanceof Date?u:u.date)})||s&&!s.some(function(u){return Wr(d,u)})||c&&!c(Ze(d))||!1}function mc(e,t,r,n){var o=Ne(e),i=Vi(e),s=Ne(t),c=Vi(t),d=Ne(n);return o===s&&o===d?i<=r&&r<=c:o<s?d===o&&i<=r||d===s&&c>=r||d<s&&d>o:!1}function du(e,t){var r,n=t===void 0?{}:t,o=n.minDate,i=n.maxDate;return(r=o&&Wl(e,o)<0||i&&Wl(e,i)>0)!==null&&r!==void 0?r:!1}function _y(e,t){return t.some(function(r){return Zr(r)===Zr(e)&&Jr(r)===Jr(e)&&vo(r)===vo(e)})}function ky(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,o=r.includeTimes,i=r.filterTime;return n&&_y(e,n)||o&&!_y(e,o)||i&&!i(e)||!1}function xy(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var o=Ze();o=Ac(o,Zr(e)),o=Fc(o,Jr(e)),o=$c(o,vo(e));var i=Ze();i=Ac(i,Zr(r)),i=Fc(i,Jr(r)),i=$c(i,vo(r));var s=Ze();s=Ac(s,Zr(n)),s=Fc(s,Jr(n)),s=$c(s,vo(n));var c;try{c=!Yl(o,{start:i,end:s})}catch{c=!1}return c}function Cy(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.includeDates,i=us(e,1);return n&&wd(n,i)>0||o&&o.every(function(s){return wd(s,i)>0})||!1}function Ey(e,t){var r=t===void 0?{}:t,n=r.maxDate,o=r.includeDates,i=Rr(e,1);return n&&wd(i,n)>0||o&&o.every(function(s){return wd(i,s)>0})||!1}function xI(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.includeDates,i=ff(e),s=y_(i,1);return n&&bd(n,s)>0||o&&o.every(function(c){return bd(c,s)>0})||!1}function CI(e,t){var r=t===void 0?{}:t,n=r.maxDate,o=r.includeDates,i=i_(e),s=mg(i,1);return n&&bd(s,n)>0||o&&o.every(function(c){return bd(s,c)>0})||!1}function Dy(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.includeDates,i=cs(e,1);return n&&_d(n,i)>0||o&&o.every(function(s){return _d(s,i)>0})||!1}function EI(e,t){var r=t===void 0?{}:t,n=r.minDate,o=r.yearItemNumber,i=o===void 0?cu:o,s=ol(cs(e,i)),c=Ko(s,i).endPeriod,d=n&&Ne(n);return d&&d>c||!1}function Sy(e,t){var r=t===void 0?{}:t,n=r.maxDate,o=r.includeDates,i=mo(e,1);return n&&_d(i,n)>0||o&&o.every(function(s){return _d(i,s)>0})||!1}function DI(e,t){var r=t===void 0?{}:t,n=r.maxDate,o=r.yearItemNumber,i=o===void 0?cu:o,s=mo(e,i),c=Ko(s,i).startPeriod,d=n&&Ne(n);return d&&d<c||!1}function N_(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(o){return Wl(o,t)>=0});return sy(n)}else return r?sy(r):t}function M_(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(o){return Wl(o,t)<=0});return ay(n)}else return r?ay(r):t}function Ty(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,o=0,i=e.length;o<i;o++){var s=e[o];if(go(s)){var c=ut(s,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(t)||(d.push(t),n.set(c,d))}else if(typeof s=="object"){var u=Object.keys(s),a=(r=u[0])!==null&&r!==void 0?r:"",l=s[a];if(typeof a=="string"&&Array.isArray(l))for(var f=0,p=l.length;f<p;f++){var h=l[f];if(h){var c=ut(h,"MM.dd.yyyy"),d=n.get(c)||[];d.includes(a)||(d.push(a),n.set(c,d))}}}}return n}function SI(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function TI(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var o=n.date,i=n.holidayName;if(go(o)){var s=ut(o,"MM.dd.yyyy"),c=r.get(s)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===t&&SI(c.holidayNames,[i]))){c.className=t;var d=c.holidayNames;c.holidayNames=d?Kr(Kr([],d,!0),[i],!1):[i],r.set(s,c)}}}),r}function PI(e,t,r,n,o){for(var i=o.length,s=[],c=0;c<i;c++){var d=e,u=o[c];u&&(d=qS(d,Zr(u)),d=Yh(d,Jr(u)),d=VS(d,vo(u)));var a=Yh(e,(r+1)*n);li(d,t)&&oa(d,a)&&u!=null&&s.push(u)}return s}function Py(e){return e<10?"0".concat(e):"".concat(e)}function Ko(e,t){t===void 0&&(t=cu);var r=Math.ceil(Ne(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function OI(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function Oy(e){var t=e.getSeconds(),r=e.getMilliseconds();return ce(e.getTime()-t*1e3-r)}function II(e,t){return Oy(e).getTime()===Oy(t).getTime()}function Iy(e){if(!go(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Ry(e,t){if(!go(e)||!go(t))throw new Error("Invalid date received");var r=Iy(e),n=Iy(t);return oa(r,n)}function L_(e){return e.key===le.Space}var RI=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;return n.onTimeChange=function(o){var i,s;n.setState({time:o});var c=n.props.date,d=c instanceof Date&&!isNaN(+c),u=d?c:new Date;if(o?.includes(":")){var a=o.split(":"),l=a[0],f=a[1];u.setHours(Number(l)),u.setMinutes(Number(f))}(s=(i=n.props).onChange)===null||s===void 0||s.call(i,u)},n.renderTimeInput=function(){var o=n.state.time,i=n.props,s=i.date,c=i.timeString,d=i.customTimeInput;return d?G.cloneElement(d,{date:s,value:o,onChange:n.onTimeChange}):O.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:o,onChange:function(u){n.onTimeChange(u.target.value||c)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return O.createElement("div",{className:"react-datepicker__input-time-container"},O.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),O.createElement("div",{className:"react-datepicker-time__input-container"},O.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(G.Component),NI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=G.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var o,i,s=n.key;s===le.Space&&(n.preventDefault(),n.key=le.Enter),(i=(o=r.props).handleOnKeyDown)===null||i===void 0||i.call(o,n)},r.isSameDay=function(n){return ze(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var o=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!o&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Qo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return Dg(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return ze(r.props.day,oi(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&ze(n,oi(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,o=n.day,i=n.highlightDates;if(!i)return!1;var s=ut(o,"MM.dd.yyyy");return i.get(s)},r.getHolidaysClass=function(){var n,o=r.props,i=o.day,s=o.holidays;if(!s)return[void 0];var c=ut(i,"MM.dd.yyyy");return s.has(c)?[(n=s.get(c))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,o=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:il(o,i,s)},r.isInSelectingRange=function(){var n,o=r.props,i=o.day,s=o.selectsStart,c=o.selectsEnd,d=o.selectsRange,u=o.selectsDisabledDaysInRange,a=o.startDate,l=o.endDate,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(s||c||d)||!f||!u&&r.isDisabled()?!1:s&&l&&(oa(f,l)||Ui(f,l))?il(i,f,l):c&&a&&(li(f,a)||Ui(f,a))||d&&a&&!l&&(li(f,a)||Ui(f,a))?il(i,a,f):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var o=r.props,i=o.day,s=o.startDate,c=o.selectsStart,d=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return c?ze(i,d):ze(i,s)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var o=r.props,i=o.day,s=o.endDate,c=o.selectsEnd,d=o.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return c||d?ze(i,u):ze(i,s)},r.isRangeStart=function(){var n=r.props,o=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:ze(i,o)},r.isRangeEnd=function(){var n=r.props,o=n.day,i=n.startDate,s=n.endDate;return!i||!s?!1:ze(s,o)},r.isWeekend=function(){var n=UT(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===vn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(vn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Ze())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var o=r.props.dayClassName?r.props.dayClassName(n):void 0;return qt("react-datepicker__day",o,"react-datepicker__day--"+gI(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,o=n.day,i=n.ariaLabelPrefixWhenEnabled,s=i===void 0?"Choose":i,c=n.ariaLabelPrefixWhenDisabled,d=c===void 0?"Not available":c,u=r.isDisabled()||r.isExcluded()?d:s;return"".concat(u," ").concat(ut(o,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,o=n.day,i=n.holidays,s=i===void 0?new Map:i,c=n.excludeDates,d=ut(o,"MM.dd.yyyy"),u=[];return s.has(d)&&u.push.apply(u,s.get(d).holidayNames),r.isExcluded()&&u.push(c?.filter(function(a){return a instanceof Date?ze(a,o):ze(a?.date,o)}).map(function(a){if(!(a instanceof Date))return a?.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,o=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&ze(o,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(iy(r.props.day),r.props.day):iy(r.props.day)},r.render=function(){return O.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&O.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,o;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(G.Component),MI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=G.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var o,i,s=n.key;s===le.Space&&(n.preventDefault(),n.key=le.Enter),(i=(o=r.props).handleOnKeyDown)===null||i===void 0||i.call(o,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ze(r.props.date,r.props.selected)&&ze(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||ze(r.props.date,r.props.selected)&&ze(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var o=!1;r.getTabIndex()===0&&!n?.isInputFocused&&ze(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(o=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,o=r.ariaLabelPrefix,i=o===void 0?t.defaultProps.ariaLabelPrefix:o,s=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s,"react-datepicker__week-number--selected":!!s&&ze(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return O.createElement("div",{ref:this.weekNumberEl,className:qt(c),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(G.Component),LI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Qo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,o){r.props.onDayClick&&r.props.onDayClick(n,o)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,o,i){for(var s,c,d,u=new Date(n),a=0;a<7;a++){var l=new Date(n);l.setDate(l.getDate()+a);var f=!r.isDisabled(l);if(f){u=l;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,o,i),r.props.showWeekPicker&&r.handleDayClick(u,i),((s=r.props.shouldCloseOnSelect)!==null&&s!==void 0?s:t.defaultProps.shouldCloseOnSelect)&&((d=(c=r.props).setOpen)===null||d===void 0||d.call(c,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):mI(n)},r.renderDays=function(){var n=r.startOfWeek(),o=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var s=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;o.push(O.createElement(MI,Ue({key:"W"},t.defaultProps,r.props,{weekNumber:i,date:n,onClick:s})))}return o.concat([0,1,2,3,4,5,6].map(function(c){var d=vi(n,c);return O.createElement(NI,Ue({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:r.handleDayClick.bind(r,d),onMouseEnter:r.handleDayMouseEnter.bind(r,d)}))}))},r.startOfWeek=function(){return oi(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ze(r.startOfWeek(),r.props.selected)&&ze(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":ze(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return O.createElement("div",{className:qt(r)},this.renderDays())},t}(G.Component),Xs,AI=6,Za={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Lp=(Xs={},Xs[Za.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Xs[Za.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Xs[Za.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Xs),gc=1;function Ny(e,t){return e?Za.FOUR_COLUMNS:t?Za.TWO_COLUMNS:Za.THREE_COLUMNS}var FI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=Kr([],Array(12),!0).map(function(){return G.createRef()}),r.QUARTER_REFS=Kr([],Array(4),!0).map(function(){return G.createRef()}),r.isDisabled=function(n){return Qo(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return Dg(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,o){var i,s;(s=(i=r.props).onDayClick)===null||s===void 0||s.call(i,n,o,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var o,i;(i=(o=r.props).onDayMouseEnter)===null||i===void 0||i.call(o,n)},r.handleMouseLeave=function(){var n,o;(o=(n=r.props).onMouseLeave)===null||o===void 0||o.call(n)},r.isRangeStartMonth=function(n){var o=r.props,i=o.day,s=o.startDate,c=o.endDate;return!s||!c?!1:mn(zn(i,n),s)},r.isRangeStartQuarter=function(n){var o=r.props,i=o.day,s=o.startDate,c=o.endDate;return!s||!c?!1:Od(Ia(i,n),s)},r.isRangeEndMonth=function(n){var o=r.props,i=o.day,s=o.startDate,c=o.endDate;return!s||!c?!1:mn(zn(i,n),c)},r.isRangeEndQuarter=function(n){var o=r.props,i=o.day,s=o.startDate,c=o.endDate;return!s||!c?!1:Od(Ia(i,n),c)},r.isInSelectingRangeMonth=function(n){var o,i=r.props,s=i.day,c=i.selectsStart,d=i.selectsEnd,u=i.selectsRange,a=i.startDate,l=i.endDate,f=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(c||d||u)||!f?!1:c&&l?pc(f,l,n,s):d&&a||u&&a&&!l?pc(a,f,n,s):!1},r.isSelectingMonthRangeStart=function(n){var o;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,c=i.startDate,d=i.selectsStart,u=zn(s,n),a=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return d?mn(u,a):mn(u,c)},r.isSelectingMonthRangeEnd=function(n){var o;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,s=i.day,c=i.endDate,d=i.selectsEnd,u=i.selectsRange,a=zn(s,n),l=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return d||u?mn(a,l):mn(a,c)},r.isInSelectingRangeQuarter=function(n){var o,i=r.props,s=i.day,c=i.selectsStart,d=i.selectsEnd,u=i.selectsRange,a=i.startDate,l=i.endDate,f=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(c||d||u)||!f?!1:c&&l?mc(f,l,n,s):d&&a||u&&a&&!l?mc(a,f,n,s):!1},r.isWeekInMonth=function(n){var o=r.props.day,i=vi(n,6);return mn(n,o)||mn(i,o)},r.isCurrentMonth=function(n,o){return Ne(n)===Ne(Ze())&&o===vn(Ze())},r.isCurrentQuarter=function(n,o){return Ne(n)===Ne(Ze())&&o===Vi(Ze())},r.isSelectedMonth=function(n,o,i){return vn(i)===o&&Ne(n)===Ne(i)},r.isSelectMonthInList=function(n,o,i){return i.some(function(s){return r.isSelectedMonth(n,o,s)})},r.isSelectedQuarter=function(n,o,i){return Vi(n)===o&&Ne(n)===Ne(i)},r.renderWeeks=function(){for(var n=[],o=r.props.fixedHeight,i=0,s=!1,c=oi(ii(r.props.day),r.props.locale,r.props.calendarStartDay),d=function(h){return r.props.showWeekPicker?oi(h,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(h){return r.props.showWeekPicker?oi(h,r.props.locale,r.props.calendarStartDay):r.props.selected},a=r.props.selected?u(r.props.selected):void 0,l=r.props.preSelection?d(r.props.preSelection):void 0;n.push(O.createElement(LI,Ue({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:c,month:vn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:a,preSelection:l,showWeekNumber:r.props.showWeekNumbers}))),!s;){i++,c=vd(c,1);var f=o&&i>=AI,p=!o&&!r.isWeekInMonth(c);if(f||p)if(r.props.peekNextMonth)s=!0;else break}return n},r.onMonthClick=function(n,o){var i=r.isMonthDisabledForLabelDate(o),s=i.isDisabled,c=i.labelDate;s||r.handleDayClick(ii(c),n)},r.onMonthMouseEnter=function(n){var o=r.isMonthDisabledForLabelDate(n),i=o.isDisabled,s=o.labelDate;i||r.handleDayMouseEnter(ii(s))},r.handleMonthNavigation=function(n,o){var i,s,c,d;(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,o),(d=(c=r.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus()},r.handleKeyboardNavigation=function(n,o,i){var s,c=r.props,d=c.selected,u=c.preSelection,a=c.setPreSelection,l=c.minDate,f=c.maxDate,p=c.showFourColumnMonthYearPicker,h=c.showTwoColumnMonthYearPicker;if(u){var m=Ny(p,h),w=r.getVerticalOffset(m),y=(s=Lp[m])===null||s===void 0?void 0:s.grid,v=function(C,S,T){var P,L,M=S,F=T;switch(C){case le.ArrowRight:M=Rr(S,gc),F=T===11?0:T+gc;break;case le.ArrowLeft:M=us(S,gc),F=T===0?11:T-gc;break;case le.ArrowUp:M=us(S,w),F=!((P=y?.[0])===null||P===void 0)&&P.includes(T)?T+12-w:T-w;break;case le.ArrowDown:M=Rr(S,w),F=!((L=y?.[y.length-1])===null||L===void 0)&&L.includes(T)?T-12+w:T+w;break}return{newCalculatedDate:M,newCalculatedMonth:F}},g=function(C,S,T){for(var P=40,L=C,M=!1,F=0,$=v(L,S,T),z=$.newCalculatedDate,q=$.newCalculatedMonth;!M;){if(F>=P){z=S,q=T;break}if(l&&z<l){L=le.ArrowRight;var U=v(L,z,q);z=U.newCalculatedDate,q=U.newCalculatedMonth}if(f&&z>f){L=le.ArrowLeft;var U=v(L,z,q);z=U.newCalculatedDate,q=U.newCalculatedMonth}if(kI(z,r.props)){var U=v(L,z,q);z=U.newCalculatedDate,q=U.newCalculatedMonth}else M=!0;F++}return{newCalculatedDate:z,newCalculatedMonth:q}};if(o===le.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),a?.(d));return}var b=g(o,u,i),k=b.newCalculatedDate,E=b.newCalculatedMonth;switch(o){case le.ArrowRight:case le.ArrowLeft:case le.ArrowUp:case le.ArrowDown:r.handleMonthNavigation(E,k);break}}},r.getVerticalOffset=function(n){var o,i;return(i=(o=Lp[n])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,o){var i=r.props,s=i.disabledKeyboardNavigation,c=i.handleOnMonthKeyDown,d=n.key;d!==le.Tab&&n.preventDefault(),s||r.handleKeyboardNavigation(n,d,o),c&&c(n)},r.onQuarterClick=function(n,o){var i=Ia(r.props.day,o);Mp(i,r.props)||r.handleDayClick(yy(i),n)},r.onQuarterMouseEnter=function(n){var o=Ia(r.props.day,n);Mp(o,r.props)||r.handleDayMouseEnter(yy(o))},r.handleQuarterNavigation=function(n,o){var i,s,c,d;r.isDisabled(o)||r.isExcluded(o)||((s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,o),(d=(c=r.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())},r.onQuarterKeyDown=function(n,o){var i,s,c=n.key;if(!r.props.disabledKeyboardNavigation)switch(c){case le.Enter:r.onQuarterClick(n,o),(s=(i=r.props).setPreSelection)===null||s===void 0||s.call(i,r.props.selected);break;case le.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===4?1:o+1,mg(r.props.preSelection,1));break;case le.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(o===1?4:o-1,y_(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(n){var o,i=r.props,s=i.day,c=i.minDate,d=i.maxDate,u=i.excludeDates,a=i.includeDates,l=zn(s,n);return{isDisabled:(o=(c||d||u||a)&&R_(l,r.props))!==null&&o!==void 0?o:!1,labelDate:l}},r.isMonthDisabled=function(n){var o=r.isMonthDisabledForLabelDate(n).isDisabled;return o},r.getMonthClassNames=function(n){var o=r.props,i=o.day,s=o.startDate,c=o.endDate,d=o.preSelection,u=o.monthClassName,a=u?u(zn(i,n)):void 0,l=r.getSelection();return qt("react-datepicker__month-text","react-datepicker__month-".concat(n),a,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":l?r.isSelectMonthInList(i,n,l):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&d&&r.isSelectedMonth(i,n,d)&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":s&&c?pc(s,c,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var o=vn(r.props.preSelection),i=!r.props.disabledKeyboardNavigation&&n===o?"0":"-1";return i},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var o=Vi(r.props.preSelection),i=!r.props.disabledKeyboardNavigation&&n===o?"0":"-1";return i},r.getAriaLabel=function(n){var o=r.props,i=o.chooseDayAriaLabelPrefix,s=i===void 0?"Choose":i,c=o.disabledDayAriaLabelPrefix,d=c===void 0?"Not available":c,u=o.day,a=o.locale,l=zn(u,n),f=r.isDisabled(l)||r.isExcluded(l)?d:s;return"".concat(f," ").concat(ut(l,"MMMM yyyy",a))},r.getQuarterClassNames=function(n){var o=r.props,i=o.day,s=o.startDate,c=o.endDate,d=o.selected,u=o.minDate,a=o.maxDate,l=o.excludeDates,f=o.includeDates,p=o.filterDate,h=o.preSelection,m=o.disabledKeyboardNavigation,w=(u||a||l||f||p)&&Mp(Ia(i,n),r.props);return qt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":d?r.isSelectedQuarter(i,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&h&&r.isSelectedQuarter(i,n,h)&&!w,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":s&&c?mc(s,c,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n)})},r.getMonthContent=function(n){var o=r.props,i=o.showFullMonthYearPicker,s=o.renderMonthContent,c=o.locale,d=o.day,u=I_(n,c),a=Eg(n,c);return s?s(n,u,a,d):i?a:u},r.getQuarterContent=function(n){var o,i=r.props,s=i.renderQuarterContent,c=i.locale,d=_I(n,c);return(o=s?.(n,d))!==null&&o!==void 0?o:d},r.renderMonths=function(){var n,o=r.props,i=o.showTwoColumnMonthYearPicker,s=o.showFourColumnMonthYearPicker,c=o.day,d=o.selected,u=(n=Lp[Ny(s,i)])===null||n===void 0?void 0:n.grid;return u?.map(function(a,l){return O.createElement("div",{className:"react-datepicker__month-wrapper",key:l},a.map(function(f,p){return O.createElement("div",{ref:r.MONTH_REFS[f],key:p,onClick:function(h){r.onMonthClick(h,f)},onKeyDown:function(h){L_(h)&&(h.preventDefault(),h.key=le.Enter),r.onMonthKeyDown(h,f)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(f)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(f)}:void 0,tabIndex:Number(r.getTabIndex(f)),className:r.getMonthClassNames(f),"aria-disabled":r.isMonthDisabled(f),role:"option","aria-label":r.getAriaLabel(f),"aria-current":r.isCurrentMonth(c,f)?"date":void 0,"aria-selected":d?r.isSelectedMonth(c,f,d):void 0},r.getMonthContent(f))}))})},r.renderQuarters=function(){var n=r.props,o=n.day,i=n.selected,s=[1,2,3,4];return O.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(c,d){return O.createElement("div",{key:d,ref:r.QUARTER_REFS[d],role:"option",onClick:function(u){r.onQuarterClick(u,c)},onKeyDown:function(u){r.onQuarterKeyDown(u,c)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(c)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(c)}:void 0,className:r.getQuarterClassNames(c),"aria-selected":i?r.isSelectedQuarter(o,c,i):void 0,tabIndex:Number(r.getQuarterTabIndex(c)),"aria-current":r.isCurrentQuarter(o,c)?"date":void 0},r.getQuarterContent(c))}))},r.getClassNames=function(){var n=r.props,o=n.selectingDate,i=n.selectsStart,s=n.selectsEnd,c=n.showMonthYearPicker,d=n.showQuarterYearPicker,u=n.showWeekPicker;return qt("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(i||s)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,o=r.selectedDates,i=r.selectsMultiple;if(i)return o;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,o=r.showQuarterYearPicker,i=r.day,s=r.ariaLabelPrefix,c=s===void 0?"Month ":s,d=c?c.trim()+" ":"";return O.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(ut(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():o?this.renderQuarters():this.renderWeeks())},t}(G.Component),$I=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,o){return O.createElement("div",{className:r.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,o),"aria-selected":r.isSelectedMonth(o)?"true":void 0},r.isSelectedMonth(o)?O.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return O.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},t}(G.Component),zI=uf($I),BI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(o,i){return O.createElement("option",{key:o,value:i},o)})},r.renderSelectMode=function(n){return O.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(o){return r.onChange(parseInt(o.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,o){return O.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},O.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),O.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[r.props.month]))},r.renderDropdown=function(n){return O.createElement(zI,Ue({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var o=r.state.dropdownVisible,i=[r.renderReadView(!o,n)];return o&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return I_(i,r.props.locale)}:function(i){return Eg(i,r.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(n);break;case"select":o=this.renderSelectMode(n);break}return O.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},t}(G.Component);function HI(e,t){for(var r=[],n=ii(e),o=ii(t);!li(n,o);)r.push(Ze(n)),n=Rr(n,1);return r}var UI=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(o){var i=Vh(o),s=Wr(n.props.date,o)&&mn(n.props.date,o);return O.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":s?"true":void 0},s?O.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",ut(o,n.props.dateFormat,n.props.locale))})},n.onChange=function(o){return n.props.onChange(o)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:HI(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=qt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return O.createElement("div",{className:r},this.renderOptions())},t}(G.Component),WI=uf(UI),YI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=ii(r.props.minDate),o=ii(r.props.maxDate),i=[];!li(n,o);){var s=Vh(n);i.push(O.createElement("option",{key:s,value:s},ut(n,r.props.dateFormat,r.props.locale))),n=Rr(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return O.createElement("select",{value:Vh(ii(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var o=ut(r.props.date,r.props.dateFormat,r.props.locale);return O.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},O.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),O.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},r.renderDropdown=function(){return O.createElement(WI,Ue({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,o=[r.renderReadView(!n)];return n&&o.unshift(r.renderDropdown()),o},r.onChange=function(n){r.toggleDropdown();var o=Ze(n);Wr(r.props.date,o)&&mn(r.props.date,o)||r.props.onChange(o)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return O.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(G.Component),qI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,o,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((o=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&o!==void 0?o:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var o,i;(r.props.minTime||r.props.maxTime)&&xy(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&ky(n,r.props)||(i=(o=r.props).onChange)===null||i===void 0||i.call(o,n)},r.isSelectedTime=function(n){return r.props.selected&&II(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&xy(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&ky(n,r.props)},r.liClasses=function(n){var o,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Zr(n)*3600+Jr(n)*60+vo(n))%(((o=r.props.intervals)!==null&&o!==void 0?o:t.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,o){var i,s;n.key===le.Space&&(n.preventDefault(),n.key=le.Enter),(n.key===le.ArrowUp||n.key===le.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===le.ArrowDown||n.key===le.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===le.Enter&&r.handleClick(o),(s=(i=r.props).handleOnKeyDown)===null||s===void 0||s.call(i,n)},r.renderTimes=function(){for(var n,o=[],i=r.props.format?r.props.format:"p",s=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,c=r.props.selected||r.props.openToDate||Ze(),d=Bc(c),u=r.props.injectTimes&&r.props.injectTimes.sort(function(w,y){return w.getTime()-y.getTime()}),a=60*OI(c),l=a/s,f=0;f<l;f++){var p=Yh(d,f*s);if(o.push(p),u){var h=PI(d,p,f,s,u);o=o.concat(h)}}var m=o.reduce(function(w,y){return y.getTime()<=c.getTime()?y:w},o[0]);return o.map(function(w){return O.createElement("li",{key:w.valueOf(),onClick:r.handleClick.bind(r,w),className:r.liClasses(w),ref:function(y){w===m&&(r.centerLi=y)},onKeyDown:function(y){r.handleOnKeyDown(y,w)},tabIndex:w===m?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},ut(w,i,r.props.locale))})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time"}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,o=this.state.height;return O.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},O.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){r.header=i}},O.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),O.createElement("div",{className:"react-datepicker__time"},O.createElement("div",{className:"react-datepicker__time-box"},O.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(G.Component),My=3,VI=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=Kr([],Array(n.props.yearItemNumber),!0).map(function(){return G.createRef()}),n.isDisabled=function(o){return Qo(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(o){return Dg(o,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var o;return(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection},n.updateFocusOnPaginate=function(o){var i=function(){var s,c;(c=(s=n.YEAR_REFS[o])===null||s===void 0?void 0:s.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(o,i){n.props.onDayClick&&n.props.onDayClick(o,i)},n.handleYearNavigation=function(o,i){var s,c,d,u,a=n.props,l=a.date,f=a.yearItemNumber;if(!(l===void 0||f===void 0)){var p=Ko(l,f).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,i),o-p<0?n.updateFocusOnPaginate(f-(p-o)):o-p>=f?n.updateFocusOnPaginate(Math.abs(f-(o-p))):(u=(d=n.YEAR_REFS[o-p])===null||d===void 0?void 0:d.current)===null||u===void 0||u.focus())}},n.isSameDay=function(o,i){return ze(o,i)},n.isCurrentYear=function(o){return o===Ne(Ze())},n.isRangeStart=function(o){return n.props.startDate&&n.props.endDate&&Wr(Ur(Ze(),o),n.props.startDate)},n.isRangeEnd=function(o){return n.props.startDate&&n.props.endDate&&Wr(Ur(Ze(),o),n.props.endDate)},n.isInRange=function(o){return hc(o,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(o){var i=n.props,s=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,u=i.startDate,a=i.endDate;return!(s||c||d)||!n.selectingDate()?!1:s&&a?hc(o,n.selectingDate(),a):c&&u||d&&u&&!a?hc(o,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(o){var i;if(!n.isInSelectingRange(o))return!1;var s=n.props,c=s.startDate,d=s.selectsStart,u=Ur(Ze(),o);return d?Wr(u,(i=n.selectingDate())!==null&&i!==void 0?i:null):Wr(u,c??null)},n.isSelectingRangeEnd=function(o){var i;if(!n.isInSelectingRange(o))return!1;var s=n.props,c=s.endDate,d=s.selectsEnd,u=s.selectsRange,a=Ur(Ze(),o);return d||u?Wr(a,(i=n.selectingDate())!==null&&i!==void 0?i:null):Wr(a,c??null)},n.isKeyboardSelected=function(o){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var i=n.props,s=i.minDate,c=i.maxDate,d=i.excludeDates,u=i.includeDates,a=i.filterDate,l=ol(Ur(n.props.date,o)),f=(s||c||d||u||a)&&Xh(o,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!ze(l,ol(n.props.selected))&&ze(l,ol(n.props.preSelection))&&!f}},n.onYearClick=function(o,i){var s=n.props.date;s!==void 0&&n.handleYearClick(ol(Ur(s,i)),o)},n.onYearKeyDown=function(o,i){var s,c,d=o.key,u=n.props,a=u.date,l=u.yearItemNumber,f=u.handleOnKeyDown;if(d!==le.Tab&&o.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case le.Enter:if(n.props.selected==null)break;n.onYearClick(o,i),(c=(s=n.props).setPreSelection)===null||c===void 0||c.call(s,n.props.selected);break;case le.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,mo(n.props.preSelection,1));break;case le.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,cs(n.props.preSelection,1));break;case le.ArrowUp:{if(a===void 0||l===void 0||n.props.preSelection==null)break;var p=Ko(a,l).startPeriod,h=My,m=i-h;if(m<p){var w=l%h;i>=p&&i<p+w?h=w:h+=w,m=i-h}n.handleYearNavigation(m,cs(n.props.preSelection,h));break}case le.ArrowDown:{if(a===void 0||l===void 0||n.props.preSelection==null)break;var y=Ko(a,l).endPeriod,h=My,m=i+h;if(m>y){var w=l%h;i<=y&&i>y-w?h=w:h+=w,m=i+h}n.handleYearNavigation(m,mo(n.props.preSelection,h));break}}f&&f(o)},n.getYearClassNames=function(o){var i=n.props,s=i.date,c=i.minDate,d=i.maxDate,u=i.selected,a=i.excludeDates,l=i.includeDates,f=i.filterDate,p=i.yearClassName;return qt("react-datepicker__year-text","react-datepicker__year-".concat(o),s?p?.(Ur(s,o)):void 0,{"react-datepicker__year-text--selected":u?o===Ne(u):void 0,"react-datepicker__year-text--disabled":(c||d||a||l||f)&&Xh(o,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(o),"react-datepicker__year-text--range-start":n.isRangeStart(o),"react-datepicker__year-text--range-end":n.isRangeEnd(o),"react-datepicker__year-text--in-range":n.isInRange(o),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(o),"react-datepicker__year-text--today":n.isCurrentYear(o)})},n.getYearTabIndex=function(o){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=Ne(n.props.preSelection);return o===i?"0":"-1"},n.getYearContainerClassNames=function(){var o=n.props,i=o.selectingDate,s=o.selectsStart,c=o.selectsEnd,d=o.selectsRange;return qt("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(s||c||d)})},n.getYearContent=function(o){return n.props.renderYearContent?n.props.renderYearContent(o):o},n}return t.prototype.render=function(){var r=this,n=[],o=this.props,i=o.date,s=o.yearItemNumber,c=o.onYearMouseEnter,d=o.onYearMouseLeave;if(i===void 0)return null;for(var u=Ko(i,s),a=u.startPeriod,l=u.endPeriod,f=function(m){n.push(O.createElement("div",{ref:p.YEAR_REFS[m-a],onClick:function(w){r.onYearClick(w,m)},onKeyDown:function(w){L_(w)&&(w.preventDefault(),w.key=le.Enter),r.onYearKeyDown(w,m)},tabIndex:Number(p.getYearTabIndex(m)),className:p.getYearClassNames(m),onMouseEnter:p.props.usePointerEvent?void 0:function(w){return c(w,m)},onPointerEnter:p.props.usePointerEvent?function(w){return c(w,m)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(w){return d(w,m)},onPointerLeave:p.props.usePointerEvent?function(w){return d(w,m)}:void 0,key:m,"aria-current":p.isCurrentYear(m)?"date":void 0},p.getYearContent(m)))},p=this,h=a;h<=l;h++)f(h);return O.createElement("div",{className:this.getYearContainerClassNames()},O.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(G.Component);function QI(e,t,r,n){for(var o=[],i=0;i<2*t+1;i++){var s=e+t-i,c=!0;r&&(c=Ne(r)<=s),n&&c&&(c=Ne(n)>=s),c&&o.push(s)}return o}var KI=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var c=n.props.year,d=n.state.yearsList.map(function(l){return O.createElement("div",{className:c===l?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:l,onClick:n.onChange.bind(n,l),"aria-selected":c===l?"true":void 0},c===l?O.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",l)}),u=n.props.minDate?Ne(n.props.minDate):null,a=n.props.maxDate?Ne(n.props.maxDate):null;return(!a||!n.state.yearsList.find(function(l){return l===a}))&&d.unshift(O.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},O.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(l){return l===u}))&&d.push(O.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},O.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var d=n.state.yearsList.map(function(u){return u+c});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var o=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,s=o||(i?10:5);return n.state={yearsList:QI(n.props.year,s,n.props.minDate,n.props.maxDate)},n.dropdownRef=G.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,o=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=qt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return O.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())},t}(G.Component),GI=uf(KI),jI=function(e){Kt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?Ne(r.props.minDate):1900,o=r.props.maxDate?Ne(r.props.maxDate):2100,i=[],s=n;s<=o;s++)i.push(O.createElement("option",{key:s,value:s},s));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return O.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return O.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(o){return r.toggleDropdown(o)}},O.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),O.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return O.createElement(GI,Ue({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,o=[r.renderReadView(!n)];return n&&o.unshift(r.renderDropdown()),o},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,o){r.onSelect(n,o),r.setOpen()},r.onSelect=function(n,o){r.props.onSelect&&r.props.onSelect(n,o)},r.setOpen=function(){r.props.setOpen&&r.props.setOpen(!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return O.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(G.Component),XI=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],ZI=function(e){var t=(e.className||"").split(/\s+/);return XI.some(function(r){return t.indexOf(r)>=0})},JI=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(o){n.props.onClickOutside(o)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(o){var i,s;ZI(o.target)&&((s=(i=n.props).onDropdownFocus)===null||s===void 0||s.call(i,o))},n.getDateInView=function(){var o=n.props,i=o.preSelection,s=o.selected,c=o.openToDate,d=N_(n.props),u=M_(n.props),a=Ze(),l=c||s||i;return l||(d&&oa(a,d)?d:u&&li(a,u)?u:a)},n.increaseMonth=function(){n.setState(function(o){var i=o.date;return{date:Rr(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(o){var i=o.date;return{date:us(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(o,i,s){n.props.onSelect(o,i,s),n.props.setPreSelection&&n.props.setPreSelection(o)},n.handleDayMouseEnter=function(o){n.setState({selectingDate:o}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(o,i){n.setState({selectingDate:Ur(Ze(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(o,i)},n.handleYearMouseLeave=function(o,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(o,i)},n.handleYearChange=function(o){n.props.onYearChange&&(n.props.onYearChange(o),n.setState({isRenderAriaLiveMessage:!0})),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(o),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(o)},n.handleMonthChange=function(o){n.handleCustomMonthChange(o),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(o),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(o)},n.handleCustomMonthChange=function(o){n.props.onMonthChange&&(n.props.onMonthChange(o),n.setState({isRenderAriaLiveMessage:!0}))},n.handleMonthYearChange=function(o){n.handleYearChange(o),n.handleMonthChange(o)},n.changeYear=function(o){n.setState(function(i){var s=i.date;return{date:Ur(s,Number(o))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(o){n.setState(function(i){var s=i.date;return{date:zn(s,Number(o))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(o){n.setState(function(i){var s=i.date;return{date:Ur(zn(s,vn(o)),Ne(o))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(o){o===void 0&&(o=n.state.date);var i=oi(o,n.props.locale,n.props.calendarStartDay),s=[];return n.props.showWeekNumbers&&s.push(O.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(c){var d=vi(i,c),u=n.formatWeekday(d,n.props.locale),a=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return O.createElement("div",{key:c,"aria-label":ut(d,"EEEE",n.props.locale),className:qt("react-datepicker__day-name",a)},u)}))},n.formatWeekday=function(o,i){return n.props.formatWeekDay?yI(o,n.props.formatWeekDay,i):n.props.useWeekdaysShort?bI(o,i):wI(o,i)},n.decreaseYear=function(){n.setState(function(o){var i,s=o.date;return{date:cs(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var o;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=Dy(n.state.date,n.props);break;case n.props.showYearPicker:i=EI(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=xI(n.state.date,n.props);break;default:i=Cy(n.state.date,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],c=["react-datepicker__navigation","react-datepicker__navigation--previous"],d=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.decreaseYear),i&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--previous--disabled"),d=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,a=n.props,l=a.previousMonthButtonLabel,f=l===void 0?t.defaultProps.previousMonthButtonLabel:l,p=a.previousYearButtonLabel,h=p===void 0?t.defaultProps.previousYearButtonLabel:p,m=n.props,w=m.previousMonthAriaLabel,y=w===void 0?typeof f=="string"?f:"Previous Month":w,v=m.previousYearAriaLabel,g=v===void 0?typeof h=="string"?h:"Previous Year":v;return O.createElement("button",{type:"button",className:c.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?g:y},O.createElement("span",{className:s.join(" ")},u?h:f))}}},n.increaseYear=function(){n.setState(function(o){var i,s=o.date;return{date:mo(s,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var o;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=Sy(n.state.date,n.props);break;case n.props.showYearPicker:i=DI(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=CI(n.state.date,n.props);break;default:i=Ey(n.state.date,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),d=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,a=n.props,l=a.nextMonthButtonLabel,f=l===void 0?t.defaultProps.nextMonthButtonLabel:l,p=a.nextYearButtonLabel,h=p===void 0?t.defaultProps.nextYearButtonLabel:p,m=n.props,w=m.nextMonthAriaLabel,y=w===void 0?typeof f=="string"?f:"Next Month":w,v=m.nextYearAriaLabel,g=v===void 0?typeof h=="string"?h:"Next Year":v;return O.createElement("button",{type:"button",className:s.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?g:y},O.createElement("span",{className:c.join(" ")},u?h:f))}}},n.renderCurrentMonth=function(o){o===void 0&&(o=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),O.createElement("h2",{className:i.join(" ")},ut(o,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!n.props.showYearDropdown||o))return O.createElement(jI,Ue({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Ne(n.state.date)}))},n.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!n.props.showMonthDropdown||o))return O.createElement(BI,Ue({},t.defaultProps,n.props,{month:vn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!n.props.showMonthYearDropdown||o))return O.createElement(YI,Ue({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(o){n.props.onSelect(wy(),o),n.props.setPreSelection&&n.props.setPreSelection(wy())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return O.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(o){var i=o.monthDate,s=o.i;return O.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),O.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(s!==0),n.renderMonthYearDropdown(s!==0),n.renderYearDropdown(s!==0)),O.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))},n.renderCustomHeader=function(o){var i,s,c=o.monthDate,d=o.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=Cy(n.state.date,n.props),a=Ey(n.state.date,n.props),l=Dy(n.state.date,n.props),f=Sy(n.state.date,n.props),p=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return O.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(s=(i=n.props).renderCustomHeader)===null||s===void 0?void 0:s.call(i,Ue(Ue({},n.state),{customHeaderCount:d,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:a,prevYearButtonDisabled:l,nextYearButtonDisabled:f})),p&&O.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(o){var i=o.monthDate,s=n.props,c=s.showYearPicker,d=s.yearItemNumber,u=d===void 0?t.defaultProps.yearItemNumber:d,a=Ko(i,u),l=a.startPeriod,f=a.endPeriod;return O.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(l," - ").concat(f):Ne(i))},n.renderHeader=function(o){var i=o.monthDate,s=o.i,c=s===void 0?0:s,d={monthDate:i,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var o,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var s=[],c=(o=n.props.monthsShown)!==null&&o!==void 0?o:t.defaultProps.monthsShown,d=n.props.showPreviousMonths?c-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?mo(n.state.date,d):us(n.state.date,d),a=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:d,l=0;l<c;++l){var f=l-a+d,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?mo(u,f):Rr(u,f),h="month-".concat(l),m=l<c-1,w=l>0;s.push(O.createElement("div",{key:h,ref:function(y){n.monthContainer=y??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:l}),O.createElement(FI,Ue({},t.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:l,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:w}))))}return s}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return O.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),O.createElement(VI,Ue({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return O.createElement(qI,Ue({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var o=n.props.selected?new Date(n.props.selected):void 0,i=o&&co(o)&&!!n.props.selected,s=i?"".concat(Py(o.getHours()),":").concat(Py(o.getMinutes())):"";if(n.props.showTimeInput)return O.createElement(RI,Ue({},t.defaultProps,n.props,{date:o,timeString:s,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var o,i=Ko(n.state.date,(o=n.props.yearItemNumber)!==null&&o!==void 0?o:t.defaultProps.yearItemNumber),s=i.startPeriod,c=i.endPeriod,d;return n.props.showYearPicker?d="".concat(s," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Ne(n.state.date):d="".concat(Eg(vn(n.state.date),n.props.locale)," ").concat(Ne(n.state.date)),O.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return O.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=G.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:cu}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!ze(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var o=!mn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!ze(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||cI;return O.createElement("div",{style:{display:"contents"},ref:this.containerRef},O.createElement(r,{className:qt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(G.Component),e2=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,o=e.onClick,i="react-datepicker__calendar-icon";return typeof t=="string"?O.createElement("i",{className:"".concat(i," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:o}):O.isValidElement(t)?O.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(i," ").concat(n),onClick:function(s){typeof t.props.onClick=="function"&&t.props.onClick(s),typeof o=="function"&&o(s)}}):O.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},O.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},A_=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return t_.createPortal(this.props.children,this.el)},t}(G.Component),t2="[tabindex], a, button, input, select, textarea",n2=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},F_=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var o;return Array.prototype.slice.call((o=n.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(t2),1,-1).filter(n2)},n.handleFocusStart=function(){var o=n.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},n.handleFocusEnd=function(){var o=n.getTabChildren();o&&o.length>1&&o[0].focus()},n.tabLoopRef=G.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?O.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},O.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,O.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(G.Component);function r2(e){var t=function(r){var n,o=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=G.useRef(null),s=uI(Ue({open:!o,whileElementsMounted:HO,placement:r.popperPlacement,middleware:Kr([KO({padding:15}),QO(10),GO({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),c=Ue(Ue({},r),{hidePopper:o,popperProps:Ue(Ue({},s),{arrowRef:i})});return O.createElement(e,Ue({},c))};return t}var o2=function(e){Kt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,o=r.wrapperClassName,i=r.hidePopper,s=i===void 0?t.defaultProps.hidePopper:i,c=r.popperComponent,d=r.targetComponent,u=r.enableTabLoop,a=r.popperOnKeyDown,l=r.portalId,f=r.portalHost,p=r.popperProps,h=r.showArrow,m=void 0;if(!s){var w=qt("react-datepicker-popper",n);m=O.createElement(F_,{enableTabLoop:u},O.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:w,"data-placement":p.placement,onKeyDown:a},c,h&&O.createElement(nI,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=G.createElement(this.props.popperContainer,{},m)),l&&!s&&(m=O.createElement(A_,{portalId:l,portalHost:f},m));var y=qt("react-datepicker-wrapper",o);return O.createElement(O.Fragment,null,O.createElement("div",{ref:p.refs.setReference,className:y},d),m)},t}(G.Component),i2=r2(o2),Ly="react-datepicker-ignore-onclickoutside",a2=uf(JI);function s2(e,t){return e&&t?vn(e)!==vn(t)||Ne(e)!==Ne(t):e!==t}var Ap="Date input not valid.",Sg=function(e){Kt(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Ze()},n.modifyHolidays=function(){var o;return(o=n.props.holidays)===null||o===void 0?void 0:o.reduce(function(i,s){var c=new Date(s.date);return co(c)?Kr(Kr([],i,!0),[Ue(Ue({},s),{date:c})],!1):i},[])},n.calcInitialState=function(){var o,i=n.getPreSelection(),s=N_(n.props),c=M_(n.props),d=s&&oa(i,Bc(s))?s:c&&li(i,by(c))?c:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(o=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&o!==void 0?o:d,highlightDates:Ty(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ue(Ue({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ue(Ue({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){n.input&&n.input.focus&&n.input.focus({preventScroll:!0})},n.setBlur=function(){n.input&&n.input.blur&&n.input.blur(),n.cancelFocusInput()},n.setOpen=function(o,i){i===void 0&&(i=!1),n.setState({open:o,preSelection:o&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Fp},function(){o||n.setState(function(s){return{focused:i?s.focused:!1}},function(){!i&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return go(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(o){var i,s,c=n.state.wasHidden,d=c?n.state.open:!0;c&&n.resetHiddenStatus(),!n.state.preventFocus&&d&&((s=(i=n.props).onFocus)===null||s===void 0||s.call(i,o),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(o){var i,s;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((s=(i=n.props).onBlur)===null||s===void 0||s.call(i,o)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(o){var i,s;n.props.inline||n.setOpen(!1),(s=(i=n.props).onClickOutside)===null||s===void 0||s.call(i,o),n.props.withPortal&&o.preventDefault()},n.handleChange=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=o[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,o),!s||typeof s.isDefaultPrevented!="function"||s.isDefaultPrevented()))){n.setState({inputValue:s?.target instanceof HTMLInputElement?s.target.value:null,lastPreSelectChange:l2});var c=n.props,d=c.dateFormat,u=d===void 0?t.defaultProps.dateFormat:d,a=c.strictParsing,l=a===void 0?t.defaultProps.strictParsing:a,f=fI(s?.target instanceof HTMLInputElement?s.target.value:"",u,n.props.locale,l,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&f&&!ze(f,n.props.selected)&&(f=sO(n.props.selected,{hours:Zr(f),minutes:Jr(f),seconds:vo(f)})),(f||!(s?.target instanceof HTMLInputElement)||!s?.target.value)&&n.setSelected(f,s,!0)}},n.handleSelect=function(o,i,s){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(o,i,!1,s),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(o);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,d=c.startDate,u=c.endDate;d&&!u&&(n.props.swapRange||!Ry(o,d))&&n.setOpen(!1)}},n.setSelected=function(o,i,s,c){var d,u=o;if(n.props.showYearPicker){if(u!==null&&Xh(Ne(u),n.props))return}else if(n.props.showMonthYearPicker){if(u!==null&&R_(u,n.props))return}else if(u!==null&&Qo(u,n.props))return;var a=n.props,l=a.onChange,f=a.selectsRange,p=a.startDate,h=a.endDate,m=a.selectsMultiple,w=a.selectedDates,y=a.minTime,v=a.swapRange;if(!Ui(n.props.selected,u)||n.props.allowSameDay||f||m)if(u!==null&&(n.props.selected&&(!s||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(u=Np(u,{hour:Zr(n.props.selected),minute:Jr(n.props.selected),second:vo(n.props.selected)})),!s&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&y&&(u=Np(u,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),n.props.inline||n.setState({preSelection:u}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),f){var g=!p&&!h,b=p&&!h,k=p&&h;g?l?l([u,null],i):t.defaultProps.onChange:b&&(u===null?l?l([null,null],i):t.defaultProps.onChange:Ry(u,p)?v?l?l([u,p],i):t.defaultProps.onChange:l?l([u,null],i):t.defaultProps.onChange:l?l([p,u],i):t.defaultProps.onChange),k&&(l?l([u,null],i):t.defaultProps.onChange)}else if(m){if(u!==null)if(!w?.length)l?l([u],i):t.defaultProps.onChange;else{var E=w.some(function(T){return ze(T,u)});if(E){var C=w.filter(function(T){return!ze(T,u)});l?l(C,i):t.defaultProps.onChange}else l?l(Kr(Kr([],w,!0),[u],!1),i):t.defaultProps.onChange}}else l?l(u,i):t.defaultProps.onChange;if(!s){var S=(d=n.props.onSelect)!==null&&d!==void 0?d:t.defaultProps.onSelect;S(u,i),n.setState({inputValue:null})}},n.setPreSelection=function(o){var i=go(n.props.minDate),s=go(n.props.maxDate),c=!0;if(o){var d=Bc(o);if(i&&s)c=il(o,n.props.minDate,n.props.maxDate);else if(i){var u=Bc(n.props.minDate);c=li(o,u)||Ui(d,u)}else if(s){var a=by(n.props.maxDate);c=oa(o,a)||Ui(d,a)}}c&&n.setState({preSelection:o})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(o){var i;if(!(n.props.selectsRange||n.props.selectsMultiple)){var s=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?o:Np(s,{hour:Zr(o),minute:Jr(o)});n.setState({preSelection:c});var d=(i=n.props.onChange)!==null&&i!==void 0?i:t.defaultProps.onChange;d(c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var o,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(o=n.props).onInputClick)===null||i===void 0||i.call(o)},n.onInputKeyDown=function(o){var i,s,c,d,u;(s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,o);var a=o.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(a===le.ArrowDown||a===le.ArrowUp||a===le.Enter)&&n.onInputClick();return}if(n.state.open){if(a===le.ArrowDown||a===le.ArrowUp){o.preventDefault();var l=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((c=n.calendar)===null||c===void 0?void 0:c.componentNode)instanceof Element&&n.calendar.componentNode.querySelector(l);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var p=Ze(n.state.preSelection);a===le.Enter?(o.preventDefault(),n.inputOk()&&n.state.lastPreSelectChange===Fp?(n.handleSelect(p,o),!n.props.shouldCloseOnSelect&&n.setPreSelection(p)):n.setOpen(!1)):a===le.Escape?(o.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1)):a===le.Tab&&n.setOpen(!1),n.inputOk()||(u=(d=n.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:Ap})}},n.onPortalKeyDown=function(o){var i=o.key;i===le.Escape&&(o.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(o){var i,s,c,d,u=n.props,a=u.minDate,l=u.maxDate,f=u.disabledKeyboardNavigation,p=u.showWeekPicker,h=u.shouldCloseOnSelect,m=u.locale,w=u.calendarStartDay,y=u.adjustDateOnChange,v=u.inline;if((s=(i=n.props).onKeyDown)===null||s===void 0||s.call(i,o),!f){var g=o.key,b=o.shiftKey,k=Ze(n.state.preSelection),E=function(F,$){var z=$;switch(F){case le.ArrowRight:z=p?vd($,1):vi($,1);break;case le.ArrowLeft:z=p?ly($,1):lO($,1);break;case le.ArrowUp:z=ly($,1);break;case le.ArrowDown:z=vd($,1);break;case le.PageUp:z=b?cs($,1):us($,1);break;case le.PageDown:z=b?mo($,1):Rr($,1);break;case le.Home:z=oi($,m,w);break;case le.End:z=vI($);break}return z},C=function(F,$){for(var z=40,q=F,U=!1,Y=0,R=E(F,$);!U;){if(Y>=z){R=$;break}a&&R<a&&(q=le.ArrowRight,R=Qo(a,n.props)?E(q,R):a),l&&R>l&&(q=le.ArrowLeft,R=Qo(l,n.props)?E(q,R):l),Qo(R,n.props)?((q===le.PageUp||q===le.Home)&&(q=le.ArrowRight),(q===le.PageDown||q===le.End)&&(q=le.ArrowLeft),R=E(q,R)):U=!0,Y++}return R};if(g===le.Enter){o.preventDefault(),n.handleSelect(k,o),!h&&n.setPreSelection(k);return}else if(g===le.Escape){o.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(c=n.props).onInputError)===null||d===void 0||d.call(c,{code:1,msg:Ap});return}var S=null;switch(g){case le.ArrowLeft:case le.ArrowRight:case le.ArrowUp:case le.ArrowDown:case le.PageUp:case le.PageDown:case le.Home:case le.End:S=C(g,k);break}if(!S){n.props.onInputError&&n.props.onInputError({code:1,msg:Ap});return}if(o.preventDefault(),n.setState({lastPreSelectChange:Fp}),y&&n.setSelected(S),n.setPreSelection(S),v){var T=vn(k),P=vn(S),L=Ne(k),M=Ne(S);T!==P||L!==M?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(o){var i=o.key;i===le.Escape&&(o.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),n.sendFocusBackToInput();var i=n.props,s=i.selectsRange,c=i.onChange;s?c?c([null,null],o):t.defaultProps.onChange():c?c(null,o):t.defaultProps.onChange(),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(o){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(o)&&n.setOpen(!1)},n.renderCalendar=function(){var o,i;return!n.props.inline&&!n.isCalendarOpen()?null:O.createElement(a2,Ue({ref:function(s){n.calendar=s}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(o=n.props.dateFormatCalendar)!==null&&o!==void 0?o:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:TI(n.modifyHolidays()),outsideClickIgnoreClass:Ly,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var o=n.props,i=o.dateFormat,s=i===void 0?t.defaultProps.dateFormat:i,c=o.locale,d=n.props.showTimeInput||n.props.showTimeSelect,u=d?"PPPPp":"PPPP",a;return n.props.selectsRange?a="Selected start date: ".concat(er(n.props.startDate,{dateFormat:u,locale:c}),". ").concat(n.props.endDate?"End date: "+er(n.props.endDate,{dateFormat:u,locale:c}):""):n.props.showTimeSelectOnly?a="Selected time: ".concat(er(n.props.selected,{dateFormat:s,locale:c})):n.props.showYearPicker?a="Selected year: ".concat(er(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?a="Selected month: ".concat(er(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?a="Selected quarter: ".concat(er(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):a="Selected date: ".concat(er(n.props.selected,{dateFormat:u,locale:c})),O.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},a)},n.renderDateInput=function(){var o,i,s,c=qt(n.props.className,(o={},o[Ly]=n.state.open,o)),d=n.props.customInput||O.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",a=n.props,l=a.dateFormat,f=l===void 0?t.defaultProps.dateFormat:l,p=a.locale,h=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?pI(n.props.startDate,n.props.endDate,{dateFormat:f,locale:p}):n.props.selectsMultiple?hI((s=n.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:f,locale:p}):er(n.props.selected,{dateFormat:f,locale:p});return G.cloneElement(d,(i={},i[u]=function(m){n.input=m},i.value=h,i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=qt(d.props.className,c),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var o=n.props,i=o.isClearable,s=o.disabled,c=o.selected,d=o.startDate,u=o.endDate,a=o.clearButtonTitle,l=o.clearButtonClassName,f=l===void 0?"":l,p=o.ariaLabelClose,h=p===void 0?"Close":p,m=o.selectedDates;return i&&(c!=null||d!=null||u!=null||m?.length)?O.createElement("button",{type:"button",className:qt("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":h,onClick:n.onClearClick,title:a,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:cu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var o,i,s,c;r.inline&&s2(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Ty(this.props.highlightDates)}),!n.focused&&!Ui(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(o=this.props).onCalendarOpen)===null||i===void 0||i.call(o)),n.open===!0&&this.state.open===!1&&((c=(s=this.props).onCalendarClose)===null||c===void 0||c.call(s)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,o=r.icon,i=r.calendarIconClassname,s=r.calendarIconClassName,c=r.toggleCalendarOnIconClick,d=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),O.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&O.createElement(e2,Ue({icon:o,className:qt(s,!s&&i,d&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?O.createElement(F_,{enableTabLoop:this.props.enableTabLoop},O.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=O.createElement(A_,Ue({portalId:this.props.portalId},this.props),n)),O.createElement("div",null,this.renderInputContainer(),n)}return O.createElement(i2,Ue({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(G.Component),l2="input",Fp="navigate",$_={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Je,function(){var r=function(n,o){var i=Array.prototype.concat,s=Array.prototype.slice,c=Object.prototype.toString;function d(v,g){var b=v>g?v:g;return n.pow(10,17-~~(n.log(b>0?b:-b)*n.LOG10E))}var u=Array.isArray||function(g){return c.call(g)==="[object Array]"};function a(v){return c.call(v)==="[object Function]"}function l(v){return typeof v=="number"?v-v===0:!1}function f(v){return i.apply([],v)}function p(){return new p._init(arguments)}p.fn=p.prototype,p._init=function(g){if(u(g[0]))if(u(g[0][0])){a(g[1])&&(g[0]=p.map(g[0],g[1]));for(var b=0;b<g[0].length;b++)this[b]=g[0][b];this.length=g[0].length}else this[0]=a(g[1])?p.map(g[0],g[1]):g[0],this.length=1;else if(l(g[0]))this[0]=p.seq.apply(null,g),this.length=1;else{if(g[0]instanceof p)return p(g[0].toArray());this[0]=[],this.length=1}return this},p._init.prototype=p.prototype,p._init.constructor=p,p.utils={calcRdx:d,isArray:u,isFunction:a,isNumber:l,toVector:f},p._random_fn=n.random,p.setRandom=function(g){if(typeof g!="function")throw new TypeError("fn is not a function");p._random_fn=g},p.extend=function(g){var b,k;if(arguments.length===1){for(k in g)p[k]=g[k];return this}for(b=1;b<arguments.length;b++)for(k in arguments[b])g[k]=arguments[b][k];return g},p.rows=function(g){return g.length||1},p.cols=function(g){return g[0].length||1},p.dimensions=function(g){return{rows:p.rows(g),cols:p.cols(g)}},p.row=function(g,b){return u(b)?b.map(function(k){return p.row(g,k)}):g[b]},p.rowa=function(g,b){return p.row(g,b)},p.col=function(g,b){if(u(b)){var k=p.arange(g.length).map(function(){return new Array(b.length)});return b.forEach(function(S,T){p.arange(g.length).forEach(function(P){k[P][T]=g[P][S]})}),k}for(var E=new Array(g.length),C=0;C<g.length;C++)E[C]=[g[C][b]];return E},p.cola=function(g,b){return p.col(g,b).map(function(k){return k[0]})},p.diag=function(g){for(var b=p.rows(g),k=new Array(b),E=0;E<b;E++)k[E]=[g[E][E]];return k},p.antidiag=function(g){for(var b=p.rows(g)-1,k=new Array(b),E=0;b>=0;b--,E++)k[E]=[g[E][b]];return k},p.transpose=function(g){var b=[],k,E,C,S,T;for(u(g[0])||(g=[g]),E=g.length,C=g[0].length,T=0;T<C;T++){for(k=new Array(E),S=0;S<E;S++)k[S]=g[S][T];b.push(k)}return b.length===1?b[0]:b},p.map=function(g,b,k){var E,C,S,T,P;for(u(g[0])||(g=[g]),C=g.length,S=g[0].length,T=k?g:new Array(C),E=0;E<C;E++)for(T[E]||(T[E]=new Array(S)),P=0;P<S;P++)T[E][P]=b(g[E][P],E,P);return T.length===1?T[0]:T},p.cumreduce=function(g,b,k){var E,C,S,T,P;for(u(g[0])||(g=[g]),C=g.length,S=g[0].length,T=k?g:new Array(C),E=0;E<C;E++)for(T[E]||(T[E]=new Array(S)),S>0&&(T[E][0]=g[E][0]),P=1;P<S;P++)T[E][P]=b(T[E][P-1],g[E][P]);return T.length===1?T[0]:T},p.alter=function(g,b){return p.map(g,b,!0)},p.create=function(g,b,k){var E=new Array(g),C,S;for(a(b)&&(k=b,b=g),C=0;C<g;C++)for(E[C]=new Array(b),S=0;S<b;S++)E[C][S]=k(C,S);return E};function h(){return 0}p.zeros=function(g,b){return l(b)||(b=g),p.create(g,b,h)};function m(){return 1}p.ones=function(g,b){return l(b)||(b=g),p.create(g,b,m)},p.rand=function(g,b){return l(b)||(b=g),p.create(g,b,p._random_fn)};function w(v,g){return v===g?1:0}p.identity=function(g,b){return l(b)||(b=g),p.create(g,b,w)},p.symmetric=function(g){var b=g.length,k,E;if(g.length!==g[0].length)return!1;for(k=0;k<b;k++)for(E=0;E<b;E++)if(g[E][k]!==g[k][E])return!1;return!0},p.clear=function(g){return p.alter(g,h)},p.seq=function(g,b,k,E){a(E)||(E=!1);var C=[],S=d(g,b),T=(b*S-g*S)/((k-1)*S),P=g,L;for(L=0;P<=b&&L<k;L++,P=(g*S+T*S*L)/S)C.push(E?E(P,L):P);return C},p.arange=function(g,b,k){var E=[],C;if(k=k||1,b===o&&(b=g,g=0),g===b||k===0)return[];if(g<b&&k<0)return[];if(g>b&&k>0)return[];if(k>0)for(C=g;C<b;C+=k)E.push(C);else for(C=g;C>b;C+=k)E.push(C);return E},p.slice=function(){function v(b,k,E,C){var S,T=[],P=b.length;if(k===o&&E===o&&C===o)return p.copy(b);if(k=k||0,E=E||b.length,k=k>=0?k:P+k,E=E>=0?E:P+E,C=C||1,k===E||C===0)return[];if(k<E&&C<0)return[];if(k>E&&C>0)return[];if(C>0)for(S=k;S<E;S+=C)T.push(b[S]);else for(S=k;S>E;S+=C)T.push(b[S]);return T}function g(b,k){var E,C;if(k=k||{},l(k.row)){if(l(k.col))return b[k.row][k.col];var S=p.rowa(b,k.row);return E=k.col||{},v(S,E.start,E.end,E.step)}if(l(k.col)){var T=p.cola(b,k.col);return C=k.row||{},v(T,C.start,C.end,C.step)}C=k.row||{},E=k.col||{};var P=v(b,C.start,C.end,C.step);return P.map(function(L){return v(L,E.start,E.end,E.step)})}return g}(),p.sliceAssign=function(g,b,k){var E,C;if(l(b.row)){if(l(b.col))return g[b.row][b.col]=k;b.col=b.col||{},b.col.start=b.col.start||0,b.col.end=b.col.end||g[0].length,b.col.step=b.col.step||1,E=p.arange(b.col.start,n.min(g.length,b.col.end),b.col.step);var S=b.row;return E.forEach(function(P,L){g[S][P]=k[L]}),g}if(l(b.col)){b.row=b.row||{},b.row.start=b.row.start||0,b.row.end=b.row.end||g.length,b.row.step=b.row.step||1,C=p.arange(b.row.start,n.min(g[0].length,b.row.end),b.row.step);var T=b.col;return C.forEach(function(P,L){g[P][T]=k[L]}),g}return k[0].length===o&&(k=[k]),b.row.start=b.row.start||0,b.row.end=b.row.end||g.length,b.row.step=b.row.step||1,b.col.start=b.col.start||0,b.col.end=b.col.end||g[0].length,b.col.step=b.col.step||1,C=p.arange(b.row.start,n.min(g.length,b.row.end),b.row.step),E=p.arange(b.col.start,n.min(g[0].length,b.col.end),b.col.step),C.forEach(function(P,L){E.forEach(function(M,F){g[P][M]=k[L][F]})}),g},p.diagonal=function(g){var b=p.zeros(g.length,g.length);return g.forEach(function(k,E){b[E][E]=k}),b},p.copy=function(g){return g.map(function(b){return l(b)?b:b.map(function(k){return k})})};var y=p.prototype;return y.length=0,y.push=Array.prototype.push,y.sort=Array.prototype.sort,y.splice=Array.prototype.splice,y.slice=Array.prototype.slice,y.toArray=function(){return this.length>1?s.call(this):s.call(this)[0]},y.map=function(g,b){return p(p.map(this,g,b))},y.cumreduce=function(g,b){return p(p.cumreduce(this,g,b))},y.alter=function(g){return p.alter(this,g),this},function(v){for(var g=0;g<v.length;g++)(function(b){y[b]=function(k){var E=this,C;return k?(setTimeout(function(){k.call(E,y[b].call(E))}),this):(C=p[b](this),u(C)?p(C):C)}})(v[g])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(v){for(var g=0;g<v.length;g++)(function(b){y[b]=function(k,E){var C=this;return E?(setTimeout(function(){E.call(C,y[b].call(C,k))}),this):p(p[b](this,k))}})(v[g])}("row col".split(" ")),function(v){for(var g=0;g<v.length;g++)(function(b){y[b]=function(){return p(p[b].apply(null,arguments))}})(v[g])}("create zeros ones rand identity".split(" ")),p}(Math);return function(n,o){var i=n.utils.isFunction;function s(u,a){return u-a}function c(u,a,l){return o.max(a,o.min(u,l))}n.sum=function(a){for(var l=0,f=a.length;--f>=0;)l+=a[f];return l},n.sumsqrd=function(a){for(var l=0,f=a.length;--f>=0;)l+=a[f]*a[f];return l},n.sumsqerr=function(a){for(var l=n.mean(a),f=0,p=a.length,h;--p>=0;)h=a[p]-l,f+=h*h;return f},n.sumrow=function(a){for(var l=0,f=a.length;--f>=0;)l+=a[f];return l},n.product=function(a){for(var l=1,f=a.length;--f>=0;)l*=a[f];return l},n.min=function(a){for(var l=a[0],f=0;++f<a.length;)a[f]<l&&(l=a[f]);return l},n.max=function(a){for(var l=a[0],f=0;++f<a.length;)a[f]>l&&(l=a[f]);return l},n.unique=function(a){for(var l={},f=[],p=0;p<a.length;p++)l[a[p]]||(l[a[p]]=!0,f.push(a[p]));return f},n.mean=function(a){return n.sum(a)/a.length},n.meansqerr=function(a){return n.sumsqerr(a)/a.length},n.geomean=function(a){var l=a.map(o.log),f=n.mean(l);return o.exp(f)},n.median=function(a){var l=a.length,f=a.slice().sort(s);return l&1?f[l/2|0]:(f[l/2-1]+f[l/2])/2},n.cumsum=function(a){return n.cumreduce(a,function(l,f){return l+f})},n.cumprod=function(a){return n.cumreduce(a,function(l,f){return l*f})},n.diff=function(a){var l=[],f=a.length,p;for(p=1;p<f;p++)l.push(a[p]-a[p-1]);return l},n.rank=function(u){var a,l=[],f={};for(a=0;a<u.length;a++){var p=u[a];f[p]?f[p]++:(f[p]=1,l.push(p))}var h=l.sort(s),m={},w=1;for(a=0;a<h.length;a++){var p=h[a],y=f[p],v=w,g=w+y-1,b=(v+g)/2;m[p]=b,w+=y}return u.map(function(k){return m[k]})},n.mode=function(a){var l=a.length,f=a.slice().sort(s),p=1,h=0,m=0,w=[],y;for(y=0;y<l;y++)f[y]===f[y+1]?p++:(p>h?(w=[f[y]],h=p,m=0):p===h&&(w.push(f[y]),m++),p=1);return m===0?w[0]:w},n.range=function(a){return n.max(a)-n.min(a)},n.variance=function(a,l){return n.sumsqerr(a)/(a.length-(l?1:0))},n.pooledvariance=function(a){var l=a.reduce(function(p,h){return p+n.sumsqerr(h)},0),f=a.reduce(function(p,h){return p+h.length},0);return l/(f-a.length)},n.deviation=function(u){for(var a=n.mean(u),l=u.length,f=new Array(l),p=0;p<l;p++)f[p]=u[p]-a;return f},n.stdev=function(a,l){return o.sqrt(n.variance(a,l))},n.pooledstdev=function(a){return o.sqrt(n.pooledvariance(a))},n.meandev=function(a){for(var l=n.mean(a),f=[],p=a.length-1;p>=0;p--)f.push(o.abs(a[p]-l));return n.mean(f)},n.meddev=function(a){for(var l=n.median(a),f=[],p=a.length-1;p>=0;p--)f.push(o.abs(a[p]-l));return n.median(f)},n.coeffvar=function(a){return n.stdev(a)/n.mean(a)},n.quartiles=function(a){var l=a.length,f=a.slice().sort(s);return[f[o.round(l/4)-1],f[o.round(l/2)-1],f[o.round(l*3/4)-1]]},n.quantiles=function(a,l,f,p){var h=a.slice().sort(s),m=[l.length],w=a.length,y,v,g,b,k,E;for(typeof f>"u"&&(f=3/8),typeof p>"u"&&(p=3/8),y=0;y<l.length;y++)v=l[y],g=f+v*(1-f-p),b=w*v+g,k=o.floor(c(b,1,w-1)),E=c(b-k,0,1),m[y]=(1-E)*h[k-1]+E*h[k];return m},n.percentile=function(a,l,f){var p=a.slice().sort(s),h=l*(p.length+(f?1:-1))+(f?0:1),m=parseInt(h),w=h-m;return m+1<p.length?p[m-1]+w*(p[m]-p[m-1]):p[m-1]},n.percentileOfScore=function(a,l,f){var p=0,h=a.length,m=!1,w,y;for(f==="strict"&&(m=!0),y=0;y<h;y++)w=a[y],(m&&w<l||!m&&w<=l)&&p++;return p/h},n.histogram=function(a,l){l=l||4;var f=n.min(a),p=(n.max(a)-f)/l,h=a.length,m=[],w;for(w=0;w<l;w++)m[w]=0;for(w=0;w<h;w++)m[o.min(o.floor((a[w]-f)/p),l-1)]+=1;return m},n.covariance=function(a,l){var f=n.mean(a),p=n.mean(l),h=a.length,m=new Array(h),w;for(w=0;w<h;w++)m[w]=(a[w]-f)*(l[w]-p);return n.sum(m)/(h-1)},n.corrcoeff=function(a,l){return n.covariance(a,l)/n.stdev(a,1)/n.stdev(l,1)},n.spearmancoeff=function(u,a){return u=n.rank(u),a=n.rank(a),n.corrcoeff(u,a)},n.stanMoment=function(a,l){for(var f=n.mean(a),p=n.stdev(a),h=a.length,m=0,w=0;w<h;w++)m+=o.pow((a[w]-f)/p,l);return m/a.length},n.skewness=function(a){return n.stanMoment(a,3)},n.kurtosis=function(a){return n.stanMoment(a,4)-3};var d=n.prototype;(function(u){for(var a=0;a<u.length;a++)(function(l){d[l]=function(f,p){var h=[],m=0,w=this;if(i(f)&&(p=f,f=!1),p)return setTimeout(function(){p.call(w,d[l].call(w,f))}),this;if(this.length>1){for(w=f===!0?this:this.transpose();m<w.length;m++)h[m]=n[l](w[m]);return h}return n[l](this[0],f)}})(u[a])})("cumsum cumprod".split(" ")),function(u){for(var a=0;a<u.length;a++)(function(l){d[l]=function(f,p){var h=[],m=0,w=this;if(i(f)&&(p=f,f=!1),p)return setTimeout(function(){p.call(w,d[l].call(w,f))}),this;if(this.length>1){for(l!=="sumrow"&&(w=f===!0?this:this.transpose());m<w.length;m++)h[m]=n[l](w[m]);return f===!0?n[l](n.utils.toVector(h)):h}return n[l](this[0],f)}})(u[a])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(u){for(var a=0;a<u.length;a++)(function(l){d[l]=function(){var f=[],p=0,h=this,m=Array.prototype.slice.call(arguments),w;if(i(m[m.length-1])){w=m[m.length-1];var y=m.slice(0,m.length-1);return setTimeout(function(){w.call(h,d[l].apply(h,y))}),this}else{w=void 0;var v=function(b){return n[l].apply(h,[b].concat(m))}}if(this.length>1){for(h=h.transpose();p<h.length;p++)f[p]=v(h[p]);return f}return v(this[0])}})(u[a])}("quantiles percentileOfScore".split(" "))}(r,Math),function(n,o){n.gammaln=function(s){var c=0,d=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015,a,l,f;for(f=(l=a=s)+5.5,f-=(a+.5)*o.log(f);c<6;c++)u+=d[c]/++l;return o.log(2.5066282746310007*u/a)-f},n.loggam=function(s){var c,d,u,a,l,f,p,h=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(c=s,p=0,s==1||s==2)return 0;for(s<=7&&(p=o.floor(7-s),c=s+p),d=1/(c*c),u=2*o.PI,l=h[9],f=8;f>=0;f--)l*=d,l+=h[f];if(a=l/c+.5*o.log(u)+(c-.5)*o.log(c)-c,s<=7)for(f=1;f<=p;f++)a-=o.log(c-1),c-=1;return a},n.gammafn=function(s){var c=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],d=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],u=!1,a=0,l=0,f=0,p=s,h,m,w,y;if(s>171.6243769536076)return 1/0;if(p<=0)if(y=p%1+36e-17,y)u=(p&1?-1:1)*o.PI/o.sin(o.PI*y),p=1-p;else return 1/0;for(w=p,p<1?m=p++:m=(p-=a=(p|0)-1)-1,h=0;h<8;++h)f=(f+c[h])*m,l=l*m+d[h];if(y=f/l+1,w<p)y/=w;else if(w>p)for(h=0;h<a;++h)y*=p,p++;return u&&(y=u/y),y},n.gammap=function(s,c){return n.lowRegGamma(s,c)*n.gammafn(s)},n.lowRegGamma=function(s,c){var d=n.gammaln(s),u=s,a=1/s,l=a,f=c+1-s,p=1/1e-30,h=1/f,m=h,w=1,y=-~(o.log(s>=1?s:1/s)*8.5+s*.4+17),v;if(c<0||s<=0)return NaN;if(c<s+1){for(;w<=y;w++)a+=l*=c/++u;return a*o.exp(-c+s*o.log(c)-d)}for(;w<=y;w++)v=-w*(w-s),f+=2,h=v*h+f,p=f+v/p,h=1/h,m*=h*p;return 1-m*o.exp(-c+s*o.log(c)-d)},n.factorialln=function(s){return s<0?NaN:n.gammaln(s+1)},n.factorial=function(s){return s<0?NaN:n.gammafn(s+1)},n.combination=function(s,c){return s>170||c>170?o.exp(n.combinationln(s,c)):n.factorial(s)/n.factorial(c)/n.factorial(s-c)},n.combinationln=function(s,c){return n.factorialln(s)-n.factorialln(c)-n.factorialln(s-c)},n.permutation=function(s,c){return n.factorial(s)/n.factorial(s-c)},n.betafn=function(s,c){if(!(s<=0||c<=0))return s+c>170?o.exp(n.betaln(s,c)):n.gammafn(s)*n.gammafn(c)/n.gammafn(s+c)},n.betaln=function(s,c){return n.gammaln(s)+n.gammaln(c)-n.gammaln(s+c)},n.betacf=function(s,c,d){var u=1e-30,a=1,l=c+d,f=c+1,p=c-1,h=1,m=1-l*s/f,w,y,v,g;for(o.abs(m)<u&&(m=u),m=1/m,g=m;a<=100&&(w=2*a,y=a*(d-a)*s/((p+w)*(c+w)),m=1+y*m,o.abs(m)<u&&(m=u),h=1+y/h,o.abs(h)<u&&(h=u),m=1/m,g*=m*h,y=-(c+a)*(l+a)*s/((c+w)*(f+w)),m=1+y*m,o.abs(m)<u&&(m=u),h=1+y/h,o.abs(h)<u&&(h=u),m=1/m,v=m*h,g*=v,!(o.abs(v-1)<3e-7));a++);return g},n.gammapinv=function(s,c){var d=0,u=c-1,a=1e-8,l=n.gammaln(c),f,p,h,m,w,y,v;if(s>=1)return o.max(100,c+100*o.sqrt(c));if(s<=0)return 0;for(c>1?(y=o.log(u),v=o.exp(u*(y-1)-l),w=s<.5?s:1-s,h=o.sqrt(-2*o.log(w)),f=(2.30753+h*.27061)/(1+h*(.99229+h*.04481))-h,s<.5&&(f=-f),f=o.max(.001,c*o.pow(1-1/(9*c)-f/(3*o.sqrt(c)),3))):(h=1-c*(.253+c*.12),s<h?f=o.pow(s/h,1/c):f=1-o.log(1-(s-h)/(1-h)));d<12;d++){if(f<=0)return 0;if(p=n.lowRegGamma(c,f)-s,c>1?h=v*o.exp(-(f-u)+u*(o.log(f)-y)):h=o.exp(-f+u*o.log(f)-l),m=p/h,f-=h=m/(1-.5*o.min(1,m*((c-1)/f-1))),f<=0&&(f=.5*(f+h)),o.abs(h)<a*f)break}return f},n.erf=function(s){var c=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],d=c.length-1,u=!1,a=0,l=0,f,p,h,m;for(s<0&&(s=-s,u=!0),f=2/(2+s),p=4*f-2;d>0;d--)h=a,a=p*a-l+c[d],l=h;return m=f*o.exp(-s*s+.5*(c[0]+p*a)-l),u?m-1:1-m},n.erfc=function(s){return 1-n.erf(s)},n.erfcinv=function(s){var c=0,d,u,a,l;if(s>=2)return-100;if(s<=0)return 100;for(l=s<1?s:2-s,a=o.sqrt(-2*o.log(l/2)),d=-.70711*((2.30753+a*.27061)/(1+a*(.99229+a*.04481))-a);c<2;c++)u=n.erfc(d)-l,d+=u/(1.1283791670955126*o.exp(-d*d)-d*u);return s<1?d:-d},n.ibetainv=function(s,c,d){var u=1e-8,a=c-1,l=d-1,f=0,p,h,m,w,y,v,g,b,k,E,C;if(s<=0)return 0;if(s>=1)return 1;for(c>=1&&d>=1?(m=s<.5?s:1-s,w=o.sqrt(-2*o.log(m)),g=(2.30753+w*.27061)/(1+w*(.99229+w*.04481))-w,s<.5&&(g=-g),b=(g*g-3)/6,k=2/(1/(2*c-1)+1/(2*d-1)),E=g*o.sqrt(b+k)/k-(1/(2*d-1)-1/(2*c-1))*(b+5/6-2/(3*k)),g=c/(c+d*o.exp(2*E))):(p=o.log(c/(c+d)),h=o.log(d/(c+d)),w=o.exp(c*p)/c,y=o.exp(d*h)/d,E=w+y,s<w/E?g=o.pow(c*E*s,1/c):g=1-o.pow(d*E*(1-s),1/d)),C=-n.gammaln(c)-n.gammaln(d)+n.gammaln(c+d);f<10;f++){if(g===0||g===1)return g;if(v=n.ibeta(g,c,d)-s,w=o.exp(a*o.log(g)+l*o.log(1-g)+C),y=v/w,g-=w=y/(1-.5*o.min(1,y*(a/g-l/(1-g)))),g<=0&&(g=.5*(g+w)),g>=1&&(g=.5*(g+w+1)),o.abs(w)<u*g&&f>0)break}return g},n.ibeta=function(s,c,d){var u=s===0||s===1?0:o.exp(n.gammaln(c+d)-n.gammaln(c)-n.gammaln(d)+c*o.log(s)+d*o.log(1-s));return s<0||s>1?!1:s<(c+1)/(c+d+2)?u*n.betacf(s,c,d)/c:1-u*n.betacf(1-s,d,c)/d},n.randn=function(s,c){var d,u,a,l,f;if(c||(c=s),s)return n.create(s,c,function(){return n.randn()});do d=n._random_fn(),u=1.7156*(n._random_fn()-.5),a=d-.449871,l=o.abs(u)+.386595,f=a*a+l*(.196*l-.25472*a);while(f>.27597&&(f>.27846||u*u>-4*o.log(d)*d*d));return u/d},n.randg=function(s,c,d){var u=s,a,l,f,p,h,m;if(d||(d=c),s||(s=1),c)return m=n.zeros(c,d),m.alter(function(){return n.randg(s)}),m;s<1&&(s+=1),a=s-1/3,l=1/o.sqrt(9*a);do{do h=n.randn(),p=1+l*h;while(p<=0);p=p*p*p,f=n._random_fn()}while(f>1-.331*o.pow(h,4)&&o.log(f)>.5*h*h+a*(1-p+o.log(p)));if(s==u)return a*p;do f=n._random_fn();while(f===0);return o.pow(f,1/u)*a*p},function(i){for(var s=0;s<i.length;s++)(function(c){n.fn[c]=function(){return n(n.map(this,function(d){return n[c](d)}))}})(i[s])}("gammaln gammafn factorial factorialln".split(" ")),function(i){for(var s=0;s<i.length;s++)(function(c){n.fn[c]=function(){return n(n[c].apply(null,arguments))}})(i[s])}("randn".split(" "))}(r,Math),function(n,o){(function(u){for(var a=0;a<u.length;a++)(function(l){n[l]=function f(p,h,m){return this instanceof f?(this._a=p,this._b=h,this._c=m,this):new f(p,h,m)},n.fn[l]=function(f,p,h){var m=n[l](f,p,h);return m.data=this,m},n[l].prototype.sample=function(f){var p=this._a,h=this._b,m=this._c;return f?n.alter(f,function(){return n[l].sample(p,h,m)}):n[l].sample(p,h,m)},function(f){for(var p=0;p<f.length;p++)(function(h){n[l].prototype[h]=function(m){var w=this._a,y=this._b,v=this._c;return!m&&m!==0&&(m=this.data),typeof m!="number"?n.fn.map.call(m,function(g){return n[l][h](g,w,y,v)}):n[l][h](m,w,y,v)}})(f[p])}("pdf cdf inv".split(" ")),function(f){for(var p=0;p<f.length;p++)(function(h){n[l].prototype[h]=function(){return n[l][h](this._a,this._b,this._c)}})(f[p])}("mean median mode variance".split(" "))})(u[a])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),n.extend(n.beta,{pdf:function(a,l,f){return a>1||a<0?0:l==1&&f==1?1:l<512&&f<512?o.pow(a,l-1)*o.pow(1-a,f-1)/n.betafn(l,f):o.exp((l-1)*o.log(a)+(f-1)*o.log(1-a)-n.betaln(l,f))},cdf:function(a,l,f){return a>1||a<0?(a>1)*1:n.ibeta(a,l,f)},inv:function(a,l,f){return n.ibetainv(a,l,f)},mean:function(a,l){return a/(a+l)},median:function(a,l){return n.ibetainv(.5,a,l)},mode:function(a,l){return(a-1)/(a+l-2)},sample:function(a,l){var f=n.randg(a);return f/(f+n.randg(l))},variance:function(a,l){return a*l/(o.pow(a+l,2)*(a+l+1))}}),n.extend(n.centralF,{pdf:function(a,l,f){var p,h,m;return a<0?0:l<=2?a===0&&l<2?1/0:a===0&&l===2?1:1/n.betafn(l/2,f/2)*o.pow(l/f,l/2)*o.pow(a,l/2-1)*o.pow(1+l/f*a,-(l+f)/2):(p=l*a/(f+a*l),h=f/(f+a*l),m=l*h/2,m*n.binomial.pdf((l-2)/2,(l+f-2)/2,p))},cdf:function(a,l,f){return a<0?0:n.ibeta(l*a/(l*a+f),l/2,f/2)},inv:function(a,l,f){return f/(l*(1/n.ibetainv(a,l/2,f/2)-1))},mean:function(a,l){return l>2?l/(l-2):void 0},mode:function(a,l){return a>2?l*(a-2)/(a*(l+2)):void 0},sample:function(a,l){var f=n.randg(a/2)*2,p=n.randg(l/2)*2;return f/a/(p/l)},variance:function(a,l){if(!(l<=4))return 2*l*l*(a+l-2)/(a*(l-2)*(l-2)*(l-4))}}),n.extend(n.cauchy,{pdf:function(a,l,f){return f<0?0:f/(o.pow(a-l,2)+o.pow(f,2))/o.PI},cdf:function(a,l,f){return o.atan((a-l)/f)/o.PI+.5},inv:function(u,a,l){return a+l*o.tan(o.PI*(u-.5))},median:function(a){return a},mode:function(a){return a},sample:function(a,l){return n.randn()*o.sqrt(1/(2*n.randg(.5)))*l+a}}),n.extend(n.chisquare,{pdf:function(a,l){return a<0?0:a===0&&l===2?.5:o.exp((l/2-1)*o.log(a)-a/2-l/2*o.log(2)-n.gammaln(l/2))},cdf:function(a,l){return a<0?0:n.lowRegGamma(l/2,a/2)},inv:function(u,a){return 2*n.gammapinv(u,.5*a)},mean:function(u){return u},median:function(a){return a*o.pow(1-2/(9*a),3)},mode:function(a){return a-2>0?a-2:0},sample:function(a){return n.randg(a/2)*2},variance:function(a){return 2*a}}),n.extend(n.exponential,{pdf:function(a,l){return a<0?0:l*o.exp(-l*a)},cdf:function(a,l){return a<0?0:1-o.exp(-l*a)},inv:function(u,a){return-o.log(1-u)/a},mean:function(u){return 1/u},median:function(u){return 1/u*o.log(2)},mode:function(){return 0},sample:function(a){return-1/a*o.log(n._random_fn())},variance:function(u){return o.pow(u,-2)}}),n.extend(n.gamma,{pdf:function(a,l,f){return a<0?0:a===0&&l===1?1/f:o.exp((l-1)*o.log(a)-a/f-n.gammaln(l)-l*o.log(f))},cdf:function(a,l,f){return a<0?0:n.lowRegGamma(l,a/f)},inv:function(u,a,l){return n.gammapinv(u,a)*l},mean:function(u,a){return u*a},mode:function(a,l){if(a>1)return(a-1)*l},sample:function(a,l){return n.randg(a)*l},variance:function(a,l){return a*l*l}}),n.extend(n.invgamma,{pdf:function(a,l,f){return a<=0?0:o.exp(-(l+1)*o.log(a)-f/a-n.gammaln(l)+l*o.log(f))},cdf:function(a,l,f){return a<=0?0:1-n.lowRegGamma(l,f/a)},inv:function(u,a,l){return l/n.gammapinv(1-u,a)},mean:function(u,a){return u>1?a/(u-1):void 0},mode:function(a,l){return l/(a+1)},sample:function(a,l){return l/n.randg(a)},variance:function(a,l){if(!(a<=2))return l*l/((a-1)*(a-1)*(a-2))}}),n.extend(n.kumaraswamy,{pdf:function(a,l,f){return a===0&&l===1?f:a===1&&f===1?l:o.exp(o.log(l)+o.log(f)+(l-1)*o.log(a)+(f-1)*o.log(1-o.pow(a,l)))},cdf:function(a,l,f){return a<0?0:a>1?1:1-o.pow(1-o.pow(a,l),f)},inv:function(a,l,f){return o.pow(1-o.pow(1-a,1/f),1/l)},mean:function(u,a){return a*n.gammafn(1+1/u)*n.gammafn(a)/n.gammafn(1+1/u+a)},median:function(a,l){return o.pow(1-o.pow(2,-1/l),1/a)},mode:function(a,l){if(a>=1&&l>=1&&a!==1&&l!==1)return o.pow((a-1)/(a*l-1),1/a)},variance:function(){throw new Error("variance not yet implemented")}}),n.extend(n.lognormal,{pdf:function(a,l,f){return a<=0?0:o.exp(-o.log(a)-.5*o.log(2*o.PI)-o.log(f)-o.pow(o.log(a)-l,2)/(2*f*f))},cdf:function(a,l,f){return a<0?0:.5+.5*n.erf((o.log(a)-l)/o.sqrt(2*f*f))},inv:function(u,a,l){return o.exp(-1.4142135623730951*l*n.erfcinv(2*u)+a)},mean:function(a,l){return o.exp(a+l*l/2)},median:function(a){return o.exp(a)},mode:function(a,l){return o.exp(a-l*l)},sample:function(a,l){return o.exp(n.randn()*l+a)},variance:function(a,l){return(o.exp(l*l)-1)*o.exp(2*a+l*l)}}),n.extend(n.noncentralt,{pdf:function(a,l,f){var p=1e-14;return o.abs(f)<p?n.studentt.pdf(a,l):o.abs(a)<p?o.exp(n.gammaln((l+1)/2)-f*f/2-.5*o.log(o.PI*l)-n.gammaln(l/2)):l/a*(n.noncentralt.cdf(a*o.sqrt(1+2/l),l+2,f)-n.noncentralt.cdf(a,l,f))},cdf:function(a,l,f){var p=1e-14,h=200;if(o.abs(f)<p)return n.studentt.cdf(a,l);var m=!1;a<0&&(m=!0,f=-f);for(var w=n.normal.cdf(-f,0,1),y=p+1,v=y,g=a*a/(a*a+l),b=0,k=o.exp(-f*f/2),E=o.exp(-f*f/2-.5*o.log(2)-n.gammaln(3/2))*f;b<h||v>p||y>p;)v=y,b>0&&(k*=f*f/(2*b),E*=f*f/(2*(b+1/2))),y=k*n.beta.cdf(g,b+.5,l/2)+E*n.beta.cdf(g,b+1,l/2),w+=.5*y,b++;return m?1-w:w}}),n.extend(n.normal,{pdf:function(a,l,f){return o.exp(-.5*o.log(2*o.PI)-o.log(f)-o.pow(a-l,2)/(2*f*f))},cdf:function(a,l,f){return .5*(1+n.erf((a-l)/o.sqrt(2*f*f)))},inv:function(u,a,l){return-1.4142135623730951*l*n.erfcinv(2*u)+a},mean:function(u){return u},median:function(a){return a},mode:function(u){return u},sample:function(a,l){return n.randn()*l+a},variance:function(u,a){return a*a}}),n.extend(n.pareto,{pdf:function(a,l,f){return a<l?0:f*o.pow(l,f)/o.pow(a,f+1)},cdf:function(a,l,f){return a<l?0:1-o.pow(l/a,f)},inv:function(a,l,f){return l/o.pow(1-a,1/f)},mean:function(a,l){if(!(l<=1))return l*o.pow(a,l)/(l-1)},median:function(a,l){return a*(l*o.SQRT2)},mode:function(a){return a},variance:function(u,a){if(!(a<=2))return u*u*a/(o.pow(a-1,2)*(a-2))}}),n.extend(n.studentt,{pdf:function(a,l){return l=l>1e100?1e100:l,1/(o.sqrt(l)*n.betafn(.5,l/2))*o.pow(1+a*a/l,-((l+1)/2))},cdf:function(a,l){var f=l/2;return n.ibeta((a+o.sqrt(a*a+l))/(2*o.sqrt(a*a+l)),f,f)},inv:function(u,a){var l=n.ibetainv(2*o.min(u,1-u),.5*a,.5);return l=o.sqrt(a*(1-l)/l),u>.5?l:-l},mean:function(a){return a>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(a){return n.randn()*o.sqrt(a/(2*n.randg(a/2)))},variance:function(a){return a>2?a/(a-2):a>1?1/0:void 0}}),n.extend(n.weibull,{pdf:function(a,l,f){return a<0||l<0||f<0?0:f/l*o.pow(a/l,f-1)*o.exp(-o.pow(a/l,f))},cdf:function(a,l,f){return a<0?0:1-o.exp(-o.pow(a/l,f))},inv:function(u,a,l){return a*o.pow(-o.log(1-u),1/l)},mean:function(u,a){return u*n.gammafn(1+1/a)},median:function(a,l){return a*o.pow(o.log(2),1/l)},mode:function(a,l){return l<=1?0:a*o.pow((l-1)/l,1/l)},sample:function(a,l){return a*o.pow(-o.log(n._random_fn()),1/l)},variance:function(a,l){return a*a*n.gammafn(1+2/l)-o.pow(n.weibull.mean(a,l),2)}}),n.extend(n.uniform,{pdf:function(a,l,f){return a<l||a>f?0:1/(f-l)},cdf:function(a,l,f){return a<l?0:a<f?(a-l)/(f-l):1},inv:function(u,a,l){return a+u*(l-a)},mean:function(a,l){return .5*(a+l)},median:function(a,l){return n.mean(a,l)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,l){return a/2+l/2+(l/2-a/2)*(2*n._random_fn()-1)},variance:function(a,l){return o.pow(l-a,2)/12}});function i(u,a,l,f){for(var p=0,h=1,m=1,w=1,y=0,v=0,g;o.abs((m-v)/m)>f;)v=m,g=-(a+y)*(a+l+y)*u/(a+2*y)/(a+2*y+1),p=m+g*p,h=w+g*h,y=y+1,g=y*(l-y)*u/(a+2*y-1)/(a+2*y),m=p+g*m,w=h+g*w,p=p/w,h=h/w,m=m/w,w=1;return m/a}n.extend(n.binomial,{pdf:function(a,l,f){return f===0||f===1?l*f===a?1:0:n.combination(l,a)*o.pow(f,a)*o.pow(1-f,l-a)},cdf:function(a,l,f){var p,h=1e-10;if(a<0)return 0;if(a>=l)return 1;if(f<0||f>1||l<=0)return NaN;a=o.floor(a);var m=f,w=a+1,y=l-a,v=w+y,g=o.exp(n.gammaln(v)-n.gammaln(y)-n.gammaln(w)+w*o.log(m)+y*o.log(1-m));return m<(w+1)/(v+2)?p=g*i(m,w,y,h):p=1-g*i(1-m,y,w,h),o.round((1-p)*(1/h))/(1/h)}}),n.extend(n.negbin,{pdf:function(a,l,f){return a!==a>>>0?!1:a<0?0:n.combination(a+l-1,l-1)*o.pow(1-f,a)*o.pow(f,l)},cdf:function(a,l,f){var p=0,h=0;if(a<0)return 0;for(;h<=a;h++)p+=n.negbin.pdf(h,l,f);return p}}),n.extend(n.hypgeom,{pdf:function(a,l,f,p){if(a!==a|0)return!1;if(a<0||a<f-(l-p))return 0;if(a>p||a>f)return 0;if(f*2>l)return p*2>l?n.hypgeom.pdf(l-f-p+a,l,l-f,l-p):n.hypgeom.pdf(p-a,l,l-f,p);if(p*2>l)return n.hypgeom.pdf(f-a,l,f,l-p);if(f<p)return n.hypgeom.pdf(a,l,p,f);for(var h=1,m=0,w=0;w<a;w++){for(;h>1&&m<p;)h*=1-f/(l-m),m++;h*=(p-w)*(f-w)/((w+1)*(l-f-p+w+1))}for(;m<p;m++)h*=1-f/(l-m);return o.min(1,o.max(0,h))},cdf:function(a,l,f,p){if(a<0||a<f-(l-p))return 0;if(a>=p||a>=f)return 1;if(f*2>l)return p*2>l?n.hypgeom.cdf(l-f-p+a,l,l-f,l-p):1-n.hypgeom.cdf(p-a-1,l,l-f,p);if(p*2>l)return 1-n.hypgeom.cdf(f-a-1,l,f,l-p);if(f<p)return n.hypgeom.cdf(a,l,p,f);for(var h=1,m=1,w=0,y=0;y<a;y++){for(;h>1&&w<p;){var v=1-f/(l-w);m*=v,h*=v,w++}m*=(p-y)*(f-y)/((y+1)*(l-f-p+y+1)),h+=m}for(;w<p;w++)h*=1-f/(l-w);return o.min(1,o.max(0,h))}}),n.extend(n.poisson,{pdf:function(a,l){return l<0||a%1!==0||a<0?0:o.pow(l,a)*o.exp(-l)/n.factorial(a)},cdf:function(a,l){var f=[],p=0;if(a<0)return 0;for(;p<=a;p++)f.push(n.poisson.pdf(p,l));return n.sum(f)},mean:function(u){return u},variance:function(u){return u},sampleSmall:function(a){var l=1,f=0,p=o.exp(-a);do f++,l*=n._random_fn();while(l>p);return f-1},sampleLarge:function(a){var l=a,f,p,h,m,w,y,v,g,b,k;for(m=o.sqrt(l),w=o.log(l),v=.931+2.53*m,y=-.059+.02483*v,g=1.1239+1.1328/(v-3.4),b=.9277-3.6224/(v-2);;){if(p=o.random()-.5,h=o.random(),k=.5-o.abs(p),f=o.floor((2*y/k+v)*p+l+.43),k>=.07&&h<=b)return f;if(!(f<0||k<.013&&h>k)&&o.log(h)+o.log(g)-o.log(y/(k*k)+v)<=-l+f*w-n.loggam(f+1))return f}},sample:function(a){return a<10?this.sampleSmall(a):this.sampleLarge(a)}}),n.extend(n.triangular,{pdf:function(a,l,f,p){return f<=l||p<l||p>f?NaN:a<l||a>f?0:a<p?2*(a-l)/((f-l)*(p-l)):a===p?2/(f-l):2*(f-a)/((f-l)*(f-p))},cdf:function(a,l,f,p){return f<=l||p<l||p>f?NaN:a<=l?0:a>=f?1:a<=p?o.pow(a-l,2)/((f-l)*(p-l)):1-o.pow(f-a,2)/((f-l)*(f-p))},inv:function(a,l,f,p){return f<=l||p<l||p>f?NaN:a<=(p-l)/(f-l)?l+(f-l)*o.sqrt(a*((p-l)/(f-l))):l+(f-l)*(1-o.sqrt((1-a)*(1-(p-l)/(f-l))))},mean:function(a,l,f){return(a+l+f)/3},median:function(a,l,f){if(f<=(a+l)/2)return l-o.sqrt((l-a)*(l-f))/o.sqrt(2);if(f>(a+l)/2)return a+o.sqrt((l-a)*(f-a))/o.sqrt(2)},mode:function(a,l,f){return f},sample:function(a,l,f){var p=n._random_fn();return p<(f-a)/(l-a)?a+o.sqrt(p*(l-a)*(f-a)):l-o.sqrt((1-p)*(l-a)*(l-f))},variance:function(a,l,f){return(a*a+l*l+f*f-a*l-a*f-l*f)/18}}),n.extend(n.arcsine,{pdf:function(a,l,f){return f<=l?NaN:a<=l||a>=f?0:2/o.PI*o.pow(o.pow(f-l,2)-o.pow(2*a-l-f,2),-.5)},cdf:function(a,l,f){return a<l?0:a<f?2/o.PI*o.asin(o.sqrt((a-l)/(f-l))):1},inv:function(u,a,l){return a+(.5-.5*o.cos(o.PI*u))*(l-a)},mean:function(a,l){return l<=a?NaN:(a+l)/2},median:function(a,l){return l<=a?NaN:(a+l)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(a,l){return(a+l)/2+(l-a)/2*o.sin(2*o.PI*n.uniform.sample(0,1))},variance:function(a,l){return l<=a?NaN:o.pow(l-a,2)/8}});function s(u){return u/o.abs(u)}n.extend(n.laplace,{pdf:function(a,l,f){return f<=0?0:o.exp(-o.abs(a-l)/f)/(2*f)},cdf:function(a,l,f){return f<=0?0:a<l?.5*o.exp((a-l)/f):1-.5*o.exp(-(a-l)/f)},mean:function(u){return u},median:function(u){return u},mode:function(u){return u},variance:function(u,a){return 2*a*a},sample:function(a,l){var f=n._random_fn()-.5;return a-l*s(f)*o.log(1-2*o.abs(f))}});function c(u,a,l){var f=12,p=6,h=-30,m=-50,w=60,y=8,v=3,g=2,b=3,k=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],E=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],C=u*.5;if(C>=y)return 1;var S=2*n.normal.cdf(C,0,1,1,0)-1;S>=o.exp(m/l)?S=o.pow(S,l):S=0;var T;u>v?T=g:T=b;for(var P=C,L=(y-C)/T,M=P+L,F=0,$=l-1,z=1;z<=T;z++){for(var q=0,U=.5*(M+P),Y=.5*(M-P),R=1;R<=f;R++){var B,V;p<R?(B=f-R+1,V=k[B-1]):(B=R,V=-k[B-1]);var re=Y*V,ge=U+re,X=ge*ge;if(X>w)break;var ie=2*n.normal.cdf(ge,0,1,1,0),me=2*n.normal.cdf(ge,u,1,1,0),K=ie*.5-me*.5;K>=o.exp(h/$)&&(K=E[B-1]*o.exp(-(.5*X))*o.pow(K,$),q+=K)}q*=2*Y*l/o.sqrt(2*o.PI),F+=q,P=M,M+=L}return S+=F,S<=o.exp(h/a)?0:(S=o.pow(S,a),S>=1?1:S)}function d(u,a,l){var f=.322232421088,p=.099348462606,h=-1,m=.588581570495,w=-.342242088547,y=.531103462366,v=-.204231210125,g=.10353775285,b=-453642210148e-16,k=.0038560700634,E=.8832,C=.2368,S=1.214,T=1.208,P=1.4142,L=120,M=.5-.5*u,F=o.sqrt(o.log(1/(M*M))),$=F+((((F*b+v)*F+w)*F+h)*F+f)/((((F*k+g)*F+y)*F+m)*F+p);l<L&&($+=($*$*$+$)/l/4);var z=E-C*$;return l<L&&(z+=-S/l+T*$/l),$*(z*o.log(a-1)+P)}n.extend(n.tukey,{cdf:function(a,l,f){var p=1,h=l,m=16,w=8,y=-30,v=1e-14,g=100,b=800,k=5e3,E=25e3,C=1,S=.5,T=.25,P=.125,L=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],M=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(a<=0)return 0;if(f<2||p<1||h<2)return NaN;if(!Number.isFinite(a))return 1;if(f>E)return c(a,p,h);var F=f*.5,$=F*o.log(f)-f*o.log(2)-n.gammaln(F),z=F-1,q=f*.25,U;f<=g?U=C:f<=b?U=S:f<=k?U=T:U=P,$+=o.log(U);for(var Y=0,R=1;R<=50;R++){for(var B=0,V=(2*R-1)*U,re=1;re<=m;re++){var ge,X;w<re?(ge=re-w-1,X=$+z*o.log(V+L[ge]*U)-(L[ge]*U+V)*q):(ge=re-1,X=$+z*o.log(V-L[ge]*U)+(L[ge]*U-V)*q);var ie;if(X>=y){w<re?ie=a*o.sqrt((L[ge]*U+V)*.5):ie=a*o.sqrt((-(L[ge]*U)+V)*.5);var me=c(ie,p,h),K=me*M[ge]*o.exp(X);B+=K}}if(R*U>=1&&B<=v)break;Y+=B}if(B>v)throw new Error("tukey.cdf failed to converge");return Y>1&&(Y=1),Y},inv:function(u,a,l){var f=1,p=a,h=1e-4,m=50;if(l<2||f<1||p<2)return NaN;if(u<0||u>1)return NaN;if(u===0)return 0;if(u===1)return 1/0;var w=d(u,p,l),y=n.tukey.cdf(w,a,l)-u,v;y>0?v=o.max(0,w-1):v=w+1;for(var g=n.tukey.cdf(v,a,l)-u,b,k=1;k<m;k++){b=v-g*(v-w)/(g-y),y=g,w=v,b<0&&(b=0,g=-u),g=n.tukey.cdf(b,a,l)-u,v=b;var E=o.abs(v-w);if(E<h)return b}throw new Error("tukey.inv failed to converge")}})}(r,Math),function(n,o){var i=Array.prototype.push,s=n.utils.isArray;function c(d){return s(d)||d instanceof n}n.extend({add:function(u,a){return c(a)?(c(a[0])||(a=[a]),n.map(u,function(l,f,p){return l+a[f][p]})):n.map(u,function(l){return l+a})},subtract:function(u,a){return c(a)?(c(a[0])||(a=[a]),n.map(u,function(l,f,p){return l-a[f][p]||0})):n.map(u,function(l){return l-a})},divide:function(u,a){return c(a)?(c(a[0])||(a=[a]),n.multiply(u,n.inv(a))):n.map(u,function(l){return l/a})},multiply:function(u,a){var l,f,p,h,m,w,y,v;if(u.length===void 0&&a.length===void 0)return u*a;if(m=u.length,w=u[0].length,y=n.zeros(m,p=c(a)?a[0].length:w),v=0,c(a)){for(;v<p;v++)for(l=0;l<m;l++){for(h=0,f=0;f<w;f++)h+=u[l][f]*a[f][v];y[l][v]=h}return m===1&&v===1?y[0][0]:y}return n.map(u,function(g){return g*a})},outer:function(u,a){return n.multiply(u.map(function(l){return[l]}),[a])},dot:function(u,a){c(u[0])||(u=[u]),c(a[0])||(a=[a]);for(var l=u[0].length===1&&u.length!==1?n.transpose(u):u,f=a[0].length===1&&a.length!==1?n.transpose(a):a,p=[],h=0,m=l.length,w=l[0].length,y,v;h<m;h++){for(p[h]=[],y=0,v=0;v<w;v++)y+=l[h][v]*f[h][v];p[h]=y}return p.length===1?p[0]:p},pow:function(u,a){return n.map(u,function(l){return o.pow(l,a)})},exp:function(u){return n.map(u,function(a){return o.exp(a)})},log:function(u){return n.map(u,function(a){return o.log(a)})},abs:function(u){return n.map(u,function(a){return o.abs(a)})},norm:function(u,a){var l=0,f=0;for(isNaN(a)&&(a=2),c(u[0])&&(u=u[0]);f<u.length;f++)l+=o.pow(o.abs(u[f]),a);return o.pow(l,1/a)},angle:function(u,a){return o.acos(n.dot(u,a)/(n.norm(u)*n.norm(a)))},aug:function(u,a){var l=[],f;for(f=0;f<u.length;f++)l.push(u[f].slice());for(f=0;f<l.length;f++)i.apply(l[f],a[f]);return l},inv:function(u){for(var a=u.length,l=u[0].length,f=n.identity(a,l),p=n.gauss_jordan(u,f),h=[],m=0,w;m<a;m++)for(h[m]=[],w=l;w<p[0].length;w++)h[m][w-l]=p[m][w];return h},det:function d(u){if(u.length===2)return u[0][0]*u[1][1]-u[0][1]*u[1][0];for(var a=0,l=0;l<u.length;l++){for(var f=[],p=1;p<u.length;p++){f[p-1]=[];for(var h=0;h<u.length;h++)h<l?f[p-1][h]=u[p][h]:h>l&&(f[p-1][h-1]=u[p][h])}var m=l%2?-1:1;a+=d(f)*u[0][l]*m}return a},gauss_elimination:function(u,a){var l=0,f=0,p=u.length,h=u[0].length,m=1,w=0,y=[],v,g,b,k;for(u=n.aug(u,a),v=u[0].length,l=0;l<p;l++){for(g=u[l][l],f=l,k=l+1;k<h;k++)g<o.abs(u[k][l])&&(g=u[k][l],f=k);if(f!=l)for(k=0;k<v;k++)b=u[l][k],u[l][k]=u[f][k],u[f][k]=b;for(f=l+1;f<p;f++)for(m=u[f][l]/u[l][l],k=l;k<v;k++)u[f][k]=u[f][k]-m*u[l][k]}for(l=p-1;l>=0;l--){for(w=0,f=l+1;f<=p-1;f++)w=w+y[f]*u[l][f];y[l]=(u[l][v-1]-w)/u[l][l]}return y},gauss_jordan:function(u,a){var l=n.aug(u,a),f=l.length,p=l[0].length,h=0,m,w,y;for(w=0;w<f;w++){var v=w;for(y=w+1;y<f;y++)o.abs(l[y][w])>o.abs(l[v][w])&&(v=y);var g=l[w];for(l[w]=l[v],l[v]=g,y=w+1;y<f;y++)for(h=l[y][w]/l[w][w],m=w;m<p;m++)l[y][m]-=l[w][m]*h}for(w=f-1;w>=0;w--){for(h=l[w][w],y=0;y<w;y++)for(m=p-1;m>w-1;m--)l[y][m]-=l[w][m]*l[y][w]/h;for(l[w][w]/=h,m=f;m<p;m++)l[w][m]/=h}return l},triaUpSolve:function(u,a){var l=u[0].length,f=n.zeros(1,l)[0],p,h=!1;return a[0].length!=null&&(a=a.map(function(m){return m[0]}),h=!0),n.arange(l-1,-1,-1).forEach(function(m){p=n.arange(m+1,l).map(function(w){return f[w]*u[m][w]}),f[m]=(a[m]-n.sum(p))/u[m][m]}),h?f.map(function(m){return[m]}):f},triaLowSolve:function(u,a){var l=u[0].length,f=n.zeros(1,l)[0],p,h=!1;return a[0].length!=null&&(a=a.map(function(m){return m[0]}),h=!0),n.arange(l).forEach(function(m){p=n.arange(m).map(function(w){return u[m][w]*f[w]}),f[m]=(a[m]-n.sum(p))/u[m][m]}),h?f.map(function(m){return[m]}):f},lu:function(u){var a=u.length,l=n.identity(a),f=n.zeros(u.length,u[0].length),p;return n.arange(a).forEach(function(h){f[0][h]=u[0][h]}),n.arange(1,a).forEach(function(h){n.arange(h).forEach(function(m){p=n.arange(m).map(function(w){return l[h][w]*f[w][m]}),l[h][m]=(u[h][m]-n.sum(p))/f[m][m]}),n.arange(h,a).forEach(function(m){p=n.arange(h).map(function(w){return l[h][w]*f[w][m]}),f[h][m]=u[p.length][m]-n.sum(p)})}),[l,f]},cholesky:function(u){var a=u.length,l=n.zeros(u.length,u[0].length),f;return n.arange(a).forEach(function(p){f=n.arange(p).map(function(h){return o.pow(l[p][h],2)}),l[p][p]=o.sqrt(u[p][p]-n.sum(f)),n.arange(p+1,a).forEach(function(h){f=n.arange(p).map(function(m){return l[p][m]*l[h][m]}),l[h][p]=(u[p][h]-n.sum(f))/l[p][p]})}),l},gauss_jacobi:function(u,a,l,f){for(var p=0,h=0,m=u.length,w=[],y=[],v=[],g,b,k,E;p<m;p++)for(w[p]=[],y[p]=[],v[p]=[],h=0;h<m;h++)p>h?(w[p][h]=u[p][h],y[p][h]=v[p][h]=0):p<h?(y[p][h]=u[p][h],w[p][h]=v[p][h]=0):(v[p][h]=u[p][h],w[p][h]=y[p][h]=0);for(k=n.multiply(n.multiply(n.inv(v),n.add(w,y)),-1),b=n.multiply(n.inv(v),a),g=l,E=n.add(n.multiply(k,l),b),p=2;o.abs(n.norm(n.subtract(E,g)))>f;)g=E,E=n.add(n.multiply(k,g),b),p++;return E},gauss_seidel:function(u,a,l,f){for(var p=0,h=u.length,m=[],w=[],y=[],v,g,b,k,E;p<h;p++)for(m[p]=[],w[p]=[],y[p]=[],v=0;v<h;v++)p>v?(m[p][v]=u[p][v],w[p][v]=y[p][v]=0):p<v?(w[p][v]=u[p][v],m[p][v]=y[p][v]=0):(y[p][v]=u[p][v],m[p][v]=w[p][v]=0);for(k=n.multiply(n.multiply(n.inv(n.add(y,m)),w),-1),b=n.multiply(n.inv(n.add(y,m)),a),g=l,E=n.add(n.multiply(k,l),b),p=2;o.abs(n.norm(n.subtract(E,g)))>f;)g=E,E=n.add(n.multiply(k,g),b),p=p+1;return E},SOR:function(u,a,l,f,p){for(var h=0,m=u.length,w=[],y=[],v=[],g,b,k,E,C;h<m;h++)for(w[h]=[],y[h]=[],v[h]=[],g=0;g<m;g++)h>g?(w[h][g]=u[h][g],y[h][g]=v[h][g]=0):h<g?(y[h][g]=u[h][g],w[h][g]=v[h][g]=0):(v[h][g]=u[h][g],w[h][g]=y[h][g]=0);for(E=n.multiply(n.inv(n.add(v,n.multiply(w,p))),n.subtract(n.multiply(v,1-p),n.multiply(y,p))),k=n.multiply(n.multiply(n.inv(n.add(v,n.multiply(w,p))),a),p),b=l,C=n.add(n.multiply(E,l),k),h=2;o.abs(n.norm(n.subtract(C,b)))>f;)b=C,C=n.add(n.multiply(E,b),k),h++;return C},householder:function(u){for(var a=u.length,l=u[0].length,f=0,p=[],h=[],m,w,y,v,g;f<a-1;f++){for(m=0,v=f+1;v<l;v++)m+=u[v][f]*u[v][f];for(g=u[f+1][f]>0?-1:1,m=g*o.sqrt(m),w=o.sqrt((m*m-u[f+1][f]*m)/2),p=n.zeros(a,1),p[f+1][0]=(u[f+1][f]-m)/(2*w),y=f+2;y<a;y++)p[y][0]=u[y][f]/(2*w);h=n.subtract(n.identity(a,l),n.multiply(n.multiply(p,n.transpose(p)),2)),u=n.multiply(h,n.multiply(u,h))}return u},QR:function(){var d=n.sum,u=n.arange;function a(l){var f=l.length,p=l[0].length,h=n.zeros(p,p);l=n.copy(l);var m,w,y;for(w=0;w<p;w++){for(h[w][w]=o.sqrt(d(u(f).map(function(v){return l[v][w]*l[v][w]}))),m=0;m<f;m++)l[m][w]=l[m][w]/h[w][w];for(y=w+1;y<p;y++)for(h[w][y]=d(u(f).map(function(v){return l[v][w]*l[v][y]})),m=0;m<f;m++)l[m][y]=l[m][y]-l[m][w]*h[w][y]}return[l,h]}return a}(),lstsq:function(){function d(a){a=n.copy(a);var l=a.length,f=n.identity(l);return n.arange(l-1,-1,-1).forEach(function(p){n.sliceAssign(f,{row:p},n.divide(n.slice(f,{row:p}),a[p][p])),n.sliceAssign(a,{row:p},n.divide(n.slice(a,{row:p}),a[p][p])),n.arange(p).forEach(function(h){var m=n.multiply(a[h][p],-1),w=n.slice(a,{row:h}),y=n.multiply(n.slice(a,{row:p}),m);n.sliceAssign(a,{row:h},n.add(w,y));var v=n.slice(f,{row:h}),g=n.multiply(n.slice(f,{row:p}),m);n.sliceAssign(f,{row:h},n.add(v,g))})}),f}function u(a,l){var f=!1;l[0].length===void 0&&(l=l.map(function(E){return[E]}),f=!0);var p=n.QR(a),h=p[0],m=p[1],w=a[0].length,y=n.slice(h,{col:{end:w}}),v=n.slice(m,{row:{end:w}}),g=d(v),b=n.transpose(y);b[0].length===void 0&&(b=[b]);var k=n.multiply(n.multiply(g,b),l);return k.length===void 0&&(k=[[k]]),f?k.map(function(E){return E[0]}):k}return u}(),jacobi:function(u){for(var a=1,l=u.length,f=n.identity(l,l),p=[],h,m,w,y,v,g,b,k;a===1;){for(g=u[0][1],y=0,v=1,m=0;m<l;m++)for(w=0;w<l;w++)m!=w&&g<o.abs(u[m][w])&&(g=o.abs(u[m][w]),y=m,v=w);for(u[y][y]===u[v][v]?b=u[y][v]>0?o.PI/4:-o.PI/4:b=o.atan(2*u[y][v]/(u[y][y]-u[v][v]))/2,k=n.identity(l,l),k[y][y]=o.cos(b),k[y][v]=-o.sin(b),k[v][y]=o.sin(b),k[v][v]=o.cos(b),f=n.multiply(f,k),h=n.multiply(n.multiply(n.inv(k),u),k),u=h,a=0,m=1;m<l;m++)for(w=1;w<l;w++)m!=w&&o.abs(u[m][w])>.001&&(a=1)}for(m=0;m<l;m++)p.push(u[m][m]);return[f,p]},rungekutta:function(u,a,l,f,p,h){var m,w,y,v,g;if(h===2)for(;f<=l;)m=a*u(f,p),w=a*u(f+a,p+m),y=p+(m+w)/2,p=y,f=f+a;if(h===4)for(;f<=l;)m=a*u(f,p),w=a*u(f+a/2,p+m/2),v=a*u(f+a/2,p+w/2),g=a*u(f+a,p+v),y=p+(m+2*w+2*v+g)/6,p=y,f=f+a;return p},romberg:function(u,a,l,f){for(var p=0,h=(l-a)/2,m=[],w=[],y=[],v,g,b,k,E;p<f/2;){for(E=u(a),b=a,k=0;b<=l;b=b+h,k++)m[k]=b;for(v=m.length,b=1;b<v-1;b++)E+=(b%2!==0?4:2)*u(m[b]);E=h/3*(E+u(l)),y[p]=E,h/=2,p++}for(g=y.length,v=1;g!==1;){for(b=0;b<g-1;b++)w[b]=(o.pow(4,v)*y[b+1]-y[b])/(o.pow(4,v)-1);g=w.length,y=w,w=[],v++}return y},richardson:function(u,a,l,f){function p(C,S){for(var T=0,P=C.length,L;T<P;T++)C[T]===S&&(L=T);return L}for(var h=o.abs(l-u[p(u,l)+1]),m=0,w=[],y=[],v,g,b,k,E;f>=h;)v=p(u,l+f),g=p(u,l),w[m]=(a[v]-2*a[g]+a[2*g-v])/(f*f),f/=2,m++;for(k=w.length,b=1;k!=1;){for(E=0;E<k-1;E++)y[E]=(o.pow(4,b)*w[E+1]-w[E])/(o.pow(4,b)-1);k=y.length,w=y,y=[],b++}return w},simpson:function(u,a,l,f){for(var p=(l-a)/f,h=u(a),m=[],w=a,y=0,v=1,g;w<=l;w=w+p,y++)m[y]=w;for(g=m.length;v<g-1;v++)h+=(v%2!==0?4:2)*u(m[v]);return p/3*(h+u(l))},hermite:function(u,a,l,f){for(var p=u.length,h=0,m=0,w=[],y=[],v=[],g=[],b;m<p;m++){for(w[m]=1,b=0;b<p;b++)m!=b&&(w[m]*=(f-u[b])/(u[m]-u[b]));for(y[m]=0,b=0;b<p;b++)m!=b&&(y[m]+=1/(u[m]-u[b]));v[m]=(1-2*(f-u[m])*y[m])*(w[m]*w[m]),g[m]=(f-u[m])*(w[m]*w[m]),h+=v[m]*a[m]+g[m]*l[m]}return h},lagrange:function(u,a,l){for(var f=0,p=0,h,m,w=u.length;p<w;p++){for(m=a[p],h=0;h<w;h++)p!=h&&(m*=(l-u[h])/(u[p]-u[h]));f+=m}return f},cubic_spline:function(u,a,l){for(var f=u.length,p=0,h,m=[],w=[],y=[],v=[],g=[],b=[],k=[];p<f-1;p++)g[p]=u[p+1]-u[p];for(y[0]=0,p=1;p<f-1;p++)y[p]=3/g[p]*(a[p+1]-a[p])-3/g[p-1]*(a[p]-a[p-1]);for(p=1;p<f-1;p++)m[p]=[],w[p]=[],m[p][p-1]=g[p-1],m[p][p]=2*(g[p-1]+g[p]),m[p][p+1]=g[p],w[p][0]=y[p];for(v=n.multiply(n.inv(m),w),h=0;h<f-1;h++)b[h]=(a[h+1]-a[h])/g[h]-g[h]*(v[h+1][0]+2*v[h][0])/3,k[h]=(v[h+1][0]-v[h][0])/(3*g[h]);for(h=0;h<f&&!(u[h]>l);h++);return h-=1,a[h]+(l-u[h])*b[h]+n.sq(l-u[h])*v[h]+(l-u[h])*n.sq(l-u[h])*k[h]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(u){var a=u.length,l=u[0].length,f=0,p,h,m=[],w=[],y=[],v=[],g=[],b=[],k=[],E=[],C=[],S=[];for(f=0;f<a;f++)m[f]=n.sum(u[f])/l;for(f=0;f<l;f++)for(k[f]=[],p=0;p<a;p++)k[f][p]=u[p][f]-m[p];for(k=n.transpose(k),f=0;f<a;f++)for(E[f]=[],p=0;p<a;p++)E[f][p]=n.dot([k[f]],[k[p]])/(l-1);for(y=n.jacobi(E),C=y[0],w=y[1],S=n.transpose(C),f=0;f<w.length;f++)for(p=f;p<w.length;p++)w[f]<w[p]&&(h=w[f],w[f]=w[p],w[p]=h,v=S[f],S[f]=S[p],S[p]=v);for(b=n.transpose(k),f=0;f<a;f++)for(g[f]=[],p=0;p<b.length;p++)g[f][p]=n.dot([S[f]],[b[p]]);return[u,w,S,g]}}),function(d){for(var u=0;u<d.length;u++)(function(a){n.fn[a]=function(l,f){var p=this;return f?(setTimeout(function(){f.call(p,n.fn[a].call(p,l))},15),this):typeof n[a](this,l)=="number"?n[a](this,l):n(n[a](this,l))}})(d[u])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(r,Math),function(n,o){var i=[].slice,s=n.utils.isNumber,c=n.utils.isArray;n.extend({zscore:function(){var a=i.call(arguments);return s(a[1])?(a[0]-a[1])/a[2]:(a[0]-n.mean(a[1]))/n.stdev(a[1],a[2])},ztest:function(){var a=i.call(arguments),l;return c(a[1])?(l=n.zscore(a[0],a[1],a[3]),a[2]===1?n.normal.cdf(-o.abs(l),0,1):n.normal.cdf(-o.abs(l),0,1)*2):a.length>2?(l=n.zscore(a[0],a[1],a[2]),a[3]===1?n.normal.cdf(-o.abs(l),0,1):n.normal.cdf(-o.abs(l),0,1)*2):(l=a[0],a[1]===1?n.normal.cdf(-o.abs(l),0,1):n.normal.cdf(-o.abs(l),0,1)*2)}}),n.extend(n.fn,{zscore:function(a,l){return(a-this.mean())/this.stdev(l)},ztest:function(a,l,f){var p=o.abs(this.zscore(a,f));return l===1?n.normal.cdf(-p,0,1):n.normal.cdf(-p,0,1)*2}}),n.extend({tscore:function(){var a=i.call(arguments);return a.length===4?(a[0]-a[1])/(a[2]/o.sqrt(a[3])):(a[0]-n.mean(a[1]))/(n.stdev(a[1],!0)/o.sqrt(a[1].length))},ttest:function(){var a=i.call(arguments),l;return a.length===5?(l=o.abs(n.tscore(a[0],a[1],a[2],a[3])),a[4]===1?n.studentt.cdf(-l,a[3]-1):n.studentt.cdf(-l,a[3]-1)*2):s(a[1])?(l=o.abs(a[0]),a[2]==1?n.studentt.cdf(-l,a[1]-1):n.studentt.cdf(-l,a[1]-1)*2):(l=o.abs(n.tscore(a[0],a[1])),a[2]==1?n.studentt.cdf(-l,a[1].length-1):n.studentt.cdf(-l,a[1].length-1)*2)}}),n.extend(n.fn,{tscore:function(a){return(a-this.mean())/(this.stdev(!0)/o.sqrt(this.cols()))},ttest:function(a,l){return l===1?1-n.studentt.cdf(o.abs(this.tscore(a)),this.cols()-1):n.studentt.cdf(-o.abs(this.tscore(a)),this.cols()-1)*2}}),n.extend({anovafscore:function(){var a=i.call(arguments),l,f,p,h,m,w,y,v;if(a.length===1){for(m=new Array(a[0].length),y=0;y<a[0].length;y++)m[y]=a[0][y];a=m}for(f=new Array,y=0;y<a.length;y++)f=f.concat(a[y]);for(p=n.mean(f),l=0,y=0;y<a.length;y++)l=l+a[y].length*o.pow(n.mean(a[y])-p,2);for(l/=a.length-1,w=0,y=0;y<a.length;y++)for(h=n.mean(a[y]),v=0;v<a[y].length;v++)w+=o.pow(a[y][v]-h,2);return w/=f.length-a.length,l/w},anovaftest:function(){var a=i.call(arguments),l,f,p,h;if(s(a[0]))return 1-n.centralF.cdf(a[0],a[1],a[2]);var m=n.anovafscore(a);for(l=a.length-1,p=0,h=0;h<a.length;h++)p=p+a[h].length;return f=p-l-1,1-n.centralF.cdf(m,l,f)},ftest:function(a,l,f){return 1-n.centralF.cdf(a,l,f)}}),n.extend(n.fn,{anovafscore:function(){return n.anovafscore(this.toArray())},anovaftes:function(){var a=0,l;for(l=0;l<this.length;l++)a=a+this[l].length;return n.ftest(this.anovafscore(),this.length-1,a-this.length)}}),n.extend({qscore:function(){var a=i.call(arguments),l,f,p,h,m;return s(a[0])?(l=a[0],f=a[1],p=a[2],h=a[3],m=a[4]):(l=n.mean(a[0]),f=n.mean(a[1]),p=a[0].length,h=a[1].length,m=a[2]),o.abs(l-f)/(m*o.sqrt((1/p+1/h)/2))},qtest:function(){var a=i.call(arguments),l;a.length===3?(l=a[0],a=a.slice(1)):a.length===7?(l=n.qscore(a[0],a[1],a[2],a[3],a[4]),a=a.slice(5)):(l=n.qscore(a[0],a[1],a[2]),a=a.slice(3));var f=a[0],p=a[1];return 1-n.tukey.cdf(l,p,f-p)},tukeyhsd:function(a){for(var l=n.pooledstdev(a),f=a.map(function(v){return n.mean(v)}),p=a.reduce(function(v,g){return v+g.length},0),h=[],m=0;m<a.length;++m)for(var w=m+1;w<a.length;++w){var y=n.qtest(f[m],f[w],a[m].length,a[w].length,l,p,a.length);h.push([[m,w],y])}return h}}),n.extend({normalci:function(){var a=i.call(arguments),l=new Array(2),f;return a.length===4?f=o.abs(n.normal.inv(a[1]/2,0,1)*a[2]/o.sqrt(a[3])):f=o.abs(n.normal.inv(a[1]/2,0,1)*n.stdev(a[2])/o.sqrt(a[2].length)),l[0]=a[0]-f,l[1]=a[0]+f,l},tci:function(){var a=i.call(arguments),l=new Array(2),f;return a.length===4?f=o.abs(n.studentt.inv(a[1]/2,a[3]-1)*a[2]/o.sqrt(a[3])):f=o.abs(n.studentt.inv(a[1]/2,a[2].length-1)*n.stdev(a[2],!0)/o.sqrt(a[2].length)),l[0]=a[0]-f,l[1]=a[0]+f,l},significant:function(a,l){return a<l}}),n.extend(n.fn,{normalci:function(a,l){return n.normalci(a,l,this.toArray())},tci:function(a,l){return n.tci(a,l,this.toArray())}});function d(u,a,l,f){if(u>1||l>1||u<=0||l<=0)throw new Error("Proportions should be greater than 0 and less than 1");var p=(u*a+l*f)/(a+f),h=o.sqrt(p*(1-p)*(1/a+1/f));return(u-l)/h}n.extend(n.fn,{oneSidedDifferenceOfProportions:function(a,l,f,p){var h=d(a,l,f,p);return n.ztest(h,1)},twoSidedDifferenceOfProportions:function(a,l,f,p){var h=d(a,l,f,p);return n.ztest(h,2)}})}(r,Math),r.models=function(){function n(d){var u=d[0].length,a=r.arange(u).map(function(l){var f=r.arange(u).filter(function(p){return p!==l});return o(r.col(d,l).map(function(p){return p[0]}),r.col(d,f))});return a}function o(d,u){var a=d.length,l=u[0].length-1,f=a-l-1,p=r.lstsq(u,d),h=r.multiply(u,p.map(function(k){return[k]})).map(function(k){return k[0]}),m=r.subtract(d,h),w=r.mean(d),y=r.sum(h.map(function(k){return Math.pow(k-w,2)})),v=r.sum(d.map(function(k,E){return Math.pow(k-h[E],2)})),g=y+v,b=y/g;return{exog:u,endog:d,nobs:a,df_model:l,df_resid:f,coef:p,predict:h,resid:m,ybar:w,SST:g,SSE:y,SSR:v,R2:b}}function i(d){var u=n(d.exog),a=Math.sqrt(d.SSR/d.df_resid),l=u.map(function(w){var y=w.SST,v=w.R2;return a/Math.sqrt(y*(1-v))}),f=d.coef.map(function(w,y){return(w-0)/l[y]}),p=f.map(function(w){var y=r.studentt.cdf(w,d.df_resid);return(y>.5?1-y:y)*2}),h=r.studentt.inv(.975,d.df_resid),m=d.coef.map(function(w,y){var v=h*l[y];return[w-v,w+v]});return{se:l,t:f,p,sigmaHat:a,interval95:m}}function s(d){var u=d.R2/d.df_model/((1-d.R2)/d.df_resid),a=function(f,p,h){return r.beta.cdf(f/(h/p+f),p/2,h/2)},l=1-a(u,d.df_model,d.df_resid);return{F_statistic:u,pvalue:l}}function c(d,u){var a=o(d,u),l=i(a),f=s(a),p=1-(1-a.R2)*((a.nobs-1)/a.df_resid);return a.t=l,a.f=f,a.adjust_R2=p,a}return{ols:c}}(),r.extend({buildxmatrix:function(){for(var o=new Array(arguments.length),i=0;i<arguments.length;i++){var s=[1];o[i]=s.concat(arguments[i])}return r(o)},builddxmatrix:function(){for(var o=new Array(arguments[0].length),i=0;i<arguments[0].length;i++){var s=[1];o[i]=s.concat(arguments[0][i])}return r(o)},buildjxmatrix:function(o){for(var i=new Array(o.length),s=0;s<o.length;s++)i[s]=o[s];return r.builddxmatrix(i)},buildymatrix:function(o){return r(o).transpose()},buildjymatrix:function(o){return o.transpose()},matrixmult:function(o,i){var s,c,d,u,a;if(o.cols()==i.rows()){if(i.rows()>1){for(u=[],s=0;s<o.rows();s++)for(u[s]=[],c=0;c<i.cols();c++){for(a=0,d=0;d<o.cols();d++)a+=o.toArray()[s][d]*i.toArray()[d][c];u[s][c]=a}return r(u)}for(u=[],s=0;s<o.rows();s++)for(u[s]=[],c=0;c<i.cols();c++){for(a=0,d=0;d<o.cols();d++)a+=o.toArray()[s][d]*i.toArray()[c];u[s][c]=a}return r(u)}},regress:function(o,i){var s=r.xtranspxinv(o),c=o.transpose(),d=r.matrixmult(r(s),c);return r.matrixmult(d,i)},regresst:function(o,i,s){var c=r.regress(o,i),d={};d.anova={};var u=r.jMatYBar(o,c);d.yBar=u;var a=i.mean();d.anova.residuals=r.residuals(i,u),d.anova.ssr=r.ssr(u,a),d.anova.msr=d.anova.ssr/(o[0].length-1),d.anova.sse=r.sse(i,u),d.anova.mse=d.anova.sse/(i.length-(o[0].length-1)-1),d.anova.sst=r.sst(i,a),d.anova.mst=d.anova.sst/(i.length-1),d.anova.r2=1-d.anova.sse/d.anova.sst,d.anova.r2<0&&(d.anova.r2=0),d.anova.fratio=d.anova.msr/d.anova.mse,d.anova.pvalue=r.anovaftest(d.anova.fratio,o[0].length-1,i.length-(o[0].length-1)-1),d.anova.rmse=Math.sqrt(d.anova.mse),d.anova.r2adj=1-d.anova.mse/d.anova.mst,d.anova.r2adj<0&&(d.anova.r2adj=0),d.stats=new Array(o[0].length);for(var l=r.xtranspxinv(o),f,p,h,m=0;m<c.length;m++)f=Math.sqrt(d.anova.mse*Math.abs(l[m][m])),p=Math.abs(c[m]/f),h=r.ttest(p,i.length-o[0].length-1,s),d.stats[m]=[c[m],f,p,h];return d.regress=c,d},xtranspx:function(o){return r.matrixmult(o.transpose(),o)},xtranspxinv:function(o){var i=r.matrixmult(o.transpose(),o),s=r.inv(i);return s},jMatYBar:function(o,i){var s=r.matrixmult(o,i);return new r(s)},residuals:function(o,i){return r.matrixsubtract(o,i)},ssr:function(o,i){for(var s=0,c=0;c<o.length;c++)s+=Math.pow(o[c]-i,2);return s},sse:function(o,i){for(var s=0,c=0;c<o.length;c++)s+=Math.pow(o[c]-i[c],2);return s},sst:function(o,i){for(var s=0,c=0;c<o.length;c++)s+=Math.pow(o[c]-i,2);return s},matrixsubtract:function(o,i){for(var s=new Array(o.length),c=0;c<o.length;c++){s[c]=new Array(o[c].length);for(var d=0;d<o[c].length;d++)s[c][d]=o[c][d]-i[c][d]}return r(s)}}),r.jStat=r,r})})($_);var Yo=$_.exports,Tg={exports:{}};Tg.exports;(function(e){(function(t,r,n){function o(d){var u=this,a=c();u.next=function(){var l=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=l-(u.c=l|0)},u.c=1,u.s0=a(" "),u.s1=a(" "),u.s2=a(" "),u.s0-=a(d),u.s0<0&&(u.s0+=1),u.s1-=a(d),u.s1<0&&(u.s1+=1),u.s2-=a(d),u.s2<0&&(u.s2+=1),a=null}function i(d,u){return u.c=d.c,u.s0=d.s0,u.s1=d.s1,u.s2=d.s2,u}function s(d,u){var a=new o(d),l=u&&u.state,f=a.next;return f.int32=function(){return a.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,l&&(typeof l=="object"&&i(l,a),f.state=function(){return i(a,{})}),f}function c(){var d=4022871197,u=function(a){a=String(a);for(var l=0;l<a.length;l++){d+=a.charCodeAt(l);var f=.02519603282416938*d;d=f>>>0,f-=d,f*=d,d=f>>>0,f-=d,d+=f*4294967296}return(d>>>0)*23283064365386963e-26};return u}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.alea=s})(Je,e,!1)})(Tg);var u2=Tg.exports,Pg={exports:{}};Pg.exports;(function(e){(function(t,r,n){function o(c){var d=this,u="";d.x=0,d.y=0,d.z=0,d.w=0,d.next=function(){var l=d.x^d.x<<11;return d.x=d.y,d.y=d.z,d.z=d.w,d.w^=d.w>>>19^l^l>>>8},c===(c|0)?d.x=c:u+=c;for(var a=0;a<u.length+64;a++)d.x^=u.charCodeAt(a)|0,d.next()}function i(c,d){return d.x=c.x,d.y=c.y,d.z=c.z,d.w=c.w,d}function s(c,d){var u=new o(c),a=d&&d.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},l.int32=u.next,l.quick=l,a&&(typeof a=="object"&&i(a,u),l.state=function(){return i(u,{})}),l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor128=s})(Je,e,!1)})(Pg);var c2=Pg.exports,Og={exports:{}};Og.exports;(function(e){(function(t,r,n){function o(c){var d=this,u="";d.next=function(){var l=d.x^d.x>>>2;return d.x=d.y,d.y=d.z,d.z=d.w,d.w=d.v,(d.d=d.d+362437|0)+(d.v=d.v^d.v<<4^(l^l<<1))|0},d.x=0,d.y=0,d.z=0,d.w=0,d.v=0,c===(c|0)?d.x=c:u+=c;for(var a=0;a<u.length+64;a++)d.x^=u.charCodeAt(a)|0,a==u.length&&(d.d=d.x<<10^d.x>>>4),d.next()}function i(c,d){return d.x=c.x,d.y=c.y,d.z=c.z,d.w=c.w,d.v=c.v,d.d=c.d,d}function s(c,d){var u=new o(c),a=d&&d.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},l.int32=u.next,l.quick=l,a&&(typeof a=="object"&&i(a,u),l.state=function(){return i(u,{})}),l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorwow=s})(Je,e,!1)})(Og);var d2=Og.exports,Ig={exports:{}};Ig.exports;(function(e){(function(t,r,n){function o(c){var d=this;d.next=function(){var a=d.x,l=d.i,f,p;return f=a[l],f^=f>>>7,p=f^f<<24,f=a[l+1&7],p^=f^f>>>10,f=a[l+3&7],p^=f^f>>>3,f=a[l+4&7],p^=f^f<<7,f=a[l+7&7],f=f^f<<13,p^=f^f<<9,a[l]=p,d.i=l+1&7,p};function u(a,l){var f,p=[];if(l===(l|0))p[0]=l;else for(l=""+l,f=0;f<l.length;++f)p[f&7]=p[f&7]<<15^l.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?p[7]=-1:p[f],a.x=p,a.i=0,f=256;f>0;--f)a.next()}u(d,c)}function i(c,d){return d.x=c.x.slice(),d.i=c.i,d}function s(c,d){c==null&&(c=+new Date);var u=new o(c),a=d&&d.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},l.int32=u.next,l.quick=l,a&&(a.x&&i(a,u),l.state=function(){return i(u,{})}),l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xorshift7=s})(Je,e,!1)})(Ig);var f2=Ig.exports,Rg={exports:{}};Rg.exports;(function(e){(function(t,r,n){function o(c){var d=this;d.next=function(){var a=d.w,l=d.X,f=d.i,p,h;return d.w=a=a+1640531527|0,h=l[f+34&127],p=l[f=f+1&127],h^=h<<13,p^=p<<17,h^=h>>>15,p^=p>>>12,h=l[f]=h^p,d.i=f,h+(a^a>>>16)|0};function u(a,l){var f,p,h,m,w,y=[],v=128;for(l===(l|0)?(p=l,l=null):(l=l+"\0",p=0,v=Math.max(v,l.length)),h=0,m=-32;m<v;++m)l&&(p^=l.charCodeAt((m+32)%l.length)),m===0&&(w=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,m>=0&&(w=w+1640531527|0,f=y[m&127]^=p+w,h=f==0?h+1:0);for(h>=128&&(y[(l&&l.length||0)&127]=-1),h=127,m=4*128;m>0;--m)p=y[h+34&127],f=y[h=h+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,y[h]=p^f;a.w=w,a.X=y,a.i=h}u(d,c)}function i(c,d){return d.i=c.i,d.w=c.w,d.X=c.X.slice(),d}function s(c,d){c==null&&(c=+new Date);var u=new o(c),a=d&&d.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},l.int32=u.next,l.quick=l,a&&(a.X&&i(a,u),l.state=function(){return i(u,{})}),l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.xor4096=s})(Je,e,!1)})(Rg);var p2=Rg.exports,Ng={exports:{}};Ng.exports;(function(e){(function(t,r,n){function o(c){var d=this,u="";d.next=function(){var l=d.b,f=d.c,p=d.d,h=d.a;return l=l<<25^l>>>7^f,f=f-p|0,p=p<<24^p>>>8^h,h=h-l|0,d.b=l=l<<20^l>>>12^f,d.c=f=f-p|0,d.d=p<<16^f>>>16^h,d.a=h-l|0},d.a=0,d.b=0,d.c=-1640531527,d.d=1367130551,c===Math.floor(c)?(d.a=c/4294967296|0,d.b=c|0):u+=c;for(var a=0;a<u.length+20;a++)d.b^=u.charCodeAt(a)|0,d.next()}function i(c,d){return d.a=c.a,d.b=c.b,d.c=c.c,d.d=c.d,d}function s(c,d){var u=new o(c),a=d&&d.state,l=function(){return(u.next()>>>0)/4294967296};return l.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,h=(f+p)/(1<<21);while(h===0);return h},l.int32=u.next,l.quick=l,a&&(typeof a=="object"&&i(a,u),l.state=function(){return i(u,{})}),l}r&&r.exports?r.exports=s:n&&n.amd?n(function(){return s}):this.tychei=s})(Je,e,!1)})(Ng);var h2=Ng.exports,z_={exports:{}};const m2={},g2=Object.freeze(Object.defineProperty({__proto__:null,default:m2},Symbol.toStringTag,{value:"Module"})),v2=Uw(g2);(function(e){(function(t,r,n){var o=256,i=6,s=52,c="random",d=n.pow(o,i),u=n.pow(2,s),a=u*2,l=o-1,f;function p(b,k,E){var C=[];k=k==!0?{entropy:!0}:k||{};var S=y(w(k.entropy?[b,g(r)]:b??v(),3),C),T=new h(C),P=function(){for(var L=T.g(i),M=d,F=0;L<u;)L=(L+F)*o,M*=o,F=T.g(1);for(;L>=a;)L/=2,M/=2,F>>>=1;return(L+F)/M};return P.int32=function(){return T.g(4)|0},P.quick=function(){return T.g(4)/4294967296},P.double=P,y(g(T.S),r),(k.pass||E||function(L,M,F,$){return $&&($.S&&m($,T),L.state=function(){return m(T,{})}),F?(n[c]=L,M):L})(P,S,"global"in k?k.global:this==n,k.state)}function h(b){var k,E=b.length,C=this,S=0,T=C.i=C.j=0,P=C.S=[];for(E||(b=[E++]);S<o;)P[S]=S++;for(S=0;S<o;S++)P[S]=P[T=l&T+b[S%E]+(k=P[S])],P[T]=k;(C.g=function(L){for(var M,F=0,$=C.i,z=C.j,q=C.S;L--;)M=q[$=l&$+1],F=F*o+q[l&(q[$]=q[z=l&z+M])+(q[z]=M)];return C.i=$,C.j=z,F})(o)}function m(b,k){return k.i=b.i,k.j=b.j,k.S=b.S.slice(),k}function w(b,k){var E=[],C=typeof b,S;if(k&&C=="object")for(S in b)try{E.push(w(b[S],k-1))}catch{}return E.length?E:C=="string"?b:b+"\0"}function y(b,k){for(var E=b+"",C,S=0;S<E.length;)k[l&S]=l&(C^=k[l&S]*19)+E.charCodeAt(S++);return g(k)}function v(){try{var b;return f&&(b=f.randomBytes)?b=b(o):(b=new Uint8Array(o),(t.crypto||t.msCrypto).getRandomValues(b)),g(b)}catch{var k=t.navigator,E=k&&k.plugins;return[+new Date,t,E,t.screen,g(r)]}}function g(b){return String.fromCharCode.apply(0,b)}if(y(n.random(),r),e.exports){e.exports=p;try{f=v2}catch{}}else n["seed"+c]=p})(typeof self<"u"?self:Je,[],Math)})(z_);var y2=z_.exports,w2=u2,b2=c2,_2=d2,k2=f2,x2=p2,C2=h2,da=y2;da.alea=w2;da.xor128=b2;da.xorwow=_2;da.xorshift7=k2;da.xor4096=x2;da.tychei=C2;var E2=da;const Ay=Yd(E2);function hs(e,t){const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),o=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((o-n)/864e5)}function dr(){const e=new Date;return e.setHours(0,0,0,0),e}function Ql(e,t){const r=new Date(e.getTime());return r.setDate(e.getDate()+t),r}function D2(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function S2(e){const t=new Date(e);return t.setHours(23,59,59,999),t}function Mg(e){return e.toLocaleDateString("en-GB")}function ms(e){return new Date(1e3*e).toISOString().substr(11,8)}function B_(e){return Math.floor(e.getTime()/1e3)}const Hc=["#ffa5a5","#ffe39f","#feffb6","#a7ffcc","#b0cdff"],In={paramLower:1,paramUpper:100,meanLower:.01,meanUpper:.99},Gi="{{renderer :ib}}",Lg=/[a-zA-Z0-9-_]+:: [^:]+/;function Fy(e,t){let r=((1-e)/t-1/e)*e*e,n=r*(1/e-1);return r=Math.max(1e-10,r),n=Math.max(1e-10,n),{a:r,b:n}}function T2(e,t){const r=Yo.jStat.beta.mean(e,t),n=Yo.jStat.beta.variance(e,t);return{mean:r,variance:n}}function P2(e){return Math.min(Math.max(e,In.paramLower),In.paramUpper)}class Yt{_a;_b;_mean;_variance;constructor(t,r){this._a=t,this._b=r,this.setMoments()}static fromProps(t){const r=parseFloat(t.ibA);if(!Yt.isValidParam(r))return null;const n=parseFloat(t.ibB);return Yt.isValidParam(n)?new this(r,n):null}static fromMoments(t,r){const{a:n,b:o}=Fy(t,r);return new this(n,o)}static fromMeanA(t,r){const n=r*(1/t-1);return new this(r,n)}static fromMeanB(t,r){const n=t*r/(1-t);return new this(n,r)}setMoments(){const{mean:t,variance:r}=T2(this._a,this._b);this._mean=t,this._variance=r}setParams(){const{a:t,b:r}=Fy(this._mean,this._variance);this._a=t,this._b=r}static isValidParam(t){return typeof t=="number"&&t>0}pdf(t){return Yo.jStat.beta.pdf(t,this._a,this._b)}sample({prefix:t="",seedToday:r=!1,seedDate:n}){return n?Yo.jStat.setRandom(Ay(t+n.getTime().toString())):r&&Yo.jStat.setRandom(Ay(t+dr().getTime().toString())),Yo.jStat.beta.sample(this._a,this._b)}static isValidSample(t){return typeof t=="number"&&t>=0&&t<=1}mode(){return Yo.jStat.beta.mode(this._a,this._b)}std(){return Math.sqrt(this._variance)}varianceUpperBound(){return this._mean*(1-this._mean)}correctForBounds(){if(this._a<In.paramLower||this._b<In.paramLower){const t=Math.min(this._a,this._b),r=In.paramLower-t;this._a==t?(this._a+=r,this._b=Yt.fromMeanA(this._mean,this._a).b):(this._b+=r,this._a=Yt.fromMeanB(this._mean,this._b).a),this.setMoments()}else if(this._a>In.paramUpper||this._b>In.paramUpper){const t=Math.max(this._a,this._b),r=t-In.paramUpper;this._a==t?(this._a-=r,this._b=Yt.fromMeanA(this._mean,this._a).b):(this._b-=r,this._a=Yt.fromMeanB(this._mean,this._b).a),this.setMoments()}}get a(){return this._a}set a(t){this._a=t,this.setMoments()}get b(){return this._b}set b(t){this._b=t,this.setMoments()}get mean(){return this._mean}set mean(t){this._mean=t;const r=this.varianceUpperBound();this._variance>=r&&(this._variance=r-1e-5),this.setParams(),this.correctForBounds()}get variance(){return this._variance}set variance(t){this._variance=t,this.setParams(),this.correctForBounds()}copy(){return new Yt(this._a,this._b)}applyPriorityUpdate(t){this._a=this._a+t.a,this._b=this._b+t.b,this.correctForBounds()}static boundParam(t){return P2(t)}}function O2(e){return e.replace(/-./g,t=>t[1].toUpperCase())}function H_(e){return e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}function $y(e){return e.reduce((t,r)=>t+r)/e.length}function I2(e,t){const r=e.length,n=Math.ceil((r-1)*t);if(n==0)return e[0];const o=e[n-1],i=e[n],s=parseInt(o.substring(1,3),16),c=parseInt(o.substring(3,5),16),d=parseInt(o.substring(5,7),16),u=parseInt(i.substring(1,3),16),a=parseInt(i.substring(3,5),16),l=parseInt(i.substring(5,7),16),f=Math.round(s+(u-s)*t),p=Math.round(c+(a-c)*t),h=Math.round(d+(l-d)*t);return"#"+((1<<24)+(f<<16)+(p<<8)+h).toString(16).slice(1)}function R2(e,t){const[r,n]=G.useState(e);return G.useEffect(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r}function N2(e){return e.reduce((t,r)=>(t.set(r,(t.get(r)||0)+1),t),new Map)}function zy(e){return e.charAt(0).toUpperCase()+e.slice(1)}async function Ag(){return(await logseq.App.getUserConfigs()).preferredThemeMode=="dark"}function M2(e,{addition:t,props:r}){const n=e.split(/\r?\n/);let o=1;for(let i=1;i<=n.length&&(o=i,!Lg.test(n[i]));i++);if(t&&n.splice(o,0,t),r)for(let i of Object.keys(r)){const s=H_(i);e.includes(`${s}::`)||n.push(`${s}:: ${r[i]}`)}return n.join(`
`)}function L2(e){let t=e.split(/\r?\n/);return t=t.filter(r=>!Lg.test(r)),t.join(`
`)}function A2(e){let t=e.split(/\r?\n/);return t=t.filter(r=>!(Lg.test(r)&&r.startsWith("ib-"))),t.join(`
`)}async function U_(e,t){const r={},n=await logseq.Editor.getBlock(e,{includeChildren:!0});if(!n)return r;function o(i,s){if(!(s>t||!i.children)){i.content&&(r[i.uuid]=i.content);for(let c of i.children)o(c,s+1)}}return o(n,1),r}function F2(){const e=logseq.settings?.subsetQueries;return e?e.split(",").filter(r=>!/^\s*$/.test(r)).map(r=>r.trim().toLowerCase()):[]}class wn{uuid;properties;block;beta;dueDate;sample;multiplier;interval;reps;constructor(t,r,n){this.uuid=t,this.properties=r,this.block=n??null,this.beta=Yt.fromProps(r);const o=new Date(parseFloat(r.ibDue));o instanceof Date&&!isNaN(o.getTime())?(o.setHours(0,0,0,0),this.dueDate=o):this.dueDate=null;const i=parseFloat(r.ibSample);Yt.isValidSample(i)?this.sample=i:this.beta?this.sample=this.sampleAt(dr()):this.sample=null;const s=parseFloat(r.ibMultiplier);typeof s=="number"&&s>=1?this.multiplier=s:this.multiplier=logseq.settings?.defaultMultiplier??2;const c=parseFloat(r.ibReps);typeof c=="number"&&c>=0&&Number.isInteger(c)?this.reps=c:this.reps=null;const d=parseFloat(r.ibInterval);typeof d=="number"&&d>=0?this.interval=d:this.interval=null}sampleAt(t){return this.beta?this.beta.sample({prefix:this.uuid,seedDate:t}):null}static async fromUuid(t,r={}){if(r.propsOnly??!0){const n=await logseq.Editor.getBlockProperties(t);return new this(t,n)}else{const n=await logseq.Editor.getBlock(t);return this.fromBlock(n)}}static fromBlock(t){return new this(t.uuid,t.properties??{},t)}static fromPage(t){return new this(t.uuid,t.properties??{})}copy(){return this.block?wn.fromBlock(this.block):new wn(this.uuid,this.properties)}dueDays(){if(!this.dueDate)return null;const t=dr();return hs(t,this.dueDate)}dueToday(){const t=this.dueDays();return t==null?!1:t<=0}async done(){if(!this.block)return;const t=A2(this.block.content).replace(Gi,"");for(let r of Object.keys(this.properties))r.startsWith("ib")&&logseq.Editor.removeBlockProperty(this.uuid,H_(r));await logseq.Editor.updateBlock(this.uuid,t)}get priorityOnly(){return this.dueDate==null||this.interval==null}}class fr{data;value;constructor(t){typeof t=="string"&&(t=t.split(" ")),this.data=t,this.value=this.data.join(" ")}prefix(t){return new fr(this.data.map(r=>`${t}:${r}`))}hover(){return this.prefix("hover")}dark(){return this.prefix("dark")}toString(){return this.value}}class pr{data;hoverData;hoveredData;constructor({data:t,hoverData:r}){this.data=t??new fr(""),this.hoverData=r,this.hoveredData=this.hoverData?.hover()}dark(){return new pr({data:this.data.dark(),hoverData:this.hoverData?.dark()})}toString(){return this.data.value}get hover(){return`${this.data.value} ${this.hoveredData?.value}`}}class fu{light;dark;base;value;hoverValue;constructor({light:t,dark:r,base:n=""}){this.light=t??new pr({}),this.dark=r.dark(),this.base=n,this.value=`${this.base} ${this.light} ${this.dark}`,this.hoverValue=`${this.base} ${this.light.hover} ${this.dark.hover}`}toString(){return this.value}get hover(){return this.hoverValue}}const W_=new fr("bg-gray-100"),Y_=new fr("bg-gray-700"),Ye=new fu({light:new pr({data:new fr("bg-white"),hoverData:W_}),dark:new pr({data:new fr("bg-slate-900"),hoverData:Y_})}),$2=new fu({light:new pr({data:W_}),dark:new pr({data:Y_})}),Re=new fu({dark:new pr({data:new fr("border-gray-600")}),base:"border"}),Fg=new fu({light:new pr({data:new fr("text-gray-800")}),dark:new pr({data:new fr("text-gray-200")})}),Kl=new fu({light:new pr({data:new fr("text-gray-600")}),dark:new pr({data:new fr("text-gray-400")})});var Oe=class Zh{static initParams(t,r){return[t.replace(/\s+/g,"").toLowerCase(),r.replace(/\s+/g,"").toLowerCase()]}static checkThanosType(t){if(typeof t!="string")throw new Error("first argument should be a string")}static checkRivalType(t){if(typeof t!="string")throw new Error("second argument should be a string")}static checkAvengersType(t){if(!Array.isArray(t))throw new Error("second argument should be an array of strings");if(t.find(r=>typeof r!="string"))throw new Error("second argument should be an array of strings")}sortMatch(t,r){return Zh.checkThanosType(t),Zh.checkAvengersType(r),r.map((n,o)=>({member:n,index:o,rating:this.similarity(t,n)})).sort((n,o)=>n.rating-o.rating)}},z2=class extends Oe{similarity(t,r){Oe.checkThanosType(t),Oe.checkRivalType(r);let[n,o]=Oe.initParams(t,r);if(!n.length&&!o.length)return 1;if(!n.length||!o.length)return 0;if(n===o)return 1;let i=Array.from(new Set(n.split("").concat(o.split("")))),s=this.stringVectorization(n.split(""),i),c=this.stringVectorization(o.split(""),i),[d,u,a]=[0,0,0];for(let l=0;l<s.length;++l)d+=s[l]*c[l],u+=s[l]*s[l],a+=c[l]*c[l];return u=Math.sqrt(u),a=Math.sqrt(a),Number(d)/(u*a)}distance(t,r){return 1-this.similarity(t,r)}stringVectorization(t,r){return r.map(n=>t.includes(n)?1:0)}},B2=class extends Oe{similarity(e,t){Oe.checkThanosType(e),Oe.checkRivalType(t);let[r,n]=Oe.initParams(e,t),[o,i]=[r.length,n.length];if(!r.length&&!n.length||r===n)return 1;if(o<2||i<2)return 0;let s=new Map;for(let d=0;d<o-1;d++){let u=r.slice(d,d+2),a=s.has(u)?s.get(u)+1:1;s.set(u,a)}let c=0;for(let d=0;d<i-1;d++){let u=n.slice(d,d+2),a=s.has(u)?s.get(u):0;a>0&&(s.set(u,a-1),++c)}return 2*c/(o+i-2)}distance(e,t){return 1-this.similarity(e,t)}},H2=class extends Oe{similarity(e,t){Oe.checkThanosType(e),Oe.checkRivalType(t);let[r,n]=Oe.initParams(e,t);if(!r.length&&!n.length||r===n)return 1;let o=new Set(r.split("").concat(n.split(""))),i=new Set(r.split("").filter(s=>new Set(n).has(s)));return Number(i.size)/o.size}distance(e,t){return 1-this.similarity(e,t)}},U2=class extends Oe{similarity(e,t){Oe.checkThanosType(e),Oe.checkRivalType(t);let[r,n]=Oe.initParams(e,t);return!r.length&&!n.length?1:1-Number(this.distance(r,n))/Math.max(r.length,n.length)}distance(e,t){Oe.checkThanosType(e),Oe.checkRivalType(t);let[r,n]=Oe.initParams(e,t);if(r===n)return 0;let[o,i]=[r.length,n.length];if(!o)return i;if(!i)return o;let s=[...Array(o+1)].map(()=>Array(i+1).fill(0));for(let d=0;d<=o;++d)s[d][0]=d;for(let d=0;d<=i;++d)s[0][d]=d;let c;for(let d=1;d<=o;++d)for(let u=1;u<=i;++u)c=r[d-1]===n[u-1]?0:1,s[d][u]=Math.min(s[d-1][u]+1,s[d][u-1]+1,s[d-1][u-1]+c);return s[o][i]}},W2=class Jh extends Oe{static lcsLength(t,r){Oe.checkThanosType(t),Oe.checkRivalType(r);let[n,o]=Oe.initParams(t,r),[i,s]=[n.length,o.length],c=[...Array(i+1)].map(()=>Array(s+1).fill(0));for(let d=1;d<=i;++d)for(let u=1;u<=s;++u)c[d][u]=n[d-1]===o[u-1]?c[d-1][u-1]+1:Math.max(c[d][u-1],c[d-1][u]);return c[i][s]}similarity(t,r){Oe.checkThanosType(t),Oe.checkRivalType(r);let[n,o]=Oe.initParams(t,r);return!n.length&&!o.length||n===o?1:2*Jh.lcsLength(n,o)/(n.length+o.length)}distance(t,r){let[n,o]=Oe.initParams(t,r);return n.length+o.length-2*Jh.lcsLength(n,o)}},Y2=class q_ extends Oe{static lcsLength(t,r){Oe.checkThanosType(t),Oe.checkRivalType(r);let[n,o]=[t.length,r.length],i=[...Array(n+1)].map(()=>Array(o+1).fill(0));for(let s=1;s<=n;++s)for(let c=1;c<=o;++c)i[s][c]=t[s-1]===r[c-1]?i[s-1][c-1]+1:Math.max(i[s][c-1],i[s-1][c]);return i[n][o]}similarity(t,r){Oe.checkThanosType(t),Oe.checkRivalType(r);let[n,o]=Oe.initParams(t,r);return!n.length&&!o.length||n===o?1:Number(q_.lcsLength(n,o))/Math.max(n.length,o.length)}distance(t,r){Oe.checkThanosType(t),Oe.checkRivalType(r);let[n,o]=Oe.initParams(t,r);return n===o?0:1-this.similarity(n,o)}},q2=class extends Oe{distance(e,t){Oe.checkThanosType(e),Oe.checkRivalType(t);let[r,n]=Oe.initParams(e,t);if(!r.length&&!n.length)return 1;if(!r.length||!n.length)return 0;if(r===n||r===n)return 1;let o=r.length,i=n.length;if(o===0||i===0)return 0;let s=Math.floor(Math.max(o,i)/2)-1,c=0,d=new Array(r.length).fill(0),u=new Array(n.length).fill(0);for(let f=0;f<o;f++)for(let p=Math.max(0,f-s);p<Math.min(i,f+s+1);p++)if(r[f]===n[p]&&u[p]===0){d[f]=1,u[p]=1,c++;break}if(c===0)return 0;let a=0,l=0;for(let f=0;f<o;f++)if(d[f]===1){for(;u[l]===0;)l++;r[f]!==n[l++]&&a++}return a/=2,(c/o+c/i+(c-a)/c)/3}similarity(e,t){let r=this.distance(e,t);if(r>.7){let n=0;for(let o=0;o<Math.min(e.length,t.length)&&e[o]===t[o];o++)n++;n=Math.min(4,n),r+=.1*n*(1-r)}return r}},V2=new z2,Q2=new B2,K2=new H2,G2=new U2,V_=new W2,j2=V_,Q_=new Y2,X2=Q_,Z2=new q2,J2={cosine:V2,diceCoefficient:Q2,jaccardIndex:K2,levenshtein:G2,lcs:V_,longestCommonSubsequence:j2,mlcs:Q_,metricLcs:X2,jaroWinkler:Z2},eR=J2;function K_(e,t={}){e=Math.min(Math.max(e,In.meanLower),In.meanUpper);let r;if(t.currentBeta)r=t.currentBeta.copy(),r.mean=e;else{let n,o;e==.5?(n=1,o=1):e>.5?(o=In.paramLower,n=e*o/(1-e)):(n=In.paramLower,o=n*(1-e)/e),r=new Yt(n,o)}return r}function By(e,t,r,n){return i=>(e+n)/(1+Math.exp(-r*(i-t)))-n}function tR(e){const r=(new Date().getTime()-e.start.getTime())/1e3,n=By(1,30,-.1,.2)(r),o=new Set([...Object.keys(e.contents),...Object.keys(e.newContents)]);let i=0;for(let c of o){const d=eR.levenshtein.distance(e.contents[c]??"",e.newContents[c]??"");i+=d}const s=By(1,50,.1,0)(i);return{scoreTime:r,bTime:n,b:n,scoreContent:i,aContent:s,a:s}}function _l(e){const t=(1-e)*25;return Yo.jStat.poisson.sample(t)+1}function G_(e){return Math.ceil(e.interval*e.multiplier)}var j_={exports:{}},X_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=G;function nR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rR=typeof Object.is=="function"?Object.is:nR,oR=pu.useSyncExternalStore,iR=pu.useRef,aR=pu.useEffect,sR=pu.useMemo,lR=pu.useDebugValue;X_.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var i=iR(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=sR(function(){function d(p){if(!u){if(u=!0,a=p,p=n(p),o!==void 0&&s.hasValue){var h=s.value;if(o(h,p))return l=h}return l=p}if(h=l,rR(a,p))return h;var m=n(p);return o!==void 0&&o(h,m)?h:(a=p,l=m)}var u=!1,a,l,f=r===void 0?null:r;return[function(){return d(t())},f===null?void 0:function(){return d(f())}]},[t,r,n,o]);var c=oR(e,i[0],i[1]);return aR(function(){s.hasValue=!0,s.value=c},[c]),lR(c),c};j_.exports=X_;var uR=j_.exports,Un="default"in Gp?O:Gp,Hy=Symbol.for("react-redux-context"),Uy=typeof globalThis<"u"?globalThis:{};function cR(){if(!Un.createContext)return{};const e=Uy[Hy]??(Uy[Hy]=new Map);let t=e.get(Un.createContext);return t||(t=Un.createContext(null),e.set(Un.createContext,t)),t}var di=cR(),dR=()=>{throw new Error("uSES not initialized!")};function $g(e=di){return function(){return Un.useContext(e)}}var Z_=$g(),J_=dR,fR=e=>{J_=e},pR=(e,t)=>e===t;function hR(e=di){const t=e===di?Z_:$g(e),r=(n,o={})=>{const{equalityFn:i=pR,devModeChecks:s={}}=typeof o=="function"?{equalityFn:o}:o,{store:c,subscription:d,getServerState:u,stabilityCheck:a,identityFunctionCheck:l}=t();Un.useRef(!0);const f=Un.useCallback({[n.name](h){return n(h)}}[n.name],[n,a,s.stabilityCheck]),p=J_(d.addNestedSub,c.getState,u||c.getState,f,i);return Un.useDebugValue(p),p};return Object.assign(r,{withTypes:()=>r}),r}var mR=hR();function gR(e){e()}function vR(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gR(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Wy={notify(){},get:()=>[]};function yR(e,t){let r,n=Wy,o=0,i=!1;function s(m){a();const w=n.subscribe(m);let y=!1;return()=>{y||(y=!0,w(),l())}}function c(){n.notify()}function d(){h.onStateChange&&h.onStateChange()}function u(){return i}function a(){o++,r||(r=t?t.addNestedSub(d):e.subscribe(d),n=vR())}function l(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=Wy)}function f(){i||(i=!0,a())}function p(){i&&(i=!1,l())}const h={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return h}var wR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bR=typeof navigator<"u"&&navigator.product==="ReactNative",_R=wR||bR?Un.useLayoutEffect:Un.useEffect;function kR({store:e,context:t,children:r,serverState:n,stabilityCheck:o="once",identityFunctionCheck:i="once"}){const s=Un.useMemo(()=>{const u=yR(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:o,identityFunctionCheck:i}},[e,n,o,i]),c=Un.useMemo(()=>e.getState(),[e]);_R(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,c]);const d=t||di;return Un.createElement(d.Provider,{value:s},r)}var xR=kR;function ek(e=di){const t=e===di?Z_:$g(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var CR=ek();function ER(e=di){const t=e===di?CR:ek(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var DR=ER();fR(uR.useSyncExternalStoreWithSelector);const Gt=DR.withTypes(),Ae=mR.withTypes();function Id({beta:e,width:t,height:r,isNew:n=!1}){const o=O.useRef(null),i=Ae(s=>s.app.themeMode);return O.useEffect(()=>{const s=o.current?.getContext("2d");if(!s)return;s.clearRect(0,0,s.canvas.width,s.canvas.height);const c=r,d=t,u=3;if(logseq.settings?.priorityRainbow??!1){s.lineWidth=1,s.strokeStyle="#00000044";const p=s.createLinearGradient(d,c/2+u,0,c/2+u);for(let h=0;h<Hc.length;h++)p.addColorStop(h/(Hc.length-1),Hc[h]);s.fillStyle=p}else{const p=s.createLinearGradient(d/2,u,d/2,c);p.addColorStop(0,"#4682B4"),p.addColorStop(1,"rgba(256, 256, 256, 0.98)"),s.strokeStyle=p;const h=s.createLinearGradient(d/2,u,d/2,c);i=="light"?(s.lineWidth=3,h.addColorStop(0,"#F2F2F2"),h.addColorStop(.3,"#F2F2F2"),h.addColorStop(1,"rgba(256, 256, 256, 0.9)")):(s.lineWidth=2,h.addColorStop(0,"#4682B4"),h.addColorStop(1,"rgba(0, 0, 0, 0.9)")),s.fillStyle=h}s.beginPath(),s.moveTo(0,c);const a=100,l=[0,...[...Array(a-1).keys()].map(p=>e.pdf((p+1)/a))],f=Math.max(...l);for(let p=0;p<a;p++){const h=p/a,m=l[p];s.lineTo(h*d,c-c*(m/f)+u)}s.lineTo(d,c),s.lineTo(0,c),s.closePath(),s.stroke(),s.fill()},[e,i]),N("canvas",{ref:o,width:t,height:r})}function zg({beta:e,onMeanChange:t,onVarianceChange:r=()=>{},varianceSlider:n=!1}){const[o,i]=O.useState(e.mean),[s,c]=O.useState(e.variance),d=1e4;return O.useEffect(()=>{i(e.mean),c(e.variance)},[e]),Z("div",{children:[Z("div",{className:"flex items-center",children:[N("input",{className:"w-full priority-slider",type:"range",min:In.meanLower*d,max:In.meanUpper*d,step:"1",value:o*d,onChange:u=>i(parseFloat(u.target.value)/d),onMouseUp:()=>t(o)}),Z("p",{className:"w-14",children:[(o*100).toFixed(2),"%"]})]}),n&&Z("div",{className:"flex items-center",children:[N("input",{className:"w-full priority-slider",type:"range",min:1e-4*d,max:e.varianceUpperBound()*d,step:"1",value:s*d,onChange:u=>c(parseFloat(u.target.value)/d),onMouseUp:()=>r(s)}),Z("p",{className:"w-14",children:[(s*100).toFixed(2),"%"]})]})]})}function Zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SR=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Yy=SR,$p=()=>Math.random().toString(36).substring(7).split("").join("."),TR={INIT:`@@redux/INIT${$p()}`,REPLACE:`@@redux/REPLACE${$p()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$p()}`},Rd=TR;function Bg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tk(e,t,r){if(typeof e!="function")throw new Error(Zt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Zt(1));return r(tk)(e,t)}let n=e,o=t,i=new Map,s=i,c=0,d=!1;function u(){s===i&&(s=new Map,i.forEach((w,y)=>{s.set(y,w)}))}function a(){if(d)throw new Error(Zt(3));return o}function l(w){if(typeof w!="function")throw new Error(Zt(4));if(d)throw new Error(Zt(5));let y=!0;u();const v=c++;return s.set(v,w),function(){if(y){if(d)throw new Error(Zt(6));y=!1,u(),s.delete(v),i=null}}}function f(w){if(!Bg(w))throw new Error(Zt(7));if(typeof w.type>"u")throw new Error(Zt(8));if(typeof w.type!="string")throw new Error(Zt(17));if(d)throw new Error(Zt(9));try{d=!0,o=n(o,w)}finally{d=!1}return(i=s).forEach(v=>{v()}),w}function p(w){if(typeof w!="function")throw new Error(Zt(10));n=w,f({type:Rd.REPLACE})}function h(){const w=l;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Zt(11));function v(){const b=y;b.next&&b.next(a())}return v(),{unsubscribe:w(v)}},[Yy](){return this}}}return f({type:Rd.INIT}),{dispatch:f,subscribe:l,getState:a,replaceReducer:p,[Yy]:h}}function PR(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Rd.INIT})>"u")throw new Error(Zt(12));if(typeof r(void 0,{type:Rd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function OR(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let o;try{PR(r)}catch(i){o=i}return function(s={},c){if(o)throw o;let d=!1;const u={};for(let a=0;a<n.length;a++){const l=n[a],f=r[l],p=s[l],h=f(p,c);if(typeof h>"u")throw c&&c.type,new Error(Zt(14));u[l]=h,d=d||h!==p}return d=d||n.length!==Object.keys(s).length,d?u:s}}function Nd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function IR(...e){return t=>(r,n)=>{const o=t(r,n);let i=()=>{throw new Error(Zt(15))};const s={getState:o.getState,dispatch:(d,...u)=>i(d,...u)},c=e.map(d=>d(s));return i=Nd(...c)(o.dispatch),{...o,dispatch:i}}}function nk(e){return Bg(e)&&"type"in e&&typeof e.type=="string"}var rk=Symbol.for("immer-nothing"),qy=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function Sr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var gs=Object.getPrototypeOf;function aa(e){return!!e&&!!e[Kn]}function Co(e){return e?ok(e)||Array.isArray(e)||!!e[qy]||!!e.constructor?.[qy]||vf(e)||yf(e):!1}var RR=Object.prototype.constructor.toString();function ok(e){if(!e||typeof e!="object")return!1;const t=gs(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===RR}function Md(e,t){gf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function gf(e){const t=e[Kn];return t?t.type_:Array.isArray(e)?1:vf(e)?2:yf(e)?3:0}function em(e,t){return gf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ik(e,t,r){const n=gf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function NR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vf(e){return e instanceof Map}function yf(e){return e instanceof Set}function Fi(e){return e.copy_||e.base_}function tm(e,t){if(vf(e))return new Map(e);if(yf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ok(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Kn];let o=Reflect.ownKeys(n);for(let i=0;i<o.length;i++){const s=o[i],c=n[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[s]})}return Object.create(gs(e),n)}else{const n=gs(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function Hg(e,t=!1){return wf(e)||aa(e)||!Co(e)||(gf(e)>1&&(e.set=e.add=e.clear=e.delete=MR),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Hg(n,!0))),e}function MR(){Sr(2)}function wf(e){return Object.isFrozen(e)}var LR={};function sa(e){const t=LR[e];return t||Sr(0,e),t}var Gl;function ak(){return Gl}function AR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Vy(e,t){t&&(sa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nm(e){rm(e),e.drafts_.forEach(FR),e.drafts_=null}function rm(e){e===Gl&&(Gl=e.parent_)}function Qy(e){return Gl=AR(Gl,e)}function FR(e){const t=e[Kn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ky(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Kn].modified_&&(nm(t),Sr(4)),Co(e)&&(e=Ld(t,e),t.parent_||Ad(t,e)),t.patches_&&sa("Patches").generateReplacementPatches_(r[Kn].base_,e,t.patches_,t.inversePatches_)):e=Ld(t,r,[]),nm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rk?e:void 0}function Ld(e,t,r){if(wf(t))return t;const n=t[Kn];if(!n)return Md(t,(o,i)=>Gy(e,n,t,o,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ad(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let i=o,s=!1;n.type_===3&&(i=new Set(o),o.clear(),s=!0),Md(i,(c,d)=>Gy(e,n,o,c,d,r,s)),Ad(e,o,!1),r&&e.patches_&&sa("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Gy(e,t,r,n,o,i,s){if(aa(o)){const c=i&&t&&t.type_!==3&&!em(t.assigned_,n)?i.concat(n):void 0,d=Ld(e,o,c);if(ik(r,n,d),aa(d))e.canAutoFreeze_=!1;else return}else s&&r.add(o);if(Co(o)&&!wf(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ld(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ad(e,o)}}function Ad(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hg(t,r)}function $R(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ak(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,i=Ug;r&&(o=[n],i=jl);const{revoke:s,proxy:c}=Proxy.revocable(o,i);return n.draft_=c,n.revoke_=s,c}var Ug={get(e,t){if(t===Kn)return e;const r=Fi(e);if(!em(r,t))return zR(e,r,t);const n=r[t];return e.finalized_||!Co(n)?n:n===zp(e.base_,t)?(Bp(e),e.copy_[t]=im(n,e)):n},has(e,t){return t in Fi(e)},ownKeys(e){return Reflect.ownKeys(Fi(e))},set(e,t,r){const n=sk(Fi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=zp(Fi(e),t),i=o?.[Kn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(NR(r,o)&&(r!==void 0||em(e.base_,t)))return!0;Bp(e),om(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bp(e),om(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Sr(11)},getPrototypeOf(e){return gs(e.base_)},setPrototypeOf(){Sr(12)}},jl={};Md(Ug,(e,t)=>{jl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jl.deleteProperty=function(e,t){return jl.set.call(this,e,t,void 0)};jl.set=function(e,t,r){return Ug.set.call(this,e[0],t,r,e[0])};function zp(e,t){const r=e[Kn];return(r?Fi(r):e)[t]}function zR(e,t,r){const n=sk(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function sk(e,t){if(!(t in e))return;let r=gs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=gs(r)}}function om(e){e.modified_||(e.modified_=!0,e.parent_&&om(e.parent_))}function Bp(e){e.copy_||(e.copy_=tm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var BR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(d=i,...u){return s.produce(d,a=>r.call(this,a,...u))}}typeof r!="function"&&Sr(6),n!==void 0&&typeof n!="function"&&Sr(7);let o;if(Co(t)){const i=Qy(this),s=im(t,void 0);let c=!0;try{o=r(s),c=!1}finally{c?nm(i):rm(i)}return Vy(i,n),Ky(o,i)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===rk&&(o=void 0),this.autoFreeze_&&Hg(o,!0),n){const i=[],s=[];sa("Patches").generateReplacementPatches_(t,o,i,s),n(i,s)}return o}else Sr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let n,o;return[this.produce(t,r,(s,c)=>{n=s,o=c}),n,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Co(e)||Sr(8),aa(e)&&(e=HR(e));const t=Qy(this),r=im(e,void 0);return r[Kn].isManual_=!0,rm(t),r}finishDraft(e,t){const r=e&&e[Kn];(!r||!r.isManual_)&&Sr(9);const{scope_:n}=r;return Vy(n,t),Ky(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=sa("Patches").applyPatches_;return aa(e)?n(e,t):this.produce(e,o=>n(o,t))}};function im(e,t){const r=vf(e)?sa("MapSet").proxyMap_(e,t):yf(e)?sa("MapSet").proxySet_(e,t):$R(e,t);return(t?t.scope_:ak()).drafts_.push(r),r}function HR(e){return aa(e)||Sr(10,e),lk(e)}function lk(e){if(!Co(e)||wf(e))return e;const t=e[Kn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tm(e,t.scope_.immer_.useStrictShallowCopy_)}else r=tm(e,!0);return Md(r,(n,o)=>{ik(r,n,lk(o))}),t&&(t.finalized_=!1),r}var Gn=new BR,uk=Gn.produce;Gn.produceWithPatches.bind(Gn);Gn.setAutoFreeze.bind(Gn);Gn.setUseStrictShallowCopy.bind(Gn);Gn.applyPatches.bind(Gn);Gn.createDraft.bind(Gn);Gn.finishDraft.bind(Gn);function UR(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function WR(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function YR(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var jy=e=>Array.isArray(e)?e:[e];function qR(e){const t=Array.isArray(e[0])?e[0]:e;return YR(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function VR(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}var QR=class{constructor(e){this.value=e}deref(){return this.value}},KR=typeof WeakRef<"u"?WeakRef:QR,GR=0,Xy=1;function vc(){return{s:GR,v:void 0,o:null,p:null}}function ck(e,t={}){let r=vc();const{resultEqualityCheck:n}=t;let o,i=0;function s(){let c=r;const{length:d}=arguments;for(let l=0,f=d;l<f;l++){const p=arguments[l];if(typeof p=="function"||typeof p=="object"&&p!==null){let h=c.o;h===null&&(c.o=h=new WeakMap);const m=h.get(p);m===void 0?(c=vc(),h.set(p,c)):c=m}else{let h=c.p;h===null&&(c.p=h=new Map);const m=h.get(p);m===void 0?(c=vc(),h.set(p,c)):c=m}}const u=c;let a;if(c.s===Xy)a=c.v;else if(a=e.apply(null,arguments),i++,n){const l=o?.deref?.()??o;l!=null&&n(l,a)&&(a=l,i!==0&&i--),o=typeof a=="object"&&a!==null||typeof a=="function"?new KR(a):a}return u.s=Xy,u.v=a,a}return s.clearCache=()=>{r=vc(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function jR(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let i=0,s=0,c,d={},u=o.pop();typeof u=="object"&&(d=u,u=o.pop()),UR(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const a={...r,...d},{memoize:l,memoizeOptions:f=[],argsMemoize:p=ck,argsMemoizeOptions:h=[],devModeChecks:m={}}=a,w=jy(f),y=jy(h),v=qR(o),g=l(function(){return i++,u.apply(null,arguments)},...w),b=p(function(){s++;const E=VR(v,arguments);return c=g.apply(null,E),c},...y);return Object.assign(b,{resultFunc:u,memoizedResultFunc:g,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:l,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Wg=jR(ck),XR=Object.assign((e,t=Wg)=>{WR(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,c,d)=>(s[r[d]]=c,s),{}))},{withTypes:()=>XR});function dk(e){return({dispatch:r,getState:n})=>o=>i=>typeof i=="function"?i(r,n,e):o(i)}var ZR=dk(),JR=dk,eN=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nd:Nd.apply(null,arguments)},tN=e=>e&&typeof e.match=="function";function yo(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(kn(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>nk(n)&&n.type===e,r}function Zy(e,t){for(const r of e)if(t(r))return r}var fk=class al extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,al.prototype)}static get[Symbol.species](){return al}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new al(...t[0].concat(this)):new al(...t.concat(this))}};function Jy(e){return Co(e)?uk(e,()=>{}):e}function ew(e,t,r){if(e.has(t)){let o=e.get(t);return r.update&&(o=r.update(o,t,e),e.set(t,o)),o}if(!r.insert)throw new Error(kn(10));const n=r.insert(t,e);return e.set(t,n),n}function nN(e){return typeof e=="boolean"}var rN=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let s=new fk;return r&&(nN(r)?s.push(ZR):s.push(JR(r.extraArgument))),s},oN="RTK_autoBatch",pk=e=>t=>{setTimeout(t,e)},iN=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pk(10),aN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,i=!1,s=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?iN:e.type==="callback"?e.queueNotification:pk(e.timeout),u=()=>{s=!1,i&&(i=!1,c.forEach(a=>a()))};return Object.assign({},n,{subscribe(a){const l=()=>o&&a(),f=n.subscribe(l);return c.add(a),()=>{f(),c.delete(a)}},dispatch(a){try{return o=!a?.meta?.[oN],i=!o,i&&(s||(s=!0,d(u))),n.dispatch(a)}finally{o=!0}}})},sN=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new fk(e);return n&&o.push(aN(typeof n=="object"?n:void 0)),o};function lN(e){const t=rN(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Bg(r))c=OR(r);else throw new Error(kn(1));let d;typeof n=="function"?d=n(t):d=t();let u=Nd;o&&(u=eN({trace:!1,...typeof o=="object"&&o}));const a=IR(...d),l=sN(a);let f=typeof s=="function"?s(l):l();const p=u(...f);return tk(c,i,p)}function hk(e){const t={},r=[];let n;const o={addCase(i,s){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(kn(28));if(c in t)throw new Error(kn(29));return t[c]=s,o},addMatcher(i,s){return r.push({matcher:i,reducer:s}),o},addDefaultCase(i){return n=i,o}};return e(o),[t,r,n]}function uN(e){return typeof e=="function"}function cN(e,t){let[r,n,o]=hk(t),i;if(uN(e))i=()=>Jy(e());else{const c=Jy(e);i=()=>c}function s(c=i(),d){let u=[r[d.type],...n.filter(({matcher:a})=>a(d)).map(({reducer:a})=>a)];return u.filter(a=>!!a).length===0&&(u=[o]),u.reduce((a,l)=>{if(l)if(aa(a)){const p=l(a,d);return p===void 0?a:p}else{if(Co(a))return uk(a,f=>l(f,d));{const f=l(a,d);if(f===void 0){if(a===null)return a;throw new Error(kn(9))}return f}}return a},c)}return s.getInitialState=i,s}var dN=(e,t)=>tN(e)?e.match(t):e(t);function fN(...e){return t=>e.some(r=>dN(r,t))}var pN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mk=(e=21)=>{let t="",r=e;for(;r--;)t+=pN[Math.random()*64|0];return t},hN=["name","message","stack","code"],Hp=class{constructor(e,t){this.payload=e,this.meta=t}_type},tw=class{constructor(e,t){this.payload=e,this.meta=t}_type},mN=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of hN)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},fa=(()=>{function e(t,r,n){const o=yo(t+"/fulfilled",(d,u,a,l)=>({payload:d,meta:{...l||{},arg:a,requestId:u,requestStatus:"fulfilled"}})),i=yo(t+"/pending",(d,u,a)=>({payload:void 0,meta:{...a||{},arg:u,requestId:d,requestStatus:"pending"}})),s=yo(t+"/rejected",(d,u,a,l,f)=>({payload:l,error:(n&&n.serializeError||mN)(d||"Rejected"),meta:{...f||{},arg:a,requestId:u,rejectedWithValue:!!l,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d){return(u,a,l)=>{const f=n?.idGenerator?n.idGenerator(d):mk(),p=new AbortController;let h,m;function w(v){m=v,p.abort()}const y=async function(){let v;try{let b=n?.condition?.(d,{getState:a,extra:l});if(vN(b)&&(b=await b),b===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((E,C)=>{h=()=>{C({name:"AbortError",message:m||"Aborted"})},p.signal.addEventListener("abort",h)});u(i(f,d,n?.getPendingMeta?.({requestId:f,arg:d},{getState:a,extra:l}))),v=await Promise.race([k,Promise.resolve(r(d,{dispatch:u,getState:a,extra:l,requestId:f,signal:p.signal,abort:w,rejectWithValue:(E,C)=>new Hp(E,C),fulfillWithValue:(E,C)=>new tw(E,C)})).then(E=>{if(E instanceof Hp)throw E;return E instanceof tw?o(E.payload,f,d,E.meta):o(E,f,d)})])}catch(b){v=b instanceof Hp?s(null,f,d,b.payload,b.meta):s(b,f,d)}finally{h&&p.signal.removeEventListener("abort",h)}return n&&!n.dispatchConditionRejection&&s.match(v)&&v.meta.condition||u(v),v}();return Object.assign(y,{abort:w,requestId:f,arg:d,unwrap(){return y.then(gN)}})}}return Object.assign(c,{pending:i,rejected:s,fulfilled:o,settled:fN(s,o),typePrefix:t})}return e.withTypes=()=>e,e})();function gN(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function vN(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var yN=Symbol.for("rtk-slice-createasyncthunk");function wN(e,t){return`${e}/${t}`}function bN({creators:e}={}){const t=e?.asyncThunk?.[yN];return function(n){const{name:o,reducerPath:i=o}=n;if(!o)throw new Error(kn(11));typeof process<"u";const s=(typeof n.reducers=="function"?n.reducers(kN()):n.reducers)||{},c=Object.keys(s),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(v,g){const b=typeof v=="string"?v:v.type;if(!b)throw new Error(kn(12));if(b in d.sliceCaseReducersByType)throw new Error(kn(13));return d.sliceCaseReducersByType[b]=g,u},addMatcher(v,g){return d.sliceMatchers.push({matcher:v,reducer:g}),u},exposeAction(v,g){return d.actionCreators[v]=g,u},exposeCaseReducer(v,g){return d.sliceCaseReducersByName[v]=g,u}};c.forEach(v=>{const g=s[v],b={reducerName:v,type:wN(o,v),createNotation:typeof n.reducers=="function"};CN(g)?DN(b,g,u,t):xN(b,g,u)});function a(){const[v={},g=[],b=void 0]=typeof n.extraReducers=="function"?hk(n.extraReducers):[n.extraReducers],k={...v,...d.sliceCaseReducersByType};return cN(n.initialState,E=>{for(let C in k)E.addCase(C,k[C]);for(let C of d.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of g)E.addMatcher(C.matcher,C.reducer);b&&E.addDefaultCase(b)})}const l=v=>v,f=new Map;let p;function h(v,g){return p||(p=a()),p(v,g)}function m(){return p||(p=a()),p.getInitialState()}function w(v,g=!1){function b(E){let C=E[v];return typeof C>"u"&&g&&(C=m()),C}function k(E=l){const C=ew(f,g,{insert:()=>new WeakMap});return ew(C,E,{insert:()=>{const S={};for(const[T,P]of Object.entries(n.selectors??{}))S[T]=_N(P,E,m,g);return S}})}return{reducerPath:v,getSelectors:k,get selectors(){return k(b)},selectSlice:b}}const y={name:o,reducer:h,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:m,...w(i),injectInto(v,{reducerPath:g,...b}={}){const k=g??i;return v.inject({reducerPath:k,reducer:h},b),{...y,...w(k,!0)}}};return y}}function _N(e,t,r,n){function o(i,...s){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...s)}return o.unwrapped=e,o}var hu=bN();function kN(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xN({type:e,reducerName:t,createNotation:r},n,o){let i,s;if("reducer"in n){if(r&&!EN(n))throw new Error(kn(17));i=n.reducer,s=n.prepare}else i=n;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?yo(e,s):yo(e))}function CN(e){return e._reducerDefinitionType==="asyncThunk"}function EN(e){return e._reducerDefinitionType==="reducerWithPrepare"}function DN({type:e,reducerName:t},r,n,o){if(!o)throw new Error(kn(18));const{payloadCreator:i,fulfilled:s,pending:c,rejected:d,settled:u,options:a}=r,l=o(e,i,a);n.exposeAction(t,l),s&&n.addCase(l.fulfilled,s),c&&n.addCase(l.pending,c),d&&n.addCase(l.rejected,d),u&&n.addMatcher(l.settled,u),n.exposeCaseReducer(t,{fulfilled:s||yc,pending:c||yc,rejected:d||yc,settled:u||yc})}function yc(){}var SN="task",gk="listener",vk="completed",Yg="cancelled",TN=`task-${Yg}`,PN=`task-${vk}`,am=`${gk}-${Yg}`,ON=`${gk}-${vk}`,bf=class{constructor(e){this.code=e,this.message=`${SN} ${Yg} (reason: ${e})`}name="TaskAbortError";message},qg=(e,t)=>{if(typeof e!="function")throw new Error(kn(32))},Fd=()=>{},yk=(e,t=Fd)=>(e.catch(t),e),wk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ji=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Xi=e=>{if(e.aborted){const{reason:t}=e;throw new bf(t)}};function bk(e,t){let r=Fd;return new Promise((n,o)=>{const i=()=>o(new bf(e.reason));if(e.aborted){i();return}r=wk(e,i),t.finally(()=>r()).then(n,o)}).finally(()=>{r=Fd})}var IN=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof bf?"cancelled":"rejected",error:r}}finally{t?.()}},$d=e=>t=>yk(bk(e,t).then(r=>(Xi(e),r))),_k=e=>{const t=$d(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ja}=Object,nw={},_f="listenerMiddleware",RN=(e,t)=>{const r=n=>wk(e,()=>ji(n,e.reason));return(n,o)=>{qg(n);const i=new AbortController;r(i);const s=IN(async()=>{Xi(e),Xi(i.signal);const c=await n({pause:$d(i.signal),delay:_k(i.signal),signal:i.signal});return Xi(i.signal),c},()=>ji(i,PN));return o?.autoJoin&&t.push(s.catch(Fd)),{result:$d(e)(s),cancel(){ji(i,TN)}}}},NN=(e,t)=>{const r=async(n,o)=>{Xi(t);let i=()=>{};const c=[new Promise((d,u)=>{let a=e({predicate:n,effect:(l,f)=>{f.unsubscribe(),d([l,f.getState(),f.getOriginalState()])}});i=()=>{a(),u()}})];o!=null&&c.push(new Promise(d=>setTimeout(d,o,null)));try{const d=await bk(t,Promise.race(c));return Xi(t),d}finally{i()}};return(n,o)=>yk(r(n,o))},kk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:i}=e;if(t)o=yo(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(!o)throw new Error(kn(21));return qg(i),{predicate:o,type:t,effect:i}},xk=Ja(e=>{const{type:t,predicate:r,effect:n}=kk(e);return{id:mk(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(kn(22))}}},{withTypes:()=>xk}),sm=e=>{e.pending.forEach(t=>{ji(t,am)})},MN=e=>()=>{e.forEach(sm),e.clear()},rw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Ck=Ja(yo(`${_f}/add`),{withTypes:()=>Ck}),LN=yo(`${_f}/removeAll`),Ek=Ja(yo(`${_f}/remove`),{withTypes:()=>Ek}),AN=(...e)=>{console.error(`${_f}/error`,...e)},FN=(e={})=>{const t=new Map,{extra:r,onError:n=AN}=e;qg(n);const o=a=>(a.unsubscribe=()=>t.delete(a.id),t.set(a.id,a),l=>{a.unsubscribe(),l?.cancelActive&&sm(a)}),i=a=>{let l=Zy(Array.from(t.values()),f=>f.effect===a.effect);return l||(l=xk(a)),o(l)};Ja(i,{withTypes:()=>i});const s=a=>{const{type:l,effect:f,predicate:p}=kk(a),h=Zy(Array.from(t.values()),m=>(typeof l=="string"?m.type===l:m.predicate===p)&&m.effect===f);return h&&(h.unsubscribe(),a.cancelActive&&sm(h)),!!h};Ja(s,{withTypes:()=>s});const c=async(a,l,f,p)=>{const h=new AbortController,m=NN(i,h.signal),w=[];try{a.pending.add(h),await Promise.resolve(a.effect(l,Ja({},f,{getOriginalState:p,condition:(y,v)=>m(y,v).then(Boolean),take:m,delay:_k(h.signal),pause:$d(h.signal),extra:r,signal:h.signal,fork:RN(h.signal,w),unsubscribe:a.unsubscribe,subscribe:()=>{t.set(a.id,a)},cancelActiveListeners:()=>{a.pending.forEach((y,v,g)=>{y!==h&&(ji(y,am),g.delete(y))})},cancel:()=>{ji(h,am),a.pending.delete(h)},throwIfCancelled:()=>{Xi(h.signal)}})))}catch(y){y instanceof bf||rw(n,y,{raisedBy:"effect"})}finally{await Promise.all(w),ji(h,ON),a.pending.delete(h)}},d=MN(t);return{middleware:a=>l=>f=>{if(!nk(f))return l(f);if(Ck.match(f))return i(f.payload);if(LN.match(f)){d();return}if(Ek.match(f))return s(f.payload);let p=a.getState();const h=()=>{if(p===nw)throw new Error(kn(23));return p};let m;try{if(m=l(f),t.size>0){const w=a.getState(),y=Array.from(t.values());for(const v of y){let g=!1;try{g=v.predicate(f,w,p)}catch(b){g=!1,rw(n,b,{raisedBy:"predicate"})}g&&c(v,f,a,h)}}}finally{p=nw}return m},startListening:i,stopListening:s,clearListeners:d}};function kn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}async function $N(e=""){const t=`
  [
    :find (pull ?b [*])
    :where
      [?b :block/properties ?prop]
      ${e}
  ]
  `;return(await logseq.DB.datascriptQuery(t)||[]).flat().map(o=>{let i=o.properties??{};const s=Object.keys(i).map(c=>({[O2(c)]:i[c]}));return i=Object.assign({},...s),o.properties=i,wn.fromBlock(o)})}async function zN({uuids:e}){const n=`
    [?b :block/uuid ?uuid]
    [(contains? #{${[...new Set(e)].map(o=>`#uuid "${o}"`).join(", ")}} ?uuid)] 
    [(get ?prop :ib-a) _]
    [(get ?prop :ib-b) _]
  `;return $N(n)}function Dk(e){return e.sort((t,r)=>r.priority-t.priority)}function Vg({result:e,sortByPriority:t=!0}){let r=e.map(n=>{const[o,i]=n,c=new Yt(o.properties["ib-a"],o.properties["ib-b"]).sample({prefix:o.uuid,seedToday:!0}),d=o["path-refs"],u=i?i.tags:[];return{id:o.id,uuid:o.uuid,content:o.content,priority:c,pathRefs:d,pageTags:u,refs:[...d,...u]}});return t&&(r=Dk(r)),r}const kf=`
(pull ?b [
  :db/id
  :block/uuid 
  :block/content 
  :block/properties
  {:block/path-refs [:db/id :block/uuid :block/name]}
  {:block/refs [:db/id :block/uuid :block/name]}
]) 
(pull ?bp [
  {:block/tags [:db/id :block/uuid :block/name]}
])
`;async function Sk({dueAt:e,refs:t,includeOutdated:r=!0,sortByPriority:n=!0}){const o=e??dr();let i=`
  [(get ?prop :ib-due) ?due]
  [(<= ?due ${S2(o).getTime()})]
  `;r||(i=`
    ${i}
    [(>= ?due ${D2(o).getTime()})]
    `);let s="";t&&t.length>0&&(s=`
    [?page :block/name ?pagename] 
    [(contains? #{${t.map(l=>`"${l}"`).join(", ")}} ?pagename)] 
    (or [?b :block/refs ?page] [?bp :block/tags ?page])
    `);const c=`[
    :find
      ${kf}
    :where
      [?b :block/properties ?prop]
      ${i}
      [(get ?prop :ib-a) _]
      [(get ?prop :ib-b) _]
      [?b :block/page ?bp]
      ${s}
  ]`,d=await logseq.DB.datascriptQuery(c);return Vg({result:d,sortByPriority:n})}async function Tk({uuids:e,sortByPriority:t=!0,keepDuplicates:r=!1}){const n=N2(e),o=[...n.keys()],i=o.map(u=>`#uuid "${u}"`).join(", "),s=`[
    :find ${kf}
    :where
      [?b :block/uuid ?uuid]
      [(contains? #{${i}} ?uuid)] 
      [?b :block/properties ?prop]
      [(get ?prop :ib-a) _]
      [(get ?prop :ib-b) _]
      [?b :block/page ?bp]
  ]`;let c;try{c=await logseq.DB.datascriptQuery(s)}catch(u){return console.log(u),[]}let d=Vg({result:c,sortByPriority:t});return r&&o.length<e.length&&(d=d.reduce((u,a)=>u.concat(new Array(n.get(a.uuid)).fill({...a})),new Array)),d??[]}async function BN({ref:e,sortByPriority:t=!1}){const r=`[
    :find ${kf}
    :where
      [?b :block/uuid ?uuid]
      [?b :block/properties ?prop]
      [(get ?prop :ib-a) _]
      [(get ?prop :ib-b) _]
      [?b :block/page ?bp]
      [?p :block/name ?pagename] 
      [(contains? #{"${e.name}"} ?pagename)] 
      (or [?b :block/path-refs ?p] [?bp :block/tags ?p])
  ]`;let n;try{n=await logseq.DB.datascriptQuery(r)}catch(i){return console.log(i),[]}return Vg({result:n,sortByPriority:t})}async function HN({uuid:e,withPriority:t=!1}){const r=`[
  :find ${kf}
    :where
      [?b :block/uuid #uuid "${e}"]
      [?b :block/page ?bp]
  ]`,n=await logseq.DB.datascriptQuery(r);if(n.length==0)return null;const o=n[0],i=o[1]?.tags??[],s=o[0].refs??[],c=o[0]["path-refs"]??[],d=[...new Set([...i,...s,...c])];return{blockUuid:e,pageRefs:i,directRefs:s,pathRefs:c,refs:d}}function UN(e){const t=[],r=[];for(const n of e)n.beta&&(t.push(n.beta.a),r.push(n.beta.b));return t.length>0?new Yt($y(t),$y(r)):null}async function Qg({uuid:e,priorityOnly:t=!1,block:r}){if(r||(r=await logseq.Editor.getBlock(e)),!r)return null;const n=wn.fromBlock(r);t=="inherit"&&(t=!(n.dueDate&&n.interval));const o={};t==!1&&(o["ib-multiplier"]=n.multiplier,o["ib-reps"]=n.reps??0);let i=n.beta;if(!i){const s=await HN({uuid:e});if(s&&s.refs.length>0){const d=(await Promise.all(s.refs.map(u=>logseq.Editor.getPage(u.uuid)))).filter(u=>u?.properties).map(u=>wn.fromPage(u));d.length>0&&(i=UN(d))}i||(i=new Yt(1,1),i.mean=logseq.settings?.defaultPriority??.5)}if(o["ib-a"]=i.a,o["ib-b"]=i.b,t==!1){const s=_l(i.mean),c=new Date;c.setDate(c.getDate()+s),o["ib-due"]=c.getTime(),o["ib-interval"]=s}return o}async function fi({uuid:e,block:t,priorityOnly:r=!1,backToEditing:n=!1}){let o="";const i=await logseq.Editor.getEditingCursorPosition();if(t||(o=await logseq.Editor.getEditingBlockContent(),t=await logseq.Editor.getBlock(e)),!t){logseq.UI.showMsg("Block not found","error");return}o||(o=t.content);const s=await Qg({uuid:e,priorityOnly:r,block:t});if(!s){logseq.UI.showMsg("Failed to generate ib properties","error");return}let c="";o.includes(Gi)||(c=Gi);const d=M2(o,{addition:c,props:s});await logseq.Editor.updateBlock(e,d),await logseq.Editor.exitEditingMode(),n&&setTimeout(()=>{logseq.Editor.editBlock(e,{pos:i?.pos??0})},100)}async function WN({uuid:e}){await fi({uuid:e})}async function YN(){const e=await logseq.Editor.getCurrentBlock();e&&await fi({uuid:e.uuid,block:e})}async function qN({uuid:e}){await fi({uuid:e,priorityOnly:!0})}async function VN({uuid:e}){const t=await logseq.Editor.getBlock(e);if(!t)return;let r;if(t.parent.id==t.page.id){const n=await logseq.Editor.getPage(t.page.id,{includeChildren:!0});if(!n)return;r=await logseq.Editor.getPageBlocksTree(n.uuid)}else{const n=await logseq.Editor.getBlock(t.parent.id,{includeChildren:!0});if(!n)return;r=n.children}for(let n of r)n.uuid==e?fi({uuid:n.uuid}):fi({uuid:n.uuid,block:n})}async function QN({uuid:e}){const t=await logseq.Editor.getSelectedBlocks();if(t)for(const r of t)fi({uuid:r.uuid,block:r})}async function KN(){if(!await logseq.Editor.checkEditing())return;const t=top?.window.getSelection()?.toString();if(!t)return;const r=await logseq.Editor.getCurrentBlock();if(!r)return;const n=await Qg({uuid:r.uuid,priorityOnly:!1,block:r});if(!n)return;const o=`${t}
${Gi}`,i=await logseq.Editor.newBlockUUID();if(!await logseq.Editor.insertBlock(r.uuid,o,{focus:!1,customUUID:i,properties:n}))return;const c=r.content.replace(t,`((${i}))`);await logseq.Editor.updateBlock(r.uuid,c)}async function ow(e=!0){if(!await logseq.Editor.checkEditing())return;const r=top?.window.getSelection()?.toString();if(!r)return;const n=await logseq.Editor.getCurrentBlock();if(!n)return;let o={},i=L2(n.content);if(i=i.replace(r,` {{cloze ${r}}} `),e){if(o=await Qg({uuid:n.uuid,priorityOnly:!1,block:n})||{},Object.keys(o).length==0)return;i.includes(Gi)||(i=`${i}
${Gi}`)}else i=i.replace(Gi,""),i=`${i} #card`;await logseq.Editor.insertBlock(n.uuid,i,{focus:!1,properties:o})}const GN=8765;async function Nr(e,t={}){return new Promise((r,n)=>{const o=new XMLHttpRequest;o.addEventListener("error",()=>n("Failed to issue request. Is Anki open?")),o.addEventListener("load",()=>{try{const i=JSON.parse(o.responseText);if(Object.getOwnPropertyNames(i).length!=2)throw"Response has an unexpected number of fields";if(!i.hasOwnProperty("error"))throw"Response is missing required error field";if(!i.hasOwnProperty("result"))throw"Response is missing required result field";if(i.error)throw i.error;r(i.result)}catch(i){n(i)}}),o.open("POST","http://127.0.0.1:"+GN.toString()),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o.send(JSON.stringify({action:e,version:6,params:t}))})}async function jN(){const e=await logseq.App.getCurrentGraph();return e==null?null:`${e.name}Model`}async function Kg({due:e=!1,deck:t}){const r=await jN();if(r==null)return[];let n=`note:${r}`;e&&(n=`(is:due or is:new) ${n}`),t&&(n=`${n} deck:${t}`);const o=await Nr("findCards",{query:n}),i=await Nr("cardsInfo",{cards:o});return console.log("cards data",i),i}async function Pk(e){return await Nr("cardsInfo",{cards:e})}async function XN(e,t){return(await Nr("cardReviews",{deck:e,startID:t})).map(n=>({reviewTime:n[0],cardID:n[1],usn:n[2],buttonPressed:n[3],newInterval:n[4],previousInterval:n[5],newFactor:n[6],reviewDuration:n[7],reviewType:n[8]}))}async function Ok(e){return await Nr("getReviewsOfCards",{cards:e})}const Ik={id:"logseq-incremental-blocks",icon:"./logo.svg"},Rk=FN(),Nk=Rk.startListening,ZN={media:{front:"",back:""},deckName:"ib",cards:[],refreshState:null,currentCard:null},Mk=hu({name:"anki",initialState:ZN,reducers:{cardOpened(e,t){let r=e.currentCard==t.payload;e.currentCard&&t.payload&&(r||=e.currentCard.cardId==t.payload.cardId),r||(e.currentCard=t.payload,console.log("Anki card changed:",t.payload))}},extraReducers:e=>{e.addCase(JN.fulfilled,(t,r)=>{r.payload!=null&&(t.media=r.payload)}).addCase(kl.pending,t=>{t.cards=[],t.refreshState="loading"}).addCase(kl.fulfilled,(t,r)=>{t.cards=r.payload,t.refreshState="fulfilled"}).addCase(kl.rejected,t=>{t.refreshState="failed"})}}),{cardOpened:Lk}=Mk.actions,JN=fa("anki/loadMedia",async(e,{getState:t,dispatch:r})=>{const n=["_logseq_anki_sync.js","_logseq_anki_sync.css","_logseq_anki_sync_front.js","_logseq_anki_sync_front.css","_logseq_anki_sync_back.js","_logseq_anki_sync_back.css"];try{const i=(await Promise.all(n.map(c=>Nr("retrieveMediaFile",{filename:c})))).map(atob).map((c,d)=>n[d].endsWith("js")?`<script type='text/javascript' async=false defer=false>${c}<\/script>`:`<style rel="stylesheet">${c}</style>`),s={front:[0,1,2,3].map(c=>i[c]).join(`
`),back:[0,1,4,5].map(c=>i[c]).join(`
`)};return console.log(s),s}catch{return null}}),kl=fa("anki/getDueCards",async(e,{getState:t,dispatch:r})=>{const n=await Kg({due:!0}),o=(await zN({uuids:n.map(i=>i.fields.uuid.value)})).reduce((i,s)=>(i.set(s.uuid,s.beta),i),new Map);return n.map(i=>{const s=i.fields.uuid.value,c=i.fields["uuid-type"].value.split("-"),d=i.fields.Breadcrumb.value,u=new DOMParser().parseFromString(d,"text/html").firstChild?.textContent??"";return{uuid:s,type:c[c.length-1],breadcrumb:u,cardId:i.cardId,deckName:i.deckName,priority:o.get(s)}})},{condition:(e,{getState:t})=>{const{anki:r}=t();if(r.refreshState=="loading")return!1}}),Gg=()=>async(e,t)=>{let r;try{const n=await Nr("guiCurrentCard");r={deckName:n.deckName,cardId:n.cardId,buttons:n.buttons,nextReviews:n.nextReviews,date:new Date}}catch{r=null}return e(Lk(r)),r},Ak=({by:e})=>async(t,r)=>{const n=r(),i=(e=="due"?n.learn.dueIbs:n.learn.queue).filter(d=>d.cardId!=null);let s=-1e5;const c=await Promise.all(i.map(d=>Nr("setSpecificValueOfCard",{card:d.cardId,keys:["due"],newValues:[s++]})));console.log("due results",c)},eM=Mk.reducer,tM=Wg.withTypes()([e=>e.anki.deckName,e=>e.anki.cards,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>t.filter(o=>{let i=!0;return r&&(i&&=o.deckName==e),n&&(i&&=o.priority!=null),i}));Nk({predicate(e,t,r){return t.learn.learning!=r.learn.learning?!0:t.learn.current?.qib.uuid!=r.learn.current?.qib.uuid},effect:async(e,t)=>{t.cancelActiveListeners();const r=t.getState();if(!(!r.learn.learning||r.learn.current?.qib.cardId==null))for(;;)await t.dispatch(Gg()),await t.delay(500)}});const nM=["all","cards","blocks"],rM=["off","inclusion","exclusion"],oM={learning:!1,anki:!1,dueIbs:[],queue:[],queueStatus:"idle",refs:[],selectedRefs:[],refFilterMode:"off",typeFilter:"all",current:null,refreshState:null,blockListenerActive:!1,autoIb:logseq.settings?.learnAutoIb??!1},xs=hu({name:"learn",initialState:oM,reducers:{userRefsLoaded(e,t){e.refs=t.payload},refToggled(e,t){const n=e.selectedRefs.map(i=>i.name).indexOf(t.payload.refName),o=t.payload.state==null?n==-1:t.payload.state;if(o&&n==-1){const i=e.refs.find(s=>s.name==t.payload.refName);i&&e.selectedRefs.push(i)}else!o&&n>-1&&e.selectedRefs.splice(n,1)},refsSelected(e,t){e.selectedRefs=t.payload},refFilterModeToggled(e,t){e.refFilterMode=t.payload},typeFilterSelected(e,t){e.typeFilter=t.payload},learningStarted(e,t){e.learning||(e.learning=!0,e.learnStart=new Date,e.queue=t.payload,e.blockListenerActive||(e.blockListenerActive=!0))},learningEnded(e){e.learning&&(e.queue=[],e.current=null,e.learning=!1,e.learnStart=void 0)},manualIntervention(e,t){if(!e.current)return;const r=t.payload;r.priority!==void 0&&(e.current.manualPriority=r.priority??void 0),r.interval!==void 0&&(e.current.manualInterval=r.interval??void 0)},qibRemoved(e,t){function r(o,i){for(let s=0;s<o.length;s++)o[s].uuid==i&&o.splice(s,1)}const n=t.payload.uuid;r(e.dueIbs,n),(t.payload.removeFromQueue??!1)&&r(e.queue,n)},qibAdded(e,t){function r(o,i){for(let s=0;s<o.length;s++)if(o[s].priority<i.priority){o.splice(s,0,i);break}}const n=t.payload.qib;r(e.dueIbs,n),(t.payload.addToQueue??!1)&&r(e.queue,n)}},extraReducers:e=>{e.addCase(eo.pending,(t,r)=>{t.refreshState="loading"}).addCase(eo.fulfilled,(t,r)=>{t.dueIbs=r.payload,t.refreshDate=new Date,t.refreshState="fulfilled"}).addCase(eo.rejected,(t,r)=>{t.refreshDate=new Date,t.refreshState="failed"}).addCase(Uc.pending,(t,r)=>{t.queueStatus="busy"}).addCase(Uc.fulfilled,(t,r)=>{t.queueStatus="idle",t.current&&t.queue.shift(),t.current=r.payload}).addCase(Uc.rejected,(t,r)=>{console.error("next ib rejected"),t.queueStatus="idle"}).addCase(gu.fulfilled,(t,r)=>{t.current=r.payload}).addCase(Uk.fulfilled,(t,r)=>{t.autoIb=r.payload})}}),{userRefsLoaded:iM,refsSelected:aM,manualIntervention:Fk,qibAdded:$k,qibRemoved:lm,typeFilterSelected:sM}=xs.actions,eo=fa("learn/refreshDueIbs",async(e,{getState:t})=>{const r=t(),n=await Sk({sortByPriority:!1});let o=[];if(r.learn.anki)try{await Nr("guiDeckBrowser");const s=await Kg({due:!0,deck:r.anki.deckName}),d=(await Tk({uuids:s.map(u=>u.fields.uuid.value),sortByPriority:!0})).reduce((u,a)=>(u.set(a.uuid,a),u),new Map);for(const u of s){const a=d.get(u.fields.uuid.value);a&&o.push({...a,cardId:u.cardId})}}catch{logseq.UI.showMsg("Failed to load anki cards","warning"),o=[]}return Dk([...n,...o])},{condition:(e,{getState:t})=>{const{learn:r}=t();if(r.refreshState=="loading")return!1}}),lM=()=>async(e,t)=>{await e(kl()),await e(eo()),await e(Ak({by:"due"}))};async function zk(e,t){const r=e?"hotpink":"dimgrey";logseq.provideStyle(`
    #${Ik.id} {
      color: ${r};
    }
  `),t&&(await logseq.Editor.editBlock(t),await logseq.Editor.exitEditingMode())}const mu=()=>(e,t)=>{t(),e(eo()),e(xs.actions.learningEnded()),zk(!1)},Bk=()=>async(e,t)=>{let r=t();const n=r.learn.blockListenerActive,o=Zg(r);await e(Gg()),e(xs.actions.learningStarted(o)),r=t(),r.learn.learning&&(zk(!0),await e(vu()),n||logseq.DB.onChanged(({blocks:i,txData:s,txMeta:c})=>{const d=t();d.learn.learning&&d.learn.autoIb&&c?.outlinerOp=="insert-blocks"&&i.forEach(async u=>{fi({uuid:u.uuid,block:u,backToEditing:!0})})}))},Uc=fa("learn/nextIb",async(e,{getState:t,dispatch:r})=>{let{learn:n,anki:o}=t();const i=()=>n.queue[n.current?1:0];let s=i();if(s&&n.anki&&s.cardId)try{const d=n.current?.start??n.learnStart;let u=await XN(o.deckName,B_(d));const a=n.current?.qib.cardId;if(a&&(u=u.filter(l=>l.cardID!=a)),u.length>0){const l=await Pk(u.map(f=>f.cardID));if(l.length!=u.length)throw new Error("Could not get card data for one or more cards");for(let f=0;f<l.length;f++){const p=l[f];p.deckName!=o.deckName&&(r(lm({uuid:p.fields.uuid.value,removeFromQueue:!0})),u.splice(f,1))}u.length>0&&await r(Ak({by:"queue"}))}}catch(d){throw logseq.UI.showMsg("Anki error: "+d.toString(),"error"),r(mu()),d}let c=null;if({learn:n}=t(),s=i(),s){const d=await U_(s.uuid,3);c={qib:s,ib:await wn.fromUuid(s.uuid,{propsOnly:!1}),start:new Date,contents:d,newContents:d}}return c},{condition:(e,{getState:t})=>{const{learn:r}=t();if(r.queueStatus=="busy")return!1}}),gu=fa("learn/getPriorityUpdate",async(e,{getState:t,dispatch:r})=>{const{learn:n}=t();if(!n.current)return null;const o={...n.current};return o.newContents=await U_(o.ib.uuid,3),o.priorityUpdate=tR(o),o},{condition:(e,{getState:t})=>{const{learn:r}=t();if(r.current==null)return!1}}),vu=()=>async(e,t)=>{if(await e(Uc()),await e(gu()),logseq.settings?.learnAutoOpen??!0){const{learn:n}=t();n.current&&logseq.App.pushState("page",{name:n.current.qib.uuid})}},jg=e=>async(t,r)=>{const{learn:n,anki:o}=r();let i=n.current;if(i){const s=i.qib.cardId;if(s)try{if((await Ok([s]))[s].filter(l=>l.id>=B_(i.start)).length==0)throw new Error("Card not reviewed");(await Pk([s]))[0].deckName==o.deckName&&await t(zd({next:!1}))}catch(d){logseq.UI.showMsg(d.toString(),"error"),t(mu());return}const c=i.ib.beta.copy();if(i.manualPriority?c.mean=i.manualPriority:(await t(gu()),i=r().learn.current,c.applyPriorityUpdate(i.priorityUpdate)),await logseq.Editor.upsertBlockProperty(i.ib.uuid,"ib-a",c.a),await logseq.Editor.upsertBlockProperty(i.ib.uuid,"ib-b",c.b),!s){const d=i.manualInterval??G_(i.ib),u=Ql(dr(),d);await logseq.Editor.upsertBlockProperty(i.ib.uuid,"ib-interval",d),await logseq.Editor.upsertBlockProperty(i.ib.uuid,"ib-due",u.getTime()),await logseq.Editor.upsertBlockProperty(i.ib.uuid,"ib-reps",i.ib.reps+1)}}await t(vu())},uM=({interval:e})=>async(t,r)=>{const{learn:n}=r();let o=n.current;if(o){const i=Ql(dr(),e);await logseq.Editor.upsertBlockProperty(o.ib.uuid,"ib-due",i.getTime())}await t(vu())},zd=({next:e=!0})=>async(t,r)=>{const n=r();if(n.learn.queue.length>1){const o=n.learn.current;let i=o.ib.beta.sample({});i>n.learn.queue[1].priority&&(i=Math.max(0,n.learn.queue[1].priority-.01));const s={...o.qib,priority:i};t($k({qib:s,addToQueue:!0}))}e&&await t(vu())},Hk=e=>async(t,r)=>{const{learn:n}=r();let o=n.current;o&&await(await wn.fromUuid(o.ib.uuid,{propsOnly:!1})).done(),await t(vu())},Uk=fa("learn/toggleAutoIb",(e,{getState:t,dispatch:r})=>(logseq.updateSettings({learnAutoIb:e}),e),{condition:(e,{getState:t})=>{const{learn:r}=t();if(r.autoIb==e)return!1}}),Xg=()=>async(e,t)=>{const r=F2();if(r.length==0)return;const o=`[
      :find ?p ?n ?u
      :where
        [?p :block/name ?n]
        [(contains? #{${r.map(c=>`"${c}"`).join(", ")}} ?n)]
        [?p :block/uuid ?u]
    ]`,s=(await logseq.DB.datascriptQuery(o)).map(c=>({id:c[0],name:c[1],uuid:c[2]}));e(iM(s))},Wk=(e,t)=>r=>{r(xs.actions.refToggled({refName:e,state:t}))},cM=e=>async(t,r)=>{t(Wk(e,!1));const o=r().learn.refs.map(i=>i.name);return o.splice(o.indexOf(e),1),logseq.updateSettings({subsetQueries:o.join(", ")}),o},dM=e=>async(t,r)=>{const o=r().learn.refs.map(i=>i.name);return o.includes(e)||o.push(e),logseq.updateSettings({subsetQueries:o.join(", ")}),o},fM=e=>t=>{t(xs.actions.refFilterModeToggled(e))},pM=xs.reducer,Zg=Wg.withTypes()([e=>e.learn.dueIbs,e=>e.learn.selectedRefs,e=>e.learn.refFilterMode,e=>e.learn.typeFilter],(e,t,r,n)=>{const o=t.map(i=>i.id);return e.filter(i=>{let s=!0;const c=i.cardId!=null;if(n=="blocks"?s&&=!c:n=="cards"&&(s&&=c),r!="off"){const d=i.refs.some(u=>o.includes(u.id));s&&=r=="inclusion"?d:!d}return s})});Nk({actionCreator:Lk,effect:async(e,t)=>{const r=e.payload,n=t.getState();r!==null&&n.learn.current.qib.cardId!=r.cardId}});function hM({block:e,slot:t}){const r=G.useRef(null),[n,o]=O.useState(wn.fromBlock(e)),[i,s]=O.useState(!1),[c,d]=O.useState(0),u=G.useRef(),[a,l]=G.useState(),[f,p]=G.useState(),[h,m]=G.useState(2),[w,y]=G.useState(),[v,g]=G.useState(!1),b=Gt();G.useEffect(()=>{const L=top?.document.getElementById(t);if(L&&r.current){let M=r.current.clientHeight;M==0&&(M=n.priorityOnly?80:160);const F=L.getBoundingClientRect();r.current.style.top=`${F.top-M/2}px`,r.current.style.left=`${F.right+5}px`}s(!0)},[]),G.useEffect(()=>{k(wn.fromBlock(e))},[e]);function k(L){o(L);const M=L.beta??new Yt(1,1);l(M),u.current=L.reps==0?new Yt(1,1):M,L.priorityOnly||(L.dueDate?p(L.dueDate):E({mean:M.mean}),L.interval&&y(L.interval),m(L.multiplier))}async function E({mean:L,variance:M}){if(!L&&!M)return;g(!0);const F=await wn.fromUuid(e.uuid);let $;if(M?($=a.copy(),$.variance=M):$=K_(L,{currentBeta:u.current}),await logseq.Editor.upsertBlockProperty(e.uuid,"ib-a",$.a),await logseq.Editor.upsertBlockProperty(e.uuid,"ib-b",$.b),l($),F.reps===0){const z=_l($.mean),q=new Date;q.setDate(q.getDate()+z),await logseq.Editor.upsertBlockProperty(e.uuid,"ib-due",q.getTime()),await logseq.Editor.upsertBlockProperty(e.uuid,"ib-interval",z),await logseq.Editor.upsertBlockProperty(e.uuid,"ib-reps",0),p(q),y(z)}g(!1)}async function C(L){if(L===null)return;g(!0),L.setHours(0,0,0,0),await logseq.Editor.upsertBlockProperty(e.uuid,"ib-due",L.getTime());const M=dr(),F=f&&hs(M,f)==0,$=hs(M,L)==0;if(F&&!$)b(lm({uuid:e.uuid}));else if(!F&&$){const z=await Tk({uuids:[e.uuid]});z.length>0&&b($k({qib:z[0]}))}p(L),g(!1)}async function S(L){g(!0),isFinite(L)||(L=logseq.settings?.defaultMultiplier??2),await logseq.Editor.upsertBlockProperty(e.uuid,"ib-multiplier",L),m(L),g(!1)}async function T(L){g(!0),isFinite(L)&&(await logseq.Editor.upsertBlockProperty(e.uuid,"ib-interval",L),y(L)),g(!1)}async function P(){g(!0),await(await wn.fromUuid(e.uuid,{propsOnly:!1})).done(),b(lm({uuid:e.uuid})),g(!1),logseq.hideMainUI()}return Z("div",{ref:r,id:"ib-popover",className:`fixed flex items-start rounded text-sm text-gray-800 dark:text-gray-200 transition ease-out delay-75 ${i?"opacity-100 translate-x-0":"opacity-0 -translate-x-2  "}`,onMouseLeave:()=>d(0),children:[N("form",{className:`flex rounded ${Ye} ${Re} shadow-md py-1`,onSubmit:L=>L.preventDefault(),children:N("fieldset",{disabled:v,children:Z("div",{className:"flex flex-col divide-y px-1.5",children:[Z("div",{className:"",onMouseEnter:()=>d(1),children:[N("p",{className:"font-semibold text-gray-90",children:"Priority"}),a&&N(zg,{beta:a,varianceSlider:n.priorityOnly,onMeanChange:L=>E({mean:L}),onVarianceChange:L=>E({variance:L})})]}),n.priorityOnly&&!1,!n.priorityOnly&&Z("div",{className:"py-1 dark:border-gray-600",onMouseEnter:()=>d(2),children:[N("p",{className:"font-semibold text-gray-90",children:"Schedule"}),N("p",{children:"Due"}),N(Sg,{className:`${Ye} ${Re}`,selected:f,onChange:L=>C(L),minDate:new Date,monthsShown:1,dateFormat:"dd/MM/yyyy"}),Z("div",{className:"flex",children:[Z("div",{children:[N("p",{children:"Multiplier"}),N("input",{className:`w-16 ${Ye} ${Re}`,type:"number",value:h,onChange:L=>S(parseFloat(L.target.value)),min:"1",max:"5",step:"0.1"})]}),Z("div",{className:"ml-2",children:[N("p",{children:"Interval"}),N("input",{className:`w-16 ${Ye} ${Re}`,type:"number",value:w,onChange:L=>T(parseFloat(L.target.value)),min:"1",step:"1"})]})]})]}),N("div",{className:"pt-1 dark:border-gray-600",onMouseEnter:()=>d(0),children:N("button",{className:`${Ye.hover} ${Re} py-1 px-1 rounded`,onClick:P,children:N("span",{children:"Done"})})})]})})}),Z("div",{className:`transition ease-out delay-75 ${c!=0?"opacity-100 translate-x-0":"opacity-0 -translate-x-2  "}`,children:[c==1&&u.current&&a&&N(mM,{currentBeta:u.current,newBeta:a}),c==2&&w!=null&&f!=null&&N(gM,{multiplier:h,interval:w,dueDate:f})]})]})}function mM({currentBeta:e,newBeta:t}){const r=t.a!=e.a||t.b!=e.b;let n=N("span",{className:"text-gray-600"});return r&&(n=Z(sr,{children:[N("div",{className:"w-full flex flex-col items-center",children:N("span",{className:"text-2xl text-gray-600",children:""})}),N("div",{className:"border rounded-lg",children:N(Id,{beta:t,width:120,height:60})})]})),Z("div",{className:`flex flex-col text-xs content-stretch rounded ${Ye} ${Re} shadow-md p-1 ml-2`,children:[N("p",{className:"font-medium mb-1",children:"Priority"}),N("div",{className:"border rounded-lg max-w-fit",children:N(Id,{beta:e,width:120,height:60})}),n]})}function gM({multiplier:e,interval:t,dueDate:r}){const o=O.useMemo(()=>{const i=[],s=dr();let c=hs(s,r);if(i.push({intervalToday:c,date:r}),c<0)return i;const d=4;let u=t,a=new Date(r);for(let l=0;l<d;l++)c=c+u,a=Ql(a,c),i.push({intervalToday:c,intervalPrevious:u,date:a}),u=Math.ceil(u*e);return i},[e,t,r]).map(i=>vM({scheduled:i}));return Z("div",{className:`flex flex-col text-xs rounded ${Ye} ${Re} shadow-md p-1 ml-2`,children:[N("p",{className:"font-medium mb-1",children:"Schedule"}),o]})}function vM({scheduled:e}){return Z("div",{className:"flex flex-col",children:[e.intervalPrevious!=null&&Z("div",{className:`${Kl} flex items-center justify-center py-1`,children:[N("span",{style:{fontSize:"1.25rem"},children:""}),Z("span",{children:["(",e.intervalPrevious,"d)"]})]}),Z("div",{className:`flex justify-between px-1 rounded-lg ${Re}`,children:[N("span",{className:"mr-1",children:Mg(e.date)}),Z("span",{className:`${Kl}`,children:["(",e.intervalToday,"d)"]})]})]})}let Yk=logseq.isMainUIVisible;logseq.settings;function yM(e,t){return logseq.on(e,t),()=>{logseq.off(e,t)}}const wM=e=>yM("ui:visible:changed",({visible:t})=>{Yk=t,e()}),bM=()=>O.useSyncExternalStore(wM,()=>Yk),_M="modulepreload",kM=function(e,t){return new URL(e,t).href},iw={},Pn=function(t,r,n){if(!r||r.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=kM(i,n),i in iw)return;iw[i]=!0;const s=i.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(!!n)for(let a=o.length-1;a>=0;a--){const l=o[a];if(l.href===i&&(!s||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":_M,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((a,l)=>{u.addEventListener("load",a),u.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};var xM=function(t,r,n){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");typeof r=="function"&&(n=r,r={}),r=r||{},n=n||function(){},i.type=r.type||"text/javascript",i.charset=r.charset||"utf8",i.async="async"in r?!!r.async:!0,i.src=t,r.attrs&&CM(i,r.attrs),r.text&&(i.text=""+r.text);var s="onload"in i?aw:EM;s(i,n),i.onload||aw(i,n),o.appendChild(i)};function CM(e,t){for(var r in t)e.setAttribute(r,t[r])}function aw(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function EM(e,t){e.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,t(null,e))}}var DM=function(t){return SM(t)&&!TM(t)};function SM(e){return!!e&&typeof e=="object"}function TM(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||IM(e)}var PM=typeof Symbol=="function"&&Symbol.for,OM=PM?Symbol.for("react.element"):60103;function IM(e){return e.$$typeof===OM}function RM(e){return Array.isArray(e)?[]:{}}function Xl(e,t){return t.clone!==!1&&t.isMergeableObject(e)?vs(RM(e),e,t):e}function NM(e,t,r){return e.concat(t).map(function(n){return Xl(n,r)})}function MM(e,t){if(!t.customMerge)return vs;var r=t.customMerge(e);return typeof r=="function"?r:vs}function LM(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function sw(e){return Object.keys(e).concat(LM(e))}function qk(e,t){try{return t in e}catch{return!1}}function AM(e,t){return qk(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function FM(e,t,r){var n={};return r.isMergeableObject(e)&&sw(e).forEach(function(o){n[o]=Xl(e[o],r)}),sw(t).forEach(function(o){AM(e,o)||(qk(e,o)&&r.isMergeableObject(t[o])?n[o]=MM(o,r)(e[o],t[o],r):n[o]=Xl(t[o],r))}),n}function vs(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||NM,r.isMergeableObject=r.isMergeableObject||DM,r.cloneUnlessOtherwiseSpecified=Xl;var n=Array.isArray(t),o=Array.isArray(e),i=n===o;return i?n?r.arrayMerge(e,t,r):FM(e,t,r):Xl(t,r)}vs.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,o){return vs(n,o,r)},{})};var $M=vs,Vk=$M,zM=Object.create,xf=Object.defineProperty,BM=Object.getOwnPropertyDescriptor,HM=Object.getOwnPropertyNames,UM=Object.getPrototypeOf,WM=Object.prototype.hasOwnProperty,YM=(e,t)=>{for(var r in t)xf(e,r,{get:t[r],enumerable:!0})},Qk=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of HM(t))!WM.call(e,o)&&o!==r&&xf(e,o,{get:()=>t[o],enumerable:!(n=BM(t,o))||n.enumerable});return e},Jg=(e,t,r)=>(r=e!=null?zM(UM(e)):{},Qk(t||!e||!e.__esModule?xf(r,"default",{value:e,enumerable:!0}):r,e)),qM=e=>Qk(xf({},"__esModule",{value:!0}),e),Kk={};YM(Kk,{callPlayer:()=>sL,getConfig:()=>iL,getSDK:()=>oL,isBlobUrl:()=>uL,isMediaStream:()=>lL,lazy:()=>GM,omit:()=>aL,parseEndTime:()=>tL,parseStartTime:()=>eL,queryString:()=>rL,randomString:()=>nL,supportsWebKitPresentationMode:()=>cL});var Cf=qM(Kk),VM=Jg(G),QM=Jg(xM),KM=Jg(Vk);const GM=e=>VM.default.lazy(async()=>{const t=await e();return typeof t.default=="function"?t:t.default}),jM=/[?&#](?:start|t)=([0-9hms]+)/,XM=/[?&#]end=([0-9hms]+)/,um=/(\d+)(h|m|s)/g,ZM=/^\d+$/;function Gk(e,t){if(e instanceof Array)return;const r=e.match(t);if(r){const n=r[1];if(n.match(um))return JM(n);if(ZM.test(n))return parseInt(n)}}function JM(e){let t=0,r=um.exec(e);for(;r!==null;){const[,n,o]=r;o==="h"&&(t+=parseInt(n,10)*60*60),o==="m"&&(t+=parseInt(n,10)*60),o==="s"&&(t+=parseInt(n,10)),r=um.exec(e)}return t}function eL(e){return Gk(e,jM)}function tL(e){return Gk(e,XM)}function nL(){return Math.random().toString(36).substr(2,5)}function rL(e){return Object.keys(e).map(t=>`${t}=${e[t]}`).join("&")}function Up(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}const Pa={},oL=function(t,r,n=null,o=()=>!0,i=QM.default){const s=Up(r);return s&&o(s)?Promise.resolve(s):new Promise((c,d)=>{if(Pa[t]){Pa[t].push({resolve:c,reject:d});return}Pa[t]=[{resolve:c,reject:d}];const u=a=>{Pa[t].forEach(l=>l.resolve(a))};if(n){const a=window[n];window[n]=function(){a&&a(),u(Up(r))}}i(t,a=>{a?(Pa[t].forEach(l=>l.reject(a)),Pa[t]=null):n||u(Up(r))})})};function iL(e,t){return(0,KM.default)(t.config,e.config)}function aL(e,...t){const r=[].concat(...t),n={},o=Object.keys(e);for(const i of o)r.indexOf(i)===-1&&(n[i]=e[i]);return n}function sL(e,...t){if(!this.player||!this.player[e]){let r=`ReactPlayer: ${this.constructor.displayName} player could not call %c${e}%c  `;return this.player?this.player[e]||(r+="The method was not available"):r+="The player was not available",console.warn(r,"font-weight: bold",""),null}return this.player[e](...t)}function lL(e){return typeof window<"u"&&typeof window.MediaStream<"u"&&e instanceof window.MediaStream}function uL(e){return/^blob:/.test(e)}function cL(e=document.createElement("video")){const t=/iPhone|iPod/.test(navigator.userAgent)===!1;return e.webkitSupportsPresentationMode&&typeof e.webkitSetPresentationMode=="function"&&t}var ev=Object.defineProperty,dL=Object.getOwnPropertyDescriptor,fL=Object.getOwnPropertyNames,pL=Object.prototype.hasOwnProperty,hL=(e,t)=>{for(var r in t)ev(e,r,{get:t[r],enumerable:!0})},mL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fL(t))!pL.call(e,o)&&o!==r&&ev(e,o,{get:()=>t[o],enumerable:!(n=dL(t,o))||n.enumerable});return e},gL=e=>mL(ev({},"__esModule",{value:!0}),e),jk={};hL(jk,{AUDIO_EXTENSIONS:()=>tv,DASH_EXTENSIONS:()=>cx,FLV_EXTENSIONS:()=>dx,HLS_EXTENSIONS:()=>rv,MATCH_URL_DAILYMOTION:()=>ax,MATCH_URL_FACEBOOK:()=>ex,MATCH_URL_FACEBOOK_WATCH:()=>tx,MATCH_URL_KALTURA:()=>ux,MATCH_URL_MIXCLOUD:()=>sx,MATCH_URL_MUX:()=>Jk,MATCH_URL_SOUNDCLOUD:()=>Xk,MATCH_URL_STREAMABLE:()=>nx,MATCH_URL_TWITCH_CHANNEL:()=>ix,MATCH_URL_TWITCH_VIDEO:()=>ox,MATCH_URL_VIDYARD:()=>lx,MATCH_URL_VIMEO:()=>Zk,MATCH_URL_WISTIA:()=>rx,MATCH_URL_YOUTUBE:()=>cm,VIDEO_EXTENSIONS:()=>nv,canPlay:()=>yL});var vL=gL(jk),lw=Cf;const cm=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,Xk=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,Zk=/vimeo\.com\/(?!progressive_redirect).+/,Jk=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,ex=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,tx=/^https?:\/\/fb\.watch\/.+$/,nx=/streamable\.com\/([a-z0-9]+)$/,rx=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,ox=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,ix=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,ax=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,sx=/mixcloud\.com\/([^/]+\/[^/]+)/,lx=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,ux=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,tv=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,nv=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,rv=/\.(m3u8)($|\?)/i,cx=/\.(mpd)($|\?)/i,dx=/\.(flv)($|\?)/i,dm=e=>{if(e instanceof Array){for(const t of e)if(typeof t=="string"&&dm(t)||dm(t.src))return!0;return!1}return(0,lw.isMediaStream)(e)||(0,lw.isBlobUrl)(e)?!0:tv.test(e)||nv.test(e)||rv.test(e)||cx.test(e)||dx.test(e)},yL={youtube:e=>e instanceof Array?e.every(t=>cm.test(t)):cm.test(e),soundcloud:e=>Xk.test(e)&&!tv.test(e),vimeo:e=>Zk.test(e)&&!nv.test(e)&&!rv.test(e),mux:e=>Jk.test(e),facebook:e=>ex.test(e)||tx.test(e),streamable:e=>nx.test(e),wistia:e=>rx.test(e),twitch:e=>ox.test(e)||ix.test(e),dailymotion:e=>ax.test(e),mixcloud:e=>sx.test(e),vidyard:e=>lx.test(e),kaltura:e=>ux.test(e),file:dm};var ov=Object.defineProperty,wL=Object.getOwnPropertyDescriptor,bL=Object.getOwnPropertyNames,_L=Object.prototype.hasOwnProperty,kL=(e,t)=>{for(var r in t)ov(e,r,{get:t[r],enumerable:!0})},xL=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of bL(t))!_L.call(e,o)&&o!==r&&ov(e,o,{get:()=>t[o],enumerable:!(n=wL(t,o))||n.enumerable});return e},CL=e=>xL(ov({},"__esModule",{value:!0}),e),fx={};kL(fx,{default:()=>DL});var EL=CL(fx),Tn=Cf,fn=vL,DL=[{key:"youtube",name:"YouTube",canPlay:fn.canPlay.youtube,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./YouTube-b1cdc034.js").then(e=>e.Y),[],import.meta.url))},{key:"soundcloud",name:"SoundCloud",canPlay:fn.canPlay.soundcloud,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./SoundCloud-fa922375.js").then(e=>e.S),[],import.meta.url))},{key:"vimeo",name:"Vimeo",canPlay:fn.canPlay.vimeo,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Vimeo-b546964a.js").then(e=>e.V),[],import.meta.url))},{key:"mux",name:"Mux",canPlay:fn.canPlay.mux,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Mux-58a32989.js").then(e=>e.M),[],import.meta.url))},{key:"facebook",name:"Facebook",canPlay:fn.canPlay.facebook,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Facebook-0dbfcf40.js").then(e=>e.F),[],import.meta.url))},{key:"streamable",name:"Streamable",canPlay:fn.canPlay.streamable,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Streamable-4e6d8e39.js").then(e=>e.S),[],import.meta.url))},{key:"wistia",name:"Wistia",canPlay:fn.canPlay.wistia,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Wistia-f38c383b.js").then(e=>e.W),[],import.meta.url))},{key:"twitch",name:"Twitch",canPlay:fn.canPlay.twitch,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Twitch-1c9a7c9f.js").then(e=>e.T),[],import.meta.url))},{key:"dailymotion",name:"DailyMotion",canPlay:fn.canPlay.dailymotion,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./DailyMotion-bd680925.js").then(e=>e.D),[],import.meta.url))},{key:"mixcloud",name:"Mixcloud",canPlay:fn.canPlay.mixcloud,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Mixcloud-602727dd.js").then(e=>e.M),[],import.meta.url))},{key:"vidyard",name:"Vidyard",canPlay:fn.canPlay.vidyard,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Vidyard-760703bd.js").then(e=>e.V),[],import.meta.url))},{key:"kaltura",name:"Kaltura",canPlay:fn.canPlay.kaltura,lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./Kaltura-38ab166f.js").then(e=>e.K),[],import.meta.url))},{key:"file",name:"FilePlayer",canPlay:fn.canPlay.file,canEnablePIP:e=>fn.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,Tn.supportsWebKitPresentationMode)())&&!fn.AUDIO_EXTENSIONS.test(e),lazyPlayer:(0,Tn.lazy)(()=>Pn(()=>import("./FilePlayer-2a0a68a8.js").then(e=>e.F),[],import.meta.url))}],uw=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function SL(e,t){return!!(e===t||uw(e)&&uw(t))}function TL(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!SL(e[r],t[r]))return!1;return!0}function PL(e,t){t===void 0&&(t=TL);var r,n=[],o,i=!1;function s(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return i&&r===this&&t(c,n)||(o=e.apply(this,c),i=!0,r=this,n=c),o}return s}const OL=Object.freeze(Object.defineProperty({__proto__:null,default:PL},Symbol.toStringTag,{value:"Module"})),IL=Uw(OL);var RL=typeof Element<"u",NL=typeof Map=="function",ML=typeof Set=="function",LL=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Wc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Wc(e[n],t[n]))return!1;return!0}var i;if(NL&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!Wc(n.value[1],t.get(n.value[0])))return!1;return!0}if(ML&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(LL&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;if(RL&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((o[n]==="_owner"||o[n]==="__v"||o[n]==="__o")&&e.$$typeof)&&!Wc(e[o[n]],t[o[n]]))return!1;return!0}return e!==e&&t!==t}var px=function(t,r){try{return Wc(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},hx={exports:{}},AL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FL=AL,$L=FL;function mx(){}function gx(){}gx.resetWarningCache=mx;var zL=function(){function e(n,o,i,s,c,d){if(d!==$L){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gx,resetWarningCache:mx};return r.PropTypes=r,r};hx.exports=zL();var BL=hx.exports,HL=Object.create,Ef=Object.defineProperty,UL=Object.getOwnPropertyDescriptor,WL=Object.getOwnPropertyNames,YL=Object.getPrototypeOf,qL=Object.prototype.hasOwnProperty,VL=(e,t)=>{for(var r in t)Ef(e,r,{get:t[r],enumerable:!0})},vx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of WL(t))!qL.call(e,o)&&o!==r&&Ef(e,o,{get:()=>t[o],enumerable:!(n=UL(t,o))||n.enumerable});return e},QL=(e,t,r)=>(r=e!=null?HL(YL(e)):{},vx(t||!e||!e.__esModule?Ef(r,"default",{value:e,enumerable:!0}):r,e)),KL=e=>vx(Ef({},"__esModule",{value:!0}),e),yx={};VL(yx,{defaultProps:()=>XL,propTypes:()=>jL});var wx=KL(yx),GL=QL(BL);const{string:jt,bool:pn,number:Oa,array:Wp,oneOfType:Zs,shape:Fn,object:an,func:Ft,node:cw}=GL.default,jL={url:Zs([jt,Wp,an]),playing:pn,loop:pn,controls:pn,volume:Oa,muted:pn,playbackRate:Oa,width:Zs([jt,Oa]),height:Zs([jt,Oa]),style:an,progressInterval:Oa,playsinline:pn,pip:pn,stopOnUnmount:pn,light:Zs([pn,jt,an]),playIcon:cw,previewTabIndex:Oa,previewAriaLabel:jt,fallback:cw,oEmbedUrl:jt,wrapper:Zs([jt,Ft,Fn({render:Ft.isRequired})]),config:Fn({soundcloud:Fn({options:an}),youtube:Fn({playerVars:an,embedOptions:an,onUnstarted:Ft}),facebook:Fn({appId:jt,version:jt,playerId:jt,attributes:an}),dailymotion:Fn({params:an}),vimeo:Fn({playerOptions:an,title:jt}),mux:Fn({attributes:an,version:jt}),file:Fn({attributes:an,tracks:Wp,forceVideo:pn,forceAudio:pn,forceHLS:pn,forceSafariHLS:pn,forceDisableHls:pn,forceDASH:pn,forceFLV:pn,hlsOptions:an,hlsVersion:jt,dashVersion:jt,flvVersion:jt}),wistia:Fn({options:an,playerId:jt,customControls:Wp}),mixcloud:Fn({options:an}),twitch:Fn({options:an,playerId:jt}),vidyard:Fn({options:an})}),onReady:Ft,onStart:Ft,onPlay:Ft,onPause:Ft,onBuffer:Ft,onBufferEnd:Ft,onEnded:Ft,onError:Ft,onDuration:Ft,onSeek:Ft,onPlaybackRateChange:Ft,onPlaybackQualityChange:Ft,onProgress:Ft,onClickPreview:Ft,onEnablePIP:Ft,onDisablePIP:Ft},Xt=()=>{},XL={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Xt},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Xt,onStart:Xt,onPlay:Xt,onPause:Xt,onBuffer:Xt,onBufferEnd:Xt,onEnded:Xt,onError:Xt,onDuration:Xt,onSeek:Xt,onPlaybackRateChange:Xt,onPlaybackQualityChange:Xt,onProgress:Xt,onClickPreview:Xt,onEnablePIP:Xt,onDisablePIP:Xt};var ZL=Object.create,yu=Object.defineProperty,JL=Object.getOwnPropertyDescriptor,e3=Object.getOwnPropertyNames,t3=Object.getPrototypeOf,n3=Object.prototype.hasOwnProperty,r3=(e,t,r)=>t in e?yu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o3=(e,t)=>{for(var r in t)yu(e,r,{get:t[r],enumerable:!0})},bx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of e3(t))!n3.call(e,o)&&o!==r&&yu(e,o,{get:()=>t[o],enumerable:!(n=JL(t,o))||n.enumerable});return e},_x=(e,t,r)=>(r=e!=null?ZL(t3(e)):{},bx(t||!e||!e.__esModule?yu(r,"default",{value:e,enumerable:!0}):r,e)),i3=e=>bx(yu({},"__esModule",{value:!0}),e),St=(e,t,r)=>(r3(e,typeof t!="symbol"?t+"":t,r),r),kx={};o3(kx,{default:()=>Df});var a3=i3(kx),dw=_x(G),s3=_x(px),xx=wx,l3=Cf;const u3=5e3;class Df extends dw.Component{constructor(){super(...arguments),St(this,"mounted",!1),St(this,"isReady",!1),St(this,"isPlaying",!1),St(this,"isLoading",!0),St(this,"loadOnReady",null),St(this,"startOnPlay",!0),St(this,"seekOnPlay",null),St(this,"onDurationCalled",!1),St(this,"handlePlayerMount",t=>{if(this.player){this.progress();return}this.player=t,this.player.load(this.props.url),this.progress()}),St(this,"getInternalPlayer",t=>this.player?this.player[t]:null),St(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const t=this.getCurrentTime()||0,r=this.getSecondsLoaded(),n=this.getDuration();if(n){const o={playedSeconds:t,played:t/n};r!==null&&(o.loadedSeconds=r,o.loaded=r/n),(o.playedSeconds!==this.prevPlayed||o.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(o),this.prevPlayed=o.playedSeconds,this.prevLoaded=o.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),St(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:t,playing:r,volume:n,muted:o}=this.props;t(),!o&&n!==null&&this.player.setVolume(n),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):r&&this.player.play(),this.handleDurationCheck()}),St(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:t,onPlay:r,playbackRate:n}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&n!==1&&this.player.setPlaybackRate(n),t(),this.startOnPlay=!1),r(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),St(this,"handlePause",t=>{this.isPlaying=!1,this.isLoading||this.props.onPause(t)}),St(this,"handleEnded",()=>{const{activePlayer:t,loop:r,onEnded:n}=this.props;t.loopOnEnded&&r&&this.seekTo(0),r||(this.isPlaying=!1,n())}),St(this,"handleError",(...t)=>{this.isLoading=!1,this.props.onError(...t)}),St(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const t=this.getDuration();t?this.onDurationCalled||(this.props.onDuration(t),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),St(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(t){if(!this.player)return;const{url:r,playing:n,volume:o,muted:i,playbackRate:s,pip:c,loop:d,activePlayer:u,disableDeferredLoading:a}=this.props;if(!(0,s3.default)(t.url,r)){if(this.isLoading&&!u.forceLoad&&!a&&!(0,l3.isMediaStream)(r)){console.warn(`ReactPlayer: the attempt to load ${r} is being deferred until the player has loaded`),this.loadOnReady=r;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}!t.playing&&n&&!this.isPlaying&&this.player.play(),t.playing&&!n&&this.isPlaying&&this.player.pause(),!t.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),t.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),t.volume!==o&&o!==null&&this.player.setVolume(o),t.muted!==i&&(i?this.player.mute():(this.player.unmute(),o!==null&&setTimeout(()=>this.player.setVolume(o)))),t.playbackRate!==s&&this.player.setPlaybackRate&&this.player.setPlaybackRate(s),t.loop!==d&&this.player.setLoop&&this.player.setLoop(d)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(t,r,n){if(!this.isReady){t!==0&&(this.seekOnPlay=t,setTimeout(()=>{this.seekOnPlay=null},u3));return}if(r?r==="fraction":t>0&&t<1){const i=this.player.getDuration();if(!i){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(i*t,n);return}this.player.seekTo(t,n)}render(){const t=this.props.activePlayer;return t?dw.default.createElement(t,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}St(Df,"displayName","Player");St(Df,"propTypes",xx.propTypes);St(Df,"defaultProps",xx.defaultProps);var c3=Object.create,wu=Object.defineProperty,d3=Object.getOwnPropertyDescriptor,f3=Object.getOwnPropertyNames,p3=Object.getPrototypeOf,h3=Object.prototype.hasOwnProperty,m3=(e,t,r)=>t in e?wu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g3=(e,t)=>{for(var r in t)wu(e,r,{get:t[r],enumerable:!0})},Cx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of f3(t))!h3.call(e,o)&&o!==r&&wu(e,o,{get:()=>t[o],enumerable:!(n=d3(t,o))||n.enumerable});return e},bu=(e,t,r)=>(r=e!=null?c3(p3(e)):{},Cx(t||!e||!e.__esModule?wu(r,"default",{value:e,enumerable:!0}):r,e)),v3=e=>Cx(wu({},"__esModule",{value:!0}),e),Dt=(e,t,r)=>(m3(e,typeof t!="symbol"?t+"":t,r),r),Ex={};g3(Ex,{createReactPlayer:()=>D3});var y3=v3(Ex),Ra=bu(G),w3=bu(Vk),Yp=bu(IL),fw=bu(px),sl=wx,Dx=Cf,b3=bu(a3);const _3=(0,Dx.lazy)(()=>Pn(()=>import("./Preview-01dec5cb.js").then(e=>e.P),[],import.meta.url)),k3=typeof window<"u"&&window.document&&typeof document<"u",x3=typeof Je<"u"&&Je.window&&Je.window.document,C3=Object.keys(sl.propTypes),E3=k3||x3?Ra.Suspense:()=>null,Js=[],D3=(e,t)=>{var r;return r=class extends Ra.Component{constructor(){super(...arguments),Dt(this,"state",{showPreview:!!this.props.light}),Dt(this,"references",{wrapper:n=>{this.wrapper=n},player:n=>{this.player=n}}),Dt(this,"handleClickPreview",n=>{this.setState({showPreview:!1}),this.props.onClickPreview(n)}),Dt(this,"showPreview",()=>{this.setState({showPreview:!0})}),Dt(this,"getDuration",()=>this.player?this.player.getDuration():null),Dt(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),Dt(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),Dt(this,"getInternalPlayer",(n="player")=>this.player?this.player.getInternalPlayer(n):null),Dt(this,"seekTo",(n,o,i)=>{if(!this.player)return null;this.player.seekTo(n,o,i)}),Dt(this,"handleReady",()=>{this.props.onReady(this)}),Dt(this,"getActivePlayer",(0,Yp.default)(n=>{for(const o of[...Js,...e])if(o.canPlay(n))return o;return t||null})),Dt(this,"getConfig",(0,Yp.default)((n,o)=>{const{config:i}=this.props;return w3.default.all([sl.defaultProps.config,sl.defaultProps.config[o]||{},i,i[o]||{}])})),Dt(this,"getAttributes",(0,Yp.default)(n=>(0,Dx.omit)(this.props,C3))),Dt(this,"renderActivePlayer",n=>{if(!n)return null;const o=this.getActivePlayer(n);if(!o)return null;const i=this.getConfig(n,o.key);return Ra.default.createElement(b3.default,{...this.props,key:o.key,ref:this.references.player,config:i,activePlayer:o.lazyPlayer||o,onReady:this.handleReady})})}shouldComponentUpdate(n,o){return!(0,fw.default)(this.props,n)||!(0,fw.default)(this.state,o)}componentDidUpdate(n){const{light:o}=this.props;!n.light&&o&&this.setState({showPreview:!0}),n.light&&!o&&this.setState({showPreview:!1})}renderPreview(n){if(!n)return null;const{light:o,playIcon:i,previewTabIndex:s,oEmbedUrl:c,previewAriaLabel:d}=this.props;return Ra.default.createElement(_3,{url:n,light:o,playIcon:i,previewTabIndex:s,previewAriaLabel:d,oEmbedUrl:c,onClick:this.handleClickPreview})}render(){const{url:n,style:o,width:i,height:s,fallback:c,wrapper:d}=this.props,{showPreview:u}=this.state,a=this.getAttributes(n),l=typeof d=="string"?this.references.wrapper:void 0;return Ra.default.createElement(d,{ref:l,style:{...o,width:i,height:s},...a},Ra.default.createElement(E3,{fallback:c},u?this.renderPreview(n):this.renderActivePlayer(n)))}},Dt(r,"displayName","ReactPlayer"),Dt(r,"propTypes",sl.propTypes),Dt(r,"defaultProps",sl.defaultProps),Dt(r,"addCustomPlayer",n=>{Js.push(n)}),Dt(r,"removeCustomPlayers",()=>{Js.length=0}),Dt(r,"canPlay",n=>{for(const o of[...Js,...e])if(o.canPlay(n))return!0;return!1}),Dt(r,"canEnablePIP",n=>{for(const o of[...Js,...e])if(o.canEnablePIP&&o.canEnablePIP(n))return!0;return!1}),r};var S3=Object.create,Sf=Object.defineProperty,T3=Object.getOwnPropertyDescriptor,P3=Object.getOwnPropertyNames,O3=Object.getPrototypeOf,I3=Object.prototype.hasOwnProperty,R3=(e,t)=>{for(var r in t)Sf(e,r,{get:t[r],enumerable:!0})},Sx=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of P3(t))!I3.call(e,o)&&o!==r&&Sf(e,o,{get:()=>t[o],enumerable:!(n=T3(t,o))||n.enumerable});return e},N3=(e,t,r)=>(r=e!=null?S3(O3(e)):{},Sx(t||!e||!e.__esModule?Sf(r,"default",{value:e,enumerable:!0}):r,e)),M3=e=>Sx(Sf({},"__esModule",{value:!0}),e),Tx={};R3(Tx,{default:()=>$3});var L3=M3(Tx),fm=N3(EL),A3=y3;const F3=fm.default[fm.default.length-1];var $3=(0,A3.createReactPlayer)(fm.default,F3);const Px=Yd(L3);var ll={},iv={},av={},Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.Direction=void 0;var pw;(function(e){e.Right="to right",e.Left="to left",e.Down="to bottom",e.Up="to top"})(pw||(Cs.Direction=pw={}));(function(e){var t=Je&&Je.__spreadArray||function(M,F,$){if($||arguments.length===2)for(var z=0,q=F.length,U;z<q;z++)(U||!(z in F))&&(U||(U=Array.prototype.slice.call(F,0,z)),U[z]=F[z]);return M.concat(U||Array.prototype.slice.call(F))};Object.defineProperty(e,"__esModule",{value:!0}),e.isIOS=e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var r=G,n=Cs,o=function(M){var F=M.toString().split(".")[1];return F?F.length:0};e.getStepDecimals=o;function i(M){return M.touches&&M.touches.length||M.changedTouches&&M.changedTouches.length}e.isTouchEvent=i;function s(M,F,$){var z=(F-M)/$,q=8,U=Number(z.toFixed(q));return parseInt(U.toString(),10)===U}e.isStepDivisible=s;function c(M,F,$,z,q,U,Y){var R=1e11;if(M=Math.round(M*R)/R,!U){var B=Y[F-1],V=Y[F+1];if(B&&B>M)return B;if(V&&V<M)return V}if(M>z)return z;if(M<$)return $;var re=Math.floor(M*R-$*R)%Math.floor(q*R),ge=Math.floor(M*R-Math.abs(re)),X=re===0?M:ge/R,ie=Math.abs(re/R)<q/2?X:X+q,me=(0,e.getStepDecimals)(q);return parseFloat(ie.toFixed(me))}e.normalizeValue=c;function d(M,F,$){return(M-F)/($-F)}e.relativeValue=d;function u(M){return M===n.Direction.Up||M===n.Direction.Down}e.isVertical=u;function a(M,F,$){if(F>=$)throw new RangeError("min (".concat(F,") is equal/bigger than max (").concat($,")"));if(M<F)throw new RangeError("value (".concat(M,") is smaller than min (").concat(F,")"));if(M>$)throw new RangeError("value (".concat(M,") is bigger than max (").concat($,")"))}e.checkBoundaries=a;function l(M,F,$){return M<F?F:M>$?$:M}e.checkValuesAgainstBoundaries=l;function f(M){if(!(M.length<2)&&!M.slice(1).every(function(F,$){return M[$]<=F}))throw new RangeError("values={[".concat(M,"]} needs to be sorted when allowOverlap={false}"))}e.checkInitialOverlap=f;function p(M){var F=window.getComputedStyle(M);return{top:parseInt(F["margin-top"],10),bottom:parseInt(F["margin-bottom"],10),left:parseInt(F["margin-left"],10),right:parseInt(F["margin-right"],10)}}e.getMargin=p;function h(M){var F=window.getComputedStyle(M);return{top:parseInt(F["padding-top"],10)+parseInt(F["border-top-width"],10),bottom:parseInt(F["padding-bottom"],10)+parseInt(F["border-bottom-width"],10),left:parseInt(F["padding-left"],10)+parseInt(F["border-left-width"],10),right:parseInt(F["padding-right"],10)+parseInt(F["border-right-width"],10)}}e.getPaddingAndBorder=h;function m(M,F,$){var z=$?-1:1;M.forEach(function(q,U){return y(q,z*F[U].x,F[U].y)})}e.translateThumbs=m;function w(M,F,$,z){for(var q=0,U=P(M[0],F,$,z),Y=1;Y<M.length;Y++){var R=P(M[Y],F,$,z);R<U&&(U=R,q=Y)}return q}e.getClosestThumbIndex=w;function y(M,F,$){M.style.transform="translate(".concat(F,"px, ").concat($,"px)")}e.translate=y;var v=function(M){var F=[],$=null,z=function(){for(var q=[],U=0;U<arguments.length;U++)q[U]=arguments[U];F=q,!$&&($=requestAnimationFrame(function(){$=null,M.apply(void 0,F)}))};return z};e.schd=v;function g(M,F,$){var z=M.slice(0);return z[F]=$,z}e.replaceAt=g;function b(M){var F=M.values,$=M.colors,z=M.min,q=M.max,U=M.direction,Y=U===void 0?n.Direction.Right:U,R=M.rtl,B=R===void 0?!1:R;B&&Y===n.Direction.Right?Y=n.Direction.Left:B&&n.Direction.Left&&(Y=n.Direction.Right);var V=F.slice(0).sort(function(ge,X){return ge-X}).map(function(ge){return(ge-z)/(q-z)*100}),re=V.reduce(function(ge,X,ie){return"".concat(ge,", ").concat($[ie]," ").concat(X,"%, ").concat($[ie+1]," ").concat(X,"%")},"");return"linear-gradient(".concat(Y,", ").concat($[0]," 0%").concat(re,", ").concat($[$.length-1]," 100%)")}e.getTrackBackground=b;function k(){}e.voidFn=k;function E(M){throw new Error("Didn't expect to get here")}e.assertUnreachable=E;var C=function(M,F,$,z,q){q===void 0&&(q=function(Y){return Y});var U=Math.ceil(t([M],Array.from(M.children),!0).reduce(function(Y,R){var B=Math.ceil(R.getBoundingClientRect().width);if(R.innerText&&R.innerText.includes($)&&R.childElementCount===0){var V=R.cloneNode(!0);V.innerHTML=q(F.toFixed(z)),V.style.visibility="hidden",document.body.appendChild(V),B=Math.ceil(V.getBoundingClientRect().width),document.body.removeChild(V)}return B>Y?B:Y},M.getBoundingClientRect().width));return U},S=function(M,F,$,z,q,U,Y){Y===void 0&&(Y=function(V){return V});var R=[],B=function(V){var re=C($[V],z[V],q,U,Y),ge=F[V].x;F.forEach(function(X,ie){var me=X.x,K=C($[ie],z[ie],q,U,Y);V!==ie&&(ge>=me&&ge<=me+K||ge+re>=me&&ge+re<=me+K)&&(R.includes(ie)||(R.push(V),R.push(ie),R=t(t([],R,!0),[V,ie],!1),B(ie)))})};return B(M),Array.from(new Set(R.sort()))},T=function(M,F,$,z,q,U){z===void 0&&(z=.1),q===void 0&&(q=" - "),U===void 0&&(U=function(ie){return ie});var Y=(0,e.getStepDecimals)(z),R=(0,r.useState)({}),B=R[0],V=R[1],re=(0,r.useState)(U(F[$].toFixed(Y))),ge=re[0],X=re[1];return(0,r.useEffect)(function(){if(M){var ie=M.getThumbs();if(ie.length<1)return;var me={},K=M.getOffsets(),ve=S($,K,ie,F,q,Y,U),Ee=U(F[$].toFixed(Y));if(ve.length){var He=ve.reduce(function(mt,Et,Ve,At){return mt.length?t(t([],mt,!0),[K[At[Ve]].x],!1):[K[At[Ve]].x]},[]);if(Math.min.apply(Math,He)===K[$].x){var Ie=[];ve.forEach(function(mt){Ie.push(F[mt].toFixed(Y))}),Ee=Array.from(new Set(Ie.sort(function(mt,Et){return parseFloat(mt)-parseFloat(Et)}))).map(U).join(q);var ke=Math.min.apply(Math,He),at=Math.max.apply(Math,He),ct=ie[ve[He.indexOf(at)]].getBoundingClientRect().width;me.left="".concat(Math.abs(ke-(at+ct))/2,"px"),me.transform="translate(-50%, 0)"}else me.visibility="hidden"}X(Ee),V(me)}},[M,F]),[ge,B]};e.useThumbOverlap=T;function P(M,F,$,z){var q=M.getBoundingClientRect(),U=q.left,Y=q.top,R=q.width,B=q.height;return u(z)?Math.abs($-(Y+B/2)):Math.abs(F-(U+R/2))}var L=function(){var M,F=((M=navigator.userAgentData)===null||M===void 0?void 0:M.platform)||navigator.platform;return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(F)||navigator.userAgent.includes("Mac")&&"ontouchend"in document};e.isIOS=L})(av);var z3=Je&&Je.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),B3=Je&&Je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),H3=Je&&Je.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),U3=Je&&Je.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&B3(t,e,r);return H3(t,e),t},hw=Je&&Je.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(iv,"__esModule",{value:!0});var wc=U3(G),$e=av,$t=Cs,W3=["ArrowRight","ArrowUp","k","PageUp"],Y3=["ArrowLeft","ArrowDown","j","PageDown"],q3=function(e){z3(t,e);function t(r){var n=e.call(this,r)||this;if(n.trackRef=wc.createRef(),n.thumbRefs=[],n.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(n.props.values.length).fill(0).map(function(o,i){return i}),isChanged:!1,markOffsets:[]},n.getOffsets=function(){var o=n.props,i=o.direction,s=o.values,c=o.min,d=o.max,u=n.trackRef.current;if(!u)return console.warn("No track element found."),[];var a=u.getBoundingClientRect(),l=(0,$e.getPaddingAndBorder)(u);return n.getThumbs().map(function(f,p){var h={x:0,y:0},m=f.getBoundingClientRect(),w=(0,$e.getMargin)(f);switch(i){case $t.Direction.Right:return h.x=(w.left+l.left)*-1,h.y=((m.height-a.height)/2+l.top)*-1,h.x+=a.width*(0,$e.relativeValue)(s[p],c,d)-m.width/2,h;case $t.Direction.Left:return h.x=(w.right+l.right)*-1,h.y=((m.height-a.height)/2+l.top)*-1,h.x+=a.width-a.width*(0,$e.relativeValue)(s[p],c,d)-m.width/2,h;case $t.Direction.Up:return h.x=((m.width-a.width)/2+w.left+l.left)*-1,h.y=-l.left,h.y+=a.height-a.height*(0,$e.relativeValue)(s[p],c,d)-m.height/2,h;case $t.Direction.Down:return h.x=((m.width-a.width)/2+w.left+l.left)*-1,h.y=-l.left,h.y+=a.height*(0,$e.relativeValue)(s[p],c,d)-m.height/2,h;default:return(0,$e.assertUnreachable)(i)}})},n.getThumbs=function(){return n.trackRef&&n.trackRef.current?Array.from(n.trackRef.current.children).filter(function(o){return o.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},n.getTargetIndex=function(o){return n.getThumbs().findIndex(function(i){return i===o.target||i.contains(o.target)})},n.addTouchEvents=function(o){document.addEventListener("touchmove",n.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",n.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",n.schdOnEnd,{passive:!1})},n.addMouseEvents=function(o){document.addEventListener("mousemove",n.schdOnMouseMove),document.addEventListener("mouseup",n.schdOnEnd)},n.onMouseDownTrack=function(o){var i;if(!(o.button!==0||(0,$e.isIOS)()))if(o.persist(),o.preventDefault(),n.addMouseEvents(o.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some(function(c){var d;return(d=c.current)===null||d===void 0?void 0:d.contains(o.target)}))return;n.setState({draggedTrackPos:[o.clientX,o.clientY]},function(){return n.onMove(o.clientX,o.clientY)})}else{var s=(0,$e.getClosestThumbIndex)(n.thumbRefs.map(function(c){return c.current}),o.clientX,o.clientY,n.props.direction);(i=n.thumbRefs[s].current)===null||i===void 0||i.focus(),n.setState({draggedThumbIndex:s},function(){return n.onMove(o.clientX,o.clientY)})}},n.onResize=function(){(0,$e.translateThumbs)(n.getThumbs(),n.getOffsets(),n.props.rtl),n.calculateMarkOffsets()},n.onTouchStartTrack=function(o){var i;if(o.persist(),n.addTouchEvents(o.nativeEvent),n.props.values.length>1&&n.props.draggableTrack){if(n.thumbRefs.some(function(c){var d;return(d=c.current)===null||d===void 0?void 0:d.contains(o.target)}))return;n.setState({draggedTrackPos:[o.touches[0].clientX,o.touches[0].clientY]},function(){return n.onMove(o.touches[0].clientX,o.touches[0].clientY)})}else{var s=(0,$e.getClosestThumbIndex)(n.thumbRefs.map(function(c){return c.current}),o.touches[0].clientX,o.touches[0].clientY,n.props.direction);(i=n.thumbRefs[s].current)===null||i===void 0||i.focus(),n.setState({draggedThumbIndex:s},function(){return n.onMove(o.touches[0].clientX,o.touches[0].clientY)})}},n.onMouseOrTouchStart=function(o){if(!n.props.disabled){var i=(0,$e.isTouchEvent)(o);if(!(!i&&o.button!==0)){var s=n.getTargetIndex(o);s!==-1&&(i?n.addTouchEvents(o):n.addMouseEvents(o),n.setState({draggedThumbIndex:s,thumbZIndexes:n.state.thumbZIndexes.map(function(c,d){return d===s?Math.max.apply(Math,n.state.thumbZIndexes):c<=n.state.thumbZIndexes[s]?c:c-1})}))}}},n.onMouseMove=function(o){o.preventDefault(),n.onMove(o.clientX,o.clientY)},n.onTouchMove=function(o){o.preventDefault(),n.onMove(o.touches[0].clientX,o.touches[0].clientY)},n.onKeyDown=function(o){var i=n.props,s=i.values,c=i.onChange,d=i.step,u=i.rtl,a=i.direction,l=n.state.isChanged,f=n.getTargetIndex(o.nativeEvent),p=u||a===$t.Direction.Left||a===$t.Direction.Down?-1:1;f!==-1&&(W3.includes(o.key)?(o.preventDefault(),n.setState({draggedThumbIndex:f,isChanged:!0}),c((0,$e.replaceAt)(s,f,n.normalizeValue(s[f]+p*(o.key==="PageUp"?d*10:d),f)))):Y3.includes(o.key)?(o.preventDefault(),n.setState({draggedThumbIndex:f,isChanged:!0}),c((0,$e.replaceAt)(s,f,n.normalizeValue(s[f]-p*(o.key==="PageDown"?d*10:d),f)))):o.key==="Tab"?n.setState({draggedThumbIndex:-1},function(){l&&n.fireOnFinalChange()}):l&&n.fireOnFinalChange())},n.onKeyUp=function(o){var i=n.state.isChanged;n.setState({draggedThumbIndex:-1},function(){i&&n.fireOnFinalChange()})},n.onMove=function(o,i){var s=n.state,c=s.draggedThumbIndex,d=s.draggedTrackPos,u=n.props,a=u.direction,l=u.min,f=u.max,p=u.onChange,h=u.values,m=u.step,w=u.rtl;if(c===-1&&d[0]===-1&&d[1]===-1)return null;var y=n.trackRef.current;if(!y)return null;var v=y.getBoundingClientRect(),g=(0,$e.isVertical)(a)?v.height:v.width;if(d[0]!==-1&&d[1]!==-1){var b=o-d[0],k=i-d[1],E=0;switch(a){case $t.Direction.Right:case $t.Direction.Left:E=b/g*(f-l);break;case $t.Direction.Down:case $t.Direction.Up:E=k/g*(f-l);break;default:(0,$e.assertUnreachable)(a)}if(w&&(E*=-1),Math.abs(E)>=m/2){for(var C=0;C<n.thumbRefs.length;C++){if(h[C]===f&&Math.sign(E)===1||h[C]===l&&Math.sign(E)===-1)return;var S=h[C]+E;S>f?E=f-h[C]:S<l&&(E=l-h[C])}for(var T=h.slice(0),C=0;C<n.thumbRefs.length;C++)T=(0,$e.replaceAt)(T,C,n.normalizeValue(h[C]+E,C));n.setState({draggedTrackPos:[o,i]}),p(T)}}else{var P=0;switch(a){case $t.Direction.Right:P=(o-v.left)/g*(f-l)+l;break;case $t.Direction.Left:P=(g-(o-v.left))/g*(f-l)+l;break;case $t.Direction.Down:P=(i-v.top)/g*(f-l)+l;break;case $t.Direction.Up:P=(g-(i-v.top))/g*(f-l)+l;break;default:(0,$e.assertUnreachable)(a)}w&&(P=f+l-P),Math.abs(h[c]-P)>=m/2&&p((0,$e.replaceAt)(h,c,n.normalizeValue(P,c)))}},n.normalizeValue=function(o,i){var s=n.props,c=s.min,d=s.max,u=s.step,a=s.allowOverlap,l=s.values;return(0,$e.normalizeValue)(o,i,c,d,u,a,l)},n.onEnd=function(o){if(o.preventDefault(),document.removeEventListener("mousemove",n.schdOnMouseMove),document.removeEventListener("touchmove",n.schdOnTouchMove),document.removeEventListener("mouseup",n.schdOnEnd),document.removeEventListener("touchend",n.schdOnEnd),document.removeEventListener("touchcancel",n.schdOnEnd),n.state.draggedThumbIndex===-1&&n.state.draggedTrackPos[0]===-1&&n.state.draggedTrackPos[1]===-1)return null;n.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){n.fireOnFinalChange()})},n.fireOnFinalChange=function(){n.setState({isChanged:!1});var o=n.props,i=o.onFinalChange,s=o.values;i&&i(s)},n.updateMarkRefs=function(o){if(!o.renderMark){n.numOfMarks=void 0,n.markRefs=void 0;return}n.numOfMarks=(o.max-o.min)/n.props.step,n.markRefs=[];for(var i=0;i<n.numOfMarks+1;i++)n.markRefs[i]=wc.createRef()},n.calculateMarkOffsets=function(){if(!(!n.props.renderMark||!n.trackRef||!n.numOfMarks||!n.markRefs||n.trackRef.current===null)){for(var o=window.getComputedStyle(n.trackRef.current),i=parseInt(o.width,10),s=parseInt(o.height,10),c=parseInt(o.paddingLeft,10),d=parseInt(o.paddingTop,10),u=[],a=0;a<n.numOfMarks+1;a++){var l=9999,f=9999;if(n.markRefs[a].current){var p=n.markRefs[a].current.getBoundingClientRect();l=p.height,f=p.width}n.props.direction===$t.Direction.Left||n.props.direction===$t.Direction.Right?u.push([Math.round(i/n.numOfMarks*a+c-f/2),-Math.round((l-s)/2)]):u.push([Math.round(s/n.numOfMarks*a+d-l/2),-Math.round((f-i)/2)])}n.setState({markOffsets:u})}},r.step===0)throw new Error('"step" property should be a positive number');return n.schdOnMouseMove=(0,$e.schd)(n.onMouseMove),n.schdOnTouchMove=(0,$e.schd)(n.onTouchMove),n.schdOnEnd=(0,$e.schd)(n.onEnd),n.thumbRefs=r.values.map(function(){return wc.createRef()}),n.updateMarkRefs(r),n}return t.prototype.componentDidMount=function(){var r=this,n=this.props,o=n.values,i=n.min,s=n.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",r.onResize)},unobserve:function(){return window.removeEventListener("resize",r.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,$e.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(c){return(0,$e.checkBoundaries)(c,r.props.min,r.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,$e.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),o.forEach(function(c){(0,$e.isStepDivisible)(i,c,s)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},t.prototype.componentDidUpdate=function(r,n){var o=this.props,i=o.max,s=o.min,c=o.step,d=o.values,u=o.rtl;(r.max!==i||r.min!==s||r.step!==c)&&this.updateMarkRefs(this.props),(0,$e.translateThumbs)(this.getThumbs(),this.getOffsets(),u),(r.max!==i||r.min!==s||r.step!==c||n.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),d.forEach(function(a){(0,$e.isStepDivisible)(s,a,c)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentWillUnmount=function(){var r={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,r),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var r=this,n=this.props,o=n.label,i=n.labelledBy,s=n.renderTrack,c=n.renderThumb,d=n.renderMark,u=d===void 0?function(){return null}:d,a=n.values,l=n.min,f=n.max,p=n.allowOverlap,h=n.disabled,m=this.state,w=m.draggedThumbIndex,y=m.thumbZIndexes,v=m.markOffsets;return s({props:{style:{transform:"scale(1)",cursor:w>-1?"grabbing":this.props.draggableTrack?(0,$e.isVertical)(this.props.direction)?"ns-resize":"ew-resize":a.length===1&&!h?"pointer":"inherit"},onMouseDown:h?$e.voidFn:this.onMouseDownTrack,onTouchStart:h?$e.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:h,children:hw(hw([],v.map(function(g,b,k){return u({props:{style:r.props.direction===$t.Direction.Left||r.props.direction===$t.Direction.Right?{position:"absolute",left:"".concat(g[0],"px"),marginTop:"".concat(g[1],"px")}:{position:"absolute",top:"".concat(g[0],"px"),marginLeft:"".concat(g[1],"px")},key:"mark".concat(b),ref:r.markRefs[b]},index:b})}),!0),a.map(function(g,b){var k=r.state.draggedThumbIndex===b;return c({index:b,value:g,isDragged:k,props:{style:{position:"absolute",zIndex:y[b],cursor:h?"inherit":k?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:b,tabIndex:h?void 0:0,"aria-valuemax":p?f:a[b+1]||f,"aria-valuemin":p?l:a[b-1]||l,"aria-valuenow":g,draggable:!1,ref:r.thumbRefs[b],"aria-label":o,"aria-labelledby":i,role:"slider",onKeyDown:h?$e.voidFn:r.onKeyDown,onKeyUp:h?$e.voidFn:r.onKeyUp}})}),!0)})},t.defaultProps={label:"Accessibility label",labelledBy:null,step:1,direction:$t.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(wc.Component);iv.default=q3;(function(e){var t=Je&&Je.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var r=t(iv);e.Range=r.default;var n=av;Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return n.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return n.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return n.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return n.checkValuesAgainstBoundaries}});var o=Cs;Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return o.Direction}})})(ll);function V3({length:e,range:t,onChange:r}){const[n,o]=O.useState(t),[i,s]=O.useState([0,e]),d=Ae(h=>h.app.themeMode)=="dark"?"#00000080":"#f0f0f0";function u({props:h,children:m}){return N("div",{onMouseDown:h.onMouseDown,onTouchStart:h.onTouchStart,style:{...h.style,height:"12px",display:"flex",width:"100%",border:`10px solid ${d}`},children:N("div",{ref:h.ref,style:{height:"12px",width:"100%",borderRadius:"4px",background:ll.getTrackBackground({values:i,colors:["transparent","#548BF4","transparent"],min:0,max:e}),alignSelf:"center"},children:m})})}function a({props:h,children:m,isDragged:w,disabled:y}){return N("div",{onMouseDown:h.onMouseDown,onTouchStart:h.onTouchStart,style:{...h.style,height:"6px",width:"100%",backgroundColor:d},children:N("div",{ref:h.ref,style:{height:"5px",width:"100%",borderRadius:"4px",background:ll.getTrackBackground({values:n,colors:["transparent","#548BF4","transparent"],min:i[0],max:i[1]}),alignSelf:"center"},children:m})})}function l({props:h,index:m}){return G.createElement("div",{...h,key:h.key,style:{...h.style,height:"12px",width:"12px",backgroundColor:"#999",display:"flex",justifyContent:"center",alignItems:"center"}})}function f({props:h,index:m}){return G.createElement("div",{...h,key:h.key,style:{...h.style,height:"12px",width:"12px",backgroundColor:"#999",display:"flex",justifyContent:"center",alignItems:"center"}},N("div",{className:"text-sm",style:{position:"absolute",top:"-28px",color:"#fff",fontSize:"14px",padding:"2px 4px",borderRadius:"2px",backgroundColor:"#00000066"},children:ms(n[m])}))}function p(h){s(h);let m=[...n];h[0]>n[0]&&(m[0]=h[0],m[0]>m[1]&&(m[1]=m[0])),h[1]<n[1]&&(m[1]=h[1],m[1]<m[0]&&(m[0]=m[1])),o(m)}return Z("div",{className:"flex flex-col",style:{background:"var(--lx-gray-02,var(--ls-secondary-background-color,hsl(var(--popover)))) "},children:[N("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:N(ll.Range,{step:.1,min:0,max:e,values:i,draggableTrack:!0,onChange:p,onFinalChange:()=>{},renderTrack:u,renderThumb:l})}),Z("div",{className:"my-2 mt-5 flex items-center",children:[N(mw,{seconds:i[0]}),N("div",{className:"flex-grow mx-2",children:N(ll.Range,{label:"Select your value",step:.1,min:i[0],max:i[1],values:n,draggableTrack:!0,onChange:o,onFinalChange:r,renderTrack:a,renderThumb:f})}),N(mw,{seconds:i[1]})]})]})}function mw({seconds:e}){const t=ms(e);return N("span",{className:`text-gray-600 text-sm ${Kl}`,children:t})}var Ni=globalThis&&globalThis.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},bc=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r},ul,cl,$i;class Q3{constructor(t){ul.set(this,"npt"),cl.set(this,0),$i.set(this,1/0),typeof t=="string"&&this._parseString(t)}get format(){return Ni(this,ul)}set format(t){}get s(){return Ni(this,cl)}set s(t){if(typeof t=="string"&&(t=this._parseTimeString(t)),!Number.isFinite(t)||Number.isNaN(t))throw new TypeError("Start time is not a finite floating-point value: ${value}");bc(this,cl,t)}get e(){return Ni(this,$i)}set e(t){if(t===void 0){bc(this,$i,1/0);return}if(typeof t=="string"&&(t=this._parseTimeString(t)),Number.isNaN(t))throw new TypeError("End time is not a finite floating-point value: ${value}");bc(this,$i,t)}toString(){const t=Ni(this,$i)===1/0?"":Ni(this,$i);return`${Ni(this,ul)}:${Ni(this,cl)},${t}`}_parseString(t){const r="npt:";t.startsWith(r)&&(bc(this,ul,"npt"),t=t.slice(r.length));const[n,o]=t.split(",");n!==void 0&&(this.s=n),o===void 0||o===""||(this.e=o)}_parseTimeString(t){const r=(t+"").split(":");if(r.length===0)throw new TypeError("${string} is not in valid time format");let n=0;for(let o=0,i=r.length;o<i;o++)n+=Number(r[i-o-1])*Math.pow(60,o);return n}}ul=new WeakMap,cl=new WeakMap,$i=new WeakMap;class _u{flag;url;format;start;end;urlTimed;volume;rate;loop;constructor(t){this.flag=t.flag??":medx",this.url=t.url,this.format=t.format,this.start=t.start,this.end=t.end,this.urlTimed=t.urlTimed,this.volume=t.volume??1,this.rate=t.rate??1,this.loop=t.loop??!1}static parse(t){if(t.length<3)return null;let[r,n,o,i,s,c,d]=t,u,a,l=n;if(i){const f=new Q3(i.replace("-",","));u=parseFloat(f.s.toString()),a=parseFloat(f.e.toString()),a==1/0&&(a=void 0),o=="youtube"?(l=`https://www.youtube.com/embed/${n}?autoplay=0`,u&&(l=`${l}&start=${u}`),a&&(l=`${l}&end=${a}`)):l=`${n}#t=${f.toString().replace("npt:","")}`}return s=s?parseFloat(s):1,c=c?parseFloat(c):1,d=d?d=="true":!1,new this({flag:r,url:n,format:o,start:u,end:a,urlTimed:l,volume:s,rate:c,loop:d})}render(t=!0){let r="-";if(this.start||this.end){const i=this.start?ms(this.start):"",s=this.end?ms(this.end):"";r=`${i}-${s}`}const n=this.loop.toString(),o=`${this.flag}, ${this.url}, ${this.format}, ${r}, ${this.volume}, ${this.rate}, ${n}`;return t?`{{renderer ${o}}}`:o}createElement(){if(this.format=="audio")return N("audio",{controls:!0,src:this.urlTimed});if(this.format=="video")return N("video",{style:{maxWidth:400},controls:!0,src:this.urlTimed});if(this.format=="youtube"){const t=this.start||this.end?`https://www.youtube.com/embed/${this.url}?autoplay=0`:this.urlTimed;return N("iframe",{width:640,height:360,src:t})}return N(sr,{})}}function K3({block:e,slot:t,args:r}){const n=wn.fromBlock(e),o=O.useRef(null),i=O.useRef(null),s=O.useRef(null),[c,d]=O.useState(!1),[u,a]=O.useState([0,1]),[l,f]=O.useState(),[p,h]=O.useState(r.volume),[m,w]=O.useState(r.rate),[y,v]=O.useState(r.loop),[g,b]=O.useState(n.beta??new Yt(1,1)),[k,E]=O.useState(_l(g.mean)),C=O.useRef(""),S=r.format=="youtube"?`https://www.youtube.com/watch?v=${r.url}`:r.urlTimed,T={file:{forceVideo:r.format=="video",forceAudio:r.format=="audio"}};function P(){const U=n.beta??new Yt(1,1);b(U),E(_l(U.mean)),C.current="",i.current&&(i.current.value="")}function L(U){const Y=r.start??0,R=r.end??U;a([Y,R]),f(U),d(!0)}function M({played:U,playedSeconds:Y,loaded:R,loadedSeconds:B}){Y>=u[1]?(s.current?.seekTo(u[0]),d(y)):Y<=u[0]&&s.current?.seekTo(u[0])}function F(U){a(U)}async function $(U){const Y=K_(U,{currentBeta:g});b(Y);const R=_l(Y.mean);E(R)}async function z(){const U=new _u({flag:":medx_ref",url:r.url,format:r.format,volume:p,rate:m,loop:y,start:u[0],end:u[1]}),R=`${C.current==""?"":`${C.current} 
`}${U.render()} 
{{renderer :ib}}`,B=new Date;B.setDate(B.getDate()+k);const V={"ib-reps":0,"ib-a":g.a,"ib-b":g.b,"ib-due":B.getTime(),"ib-interval":k};await logseq.Editor.insertBlock(e.uuid,R,{properties:V,focus:!1}),P(),a([u[1],Math.min(u[1]+(u[1]-u[0]),length)])}let q;return l?q=Z(sr,{children:[N(V3,{length:l,range:u,onChange:F}),Z("div",{className:"flex mr-2",children:[Z("div",{className:"flex flex-col space-y-0.5",children:[Z("label",{className:"flex items-center justify-between",children:["Loop",N("input",{type:"checkbox",checked:y,onChange:()=>v(!y)})]}),Z("label",{className:"flex items-center justify-between",children:["Speed",N("input",{className:`${Ye} ${Re}`,type:"number",value:m,onChange:U=>w(parseFloat(U.target.value)),min:"0.1",max:"5",step:".1"})]}),Z("label",{className:"flex items-center justify-between",children:["Volume",N("input",{className:`${Ye} ${Re}`,type:"number",value:p,onChange:U=>h(parseFloat(U.target.value)),min:"0",max:"1",step:".1"})]})]}),N("label",{className:"w-full h-full ml-2",children:N("textarea",{ref:i,className:`w-full rounded p-1 ${Ye} ${Re}`,placeholder:"Note",rows:3,onChange:U=>C.current=U.target.value})})]}),Z("div",{className:"flex items-center",children:[N("p",{children:"Priority"}),N("div",{className:"w-full ml-1",children:N(zg,{beta:g,varianceSlider:!1,onMeanChange:$})}),N("p",{className:"ml-2",children:"Interval"}),N("input",{className:`w-16 ml-1 ${Re} ${Ye}`,type:"number",value:k,onChange:U=>E(parseFloat(U.target.value)),min:"1",step:"1"}),N("div",{className:"w-full"}),N("button",{className:"w-fit ml-2 mt-2 bg-blue-500 hover:bg-blue-400 text-white py-1 px-1 w-1/6 border-b-2 border-blue-700 hover:border-blue-500 rounded",onClick:z,children:"Extract"})]})]}):q=N("p",{children:"Loading..."}),Z("div",{ref:o,id:"ib-medx",className:`fixed flex flex-col rounded shadow-md p-2 text-sm sm:w-9/12 md:w-8/12 lg:w-7/12 ${Ye} ${Fg} ${Re}`,children:[N("div",{id:"medx-preview",className:"mb-1",children:N(Px,{ref:U=>s.current=U,width:"640px",height:r.format=="audio"?"2rem":"360px",url:S,playing:c,loop:y,controls:!0,volume:p,playbackRate:m,onPlay:()=>d(!0),onPause:()=>d(!1),onDuration:L,onProgress:M,config:T})}),N("hr",{className:"my-2 dark:border-gray-800"}),q]})}var sn=(e=>(e[e.main=0]="main",e[e.learn=1]="learn",e[e.ib=2]="ib",e[e.medx=3]="medx",e[e.insert=4]="insert",e))(sn||{});const G3={type:null},Ox=hu({name:"view",initialState:G3,reducers:{setView:(e,t)=>{e.type=t.payload.type,e.data=t.payload.data}}}),{setView:tr}=Ox.actions,xl=e=>async(t,r)=>{const n=r();if(e.viewType==null||n.view.type==e.viewType)t(tr({type:null})),logseq.hideMainUI();else if(e.viewType==0)n.learn.learning?t(tr({type:1})):t(tr({type:0})),logseq.showMainUI();else if(e.viewType==1)t(tr({type:1})),logseq.showMainUI();else if(e.viewType==2){if(!e.blockUuid||!e.slotId)return;if(n.learn.learning&&e.blockUuid==n.learn.current?.ib.uuid){logseq.UI.showMsg("Stop learning to update incremental blocks");return}const o=await logseq.Editor.getBlock(e.blockUuid);if(o){const i={block:o,slotId:e.slotId};t(tr({type:2,data:i})),logseq.showMainUI()}else logseq.UI.showMsg("Block not found.")}else if(e.viewType==3){if(!e.blockUuid||!e.slotId||!e.medArgs)return;const o=_u.parse(e.medArgs.split(","));if(o==null){logseq.UI.showMsg("Invalid media args");return}const i=await logseq.Editor.getBlock(e.blockUuid);if(i){const s={block:i,slotId:e.slotId,medArgs:o};t(tr({type:3,data:s})),logseq.showMainUI()}else logseq.UI.showMsg("Block not found.")}else if(e.viewType==4){if(!e.blockUuid)return;const o=await logseq.Editor.getBlock(e.blockUuid);o?(t(tr({type:4,data:{block:o}})),logseq.showMainUI()):logseq.UI.showMsg("Block not found.")}},j3=Ox.reducer;function gw(e){const t=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/,r=e.match(t);return r&&r?.length>=2?r[1]:null}function X3({block:e}){const t=O.useRef(null),r=Gt(),[n,o]=O.useState("audio"),[i,s]=O.useState(""),c=R2(i,300),d=G.useMemo(()=>{if(!c)return N(sr,{});if(n=="audio")return N("audio",{controls:!0,style:{width:640},src:i});if(n=="video")return N("video",{style:{width:640},controls:!0,src:i});if(n=="youtube"){const p=gw(i);return N("iframe",{width:640,height:360,src:`https://www.youtube.com/embed/${p}?autoplay=0`})}},[c,n]);function u(p){o(p.target.value)}function a(p){s(p)}function l(p){p.preventDefault();const h=p.dataTransfer.files;h.length>0&&s(h[0].path)}async function f(){const p=n=="youtube"?gw(i)??i:i;console.log(p,n);const h=new _u({url:p,format:n,volume:1,rate:1,loop:!1});await logseq.Editor.insertAtEditingCursor(h.render()),r(xl({viewType:null}))}return Z("div",{ref:t,id:"ib-insert",className:"fixed flex flex-col rounded-lg border bg-white shadow-md p-2",style:{minWidth:640},children:[Z("label",{children:["Path or URL",N("input",{className:"border w-full",type:"text",value:i,onChange:p=>a(p.target.value),onDrop:l})]}),Z("div",{className:"flex items-baseline justify-between",children:[Z("p",{children:[Z("label",{children:[N("input",{type:"radio",name:"format",value:"audio",checked:n=="audio",onChange:u}),"Audio"]}),Z("label",{className:"ml-1",children:[N("input",{type:"radio",name:"format",value:"video",checked:n=="video",onChange:u}),"Video"]}),Z("label",{className:"ml-1",children:[N("input",{type:"radio",name:"format",value:"youtube",checked:n=="youtube",onChange:u}),"Youtube"]})]}),N("button",{className:"w-fit mt-2 bg-blue-500 hover:bg-blue-400 text-white py-1 px-1 w-1/6 border-b-2 border-blue-700 hover:border-blue-500 rounded",onClick:f,children:"Insert"})]}),N("div",{className:"mt-2",children:d})]})}async function Z3({slot:e,payload:t}){const r=_u.parse(t.arguments);if(r==null)return;const n=r.flag.endsWith("_ref")&&(r.start||r.end),o=await Ag(),i=o?"text-gray-300":"text-gray-600",s=o?"bg-gray-700":"bg-gray-100/10";let c="";n&&(c=`
    <button
      class="flex ${s}"
      data-on-click="playRange"
      data-slot-id="${e}"
      data-media-url="${r.url}"
      data-macro-args="${t.arguments}"
    >
      <span>[${ms(r.start??0)}-${r.end?ms(r.end):"end"}]</span>
    </button>

    <button
      class="rounded-lg border flex items-center h-8 ml-2 ${s}"
      data-on-click="refToMedia" 
      data-block-uuid="${t.uuid}"
    >
      <span class="ti ti-code-plus text-base px-1"></span>
    </button>
    `);const d=`
  <div class="text-sm flex items-center ${i}">
    <div id="medx-player-${r.url}" class="medx-player flex"></div>

    ${c}
    
    <button
      class="rounded-lg border flex items-center h-8 ml-2 ${s}"
      data-on-click="toggleMedxPopover" 
      data-block-uuid="${t.uuid}"
      data-slot-id="${e}"
      data-macro-args="${t.arguments}"
    >
      <span class="ti ti-quote text-base px-1"></span>
    </button>
  </div>
  `;logseq.provideUI({key:e,slot:e,reset:!0,template:d}),n||setTimeout(()=>{const u=top?.document.querySelector(`#${e} .medx-player`);if(u)return Ix({playerDiv:u,args:r})},100)}function Ix({playerDiv:e,args:t,play:r=!1}){if(t.format=="youtube"){const n=pg(e),o=`https://www.youtube.com/watch?v=${t.url}`;n.render(N(Px,{url:o,playing:r,loop:t.loop,controls:!0,volume:t.volume,playbackRate:t.rate,config:{youtube:{playerVars:{start:t.start??void 0,end:t.end??void 0}}}}))}else{let n;if(t.format=="audio")n=new Audio(t.urlTimed);else if(t.format=="video")n=document.createElement("video"),n.src=t.urlTimed||t.url;else return;n.controls=!0,n.onloadedmetadata=function(){n.playbackRate=t.rate,n.loop=t.loop},n.oncanplay=function(){r&&n.play()},n.ontimeupdate=function(){t.end&&n.currentTime>=t.end&&(n.pause(),n.currentTime=t.start??0,t.loop&&n.play()),t.start&&n.currentTime<=t.start&&(n.currentTime=t.start)},e.replaceChildren(n)}}const J3={themeMode:"light"},Rx=hu({name:"app",initialState:J3,reducers:{themeModeChanged:(e,t)=>{e.themeMode=t.payload}}}),{themeModeChanged:vw}=Rx.actions,eA=fa("app/handleSettingsChanged",async(e,{getState:t,dispatch:r})=>{console.log(e),e.old.subsetQueries!=e.new.subsetQueries&&r(Xg())}),tA=Rx.reducer,nA={activeTab:"queue",busy:!1},Nx=hu({name:"main",initialState:nA,reducers:{tabSelected(e,t){e.activeTab=t.payload},gotBusy(e,t){e.busy=t.payload}},extraReducers:e=>{e.addCase(eo.pending,(t,r)=>{t.busy=!0}).addCase(eo.fulfilled,(t,r)=>{t.busy=!1}).addCase(eo.rejected,(t,r)=>{t.busy=!1})}}),{tabSelected:rA,gotBusy:yw}=Nx.actions,oA=Nx.reducer,Tf=0,yi=1,Es=2,Mx=4;function Lx(e,t){return r=>e(t(r))}function iA(e,t){return t(e)}function Ax(e,t){return r=>e(t,r)}function ww(e,t){return()=>e(t)}function Pf(e,t){return t(e),e}function ht(...e){return e}function aA(e){e()}function bw(e){return()=>e}function sA(...e){return()=>{e.map(aA)}}function sv(e){return e!==void 0}function Ds(){}function et(e,t){return e(yi,t)}function Pe(e,t){e(Tf,t)}function lv(e){e(Es)}function un(e){return e(Mx)}function be(e,t){return et(e,Ax(t,Tf))}function no(e,t){const r=e(yi,n=>{r(),t(n)});return r}function Be(){const e=[];return(t,r)=>{switch(t){case Es:e.splice(0,e.length);return;case yi:return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)};case Tf:e.slice().forEach(n=>{n(r)});return;default:throw new Error(`unrecognized action ${t}`)}}}function ae(e){let t=e;const r=Be();return(n,o)=>{switch(n){case yi:o(t);break;case Tf:t=o;break;case Mx:return t}return r(n,o)}}function lA(e){let t,r;const n=()=>t&&t();return function(o,i){switch(o){case yi:return i?r===i?void 0:(n(),r=i,t=et(e,i),t):(n(),Ds);case Es:n(),r=null;return;default:throw new Error(`unrecognized action ${o}`)}}}function qn(e){return Pf(Be(),t=>be(e,t))}function bn(e,t){return Pf(ae(t),r=>be(e,r))}function uA(...e){return t=>e.reduceRight(iA,t)}function J(e,...t){const r=uA(...t);return(n,o)=>{switch(n){case yi:return et(e,r(o));case Es:lv(e);return}}}function Fx(e,t){return e===t}function pt(e=Fx){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function xe(e){return t=>r=>{e(r)&&t(r)}}function pe(e){return t=>Lx(t,e)}function Yr(e){return t=>()=>t(e)}function Gr(e,t){return r=>n=>r(t=e(t,n))}function ys(e){return t=>r=>{e>0?e--:t(r)}}function Go(e){let t=null,r;return n=>o=>{t=o,!r&&(r=setTimeout(()=>{r=void 0,n(t)},e))}}function _w(e){let t,r;return n=>o=>{t=o,r&&clearTimeout(r),r=setTimeout(()=>{n(t)},e)}}function Me(...e){const t=new Array(e.length);let r=0,n=null;const o=Math.pow(2,e.length)-1;return e.forEach((i,s)=>{const c=Math.pow(2,s);et(i,d=>{const u=r;r=r|c,t[s]=d,u!==o&&r===o&&n&&(n(),n=null)})}),i=>s=>{const c=()=>i([s].concat(t));r===o?c():n=c}}function kw(...e){return function(t,r){switch(t){case yi:return sA(...e.map(n=>et(n,r)));case Es:return;default:throw new Error(`unrecognized action ${t}`)}}}function Ce(e,t=Fx){return J(e,pt(t))}function Vt(...e){const t=Be(),r=new Array(e.length);let n=0;const o=Math.pow(2,e.length)-1;return e.forEach((i,s)=>{const c=Math.pow(2,s);et(i,d=>{r[s]=d,n=n|c,n===o&&Pe(t,r)})}),function(i,s){switch(i){case yi:return n===o&&s(r),et(t,s);case Es:return lv(t);default:throw new Error(`unrecognized action ${i}`)}}}function nt(e,t=[],{singleton:r}={singleton:!0}){return{id:cA(),constructor:e,dependencies:t,singleton:r}}const cA=()=>Symbol();function dA(e){const t=new Map,r=({id:n,constructor:o,dependencies:i,singleton:s})=>{if(s&&t.has(n))return t.get(n);const c=o(i.map(d=>r(d)));return s&&t.set(n,c),c};return r(e)}function fA(e,t){const r={},n={};let o=0;const i=e.length;for(;o<i;)n[e[o]]=1,o+=1;for(const s in t)n.hasOwnProperty(s)||(r[s]=t[s]);return r}const _c=typeof document<"u"?O.useLayoutEffect:O.useEffect;function $x(e,t,r){const n=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),s=Object.keys(t.events||{}),c=O.createContext({});function d(y,v){y.propsReady&&Pe(y.propsReady,!1);for(const g of n){const b=y[t.required[g]];Pe(b,v[g])}for(const g of o)if(g in v){const b=y[t.optional[g]];Pe(b,v[g])}y.propsReady&&Pe(y.propsReady,!0)}function u(y){return i.reduce((v,g)=>(v[g]=b=>{const k=y[t.methods[g]];Pe(k,b)},v),{})}function a(y){return s.reduce((v,g)=>(v[g]=lA(y[t.events[g]]),v),{})}const l=O.forwardRef((y,v)=>{const{children:g,...b}=y,[k]=O.useState(()=>Pf(dA(e),C=>d(C,b))),[E]=O.useState(ww(a,k));return _c(()=>{for(const C of s)C in b&&et(E[C],b[C]);return()=>{Object.values(E).map(lv)}},[b,E,k]),_c(()=>{d(k,b)}),O.useImperativeHandle(v,bw(u(k))),O.createElement(c.Provider,{value:k},r?O.createElement(r,fA([...n,...o,...s],b),g):g)}),f=y=>O.useCallback(Ax(Pe,O.useContext(c)[y]),[y]),p=y=>{const g=O.useContext(c)[y],b=O.useCallback(k=>et(g,k),[g]);return O.useSyncExternalStore(b,()=>un(g),()=>un(g))},h=y=>{const g=O.useContext(c)[y],[b,k]=O.useState(ww(un,g));return _c(()=>et(g,E=>{E!==b&&k(bw(E))}),[g,b]),b},m=O.version.startsWith("18")?p:h;return{Component:l,usePublisher:f,useEmitterValue:m,useEmitter:(y,v)=>{const b=O.useContext(c)[y];_c(()=>et(b,v),[v,b])}}}const pA=typeof document<"u"?O.useLayoutEffect:O.useEffect,hA=pA;var Vn=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Vn||{});const mA={0:"debug",1:"log",2:"warn",3:"error"},gA=()=>typeof globalThis>"u"?window:globalThis,wi=nt(()=>{const e=ae(3);return{log:ae((r,n,o=1)=>{var i;const s=(i=gA().VIRTUOSO_LOG_LEVEL)!=null?i:un(e);o>=s&&console[mA[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",r,n)}),logLevel:e}},[],{singleton:!0});function uv(e,t,r){const n=O.useRef(null);let o=i=>{};if(typeof ResizeObserver<"u"){const i=O.useMemo(()=>new ResizeObserver(s=>{const c=()=>{const d=s[0].target;d.offsetParent!==null&&e(d)};r?c():requestAnimationFrame(c)}),[e]);o=s=>{s&&t?(i.observe(s),n.current=s):(n.current&&i.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function pa(e,t,r){return uv(e,t,r).callbackRef}function vA(e,t,r,n,o,i,s,c,d){const u=O.useCallback(a=>{const l=yA(a.children,t,c?"offsetWidth":"offsetHeight",o);let f=a.parentElement;for(;!f.dataset.virtuosoScroller;)f=f.parentElement;const p=f.lastElementChild.dataset.viewportType==="window",h=s?c?s.scrollLeft:s.scrollTop:p?c?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:c?f.scrollLeft:f.scrollTop,m=s?c?s.scrollWidth:s.scrollHeight:p?c?document.documentElement.scrollWidth:document.documentElement.scrollHeight:c?f.scrollWidth:f.scrollHeight,w=s?c?s.offsetWidth:s.offsetHeight:p?c?window.innerWidth:window.innerHeight:c?f.offsetWidth:f.offsetHeight;n({scrollTop:Math.max(h,0),scrollHeight:m,viewportHeight:w}),i?.(c?xw("column-gap",getComputedStyle(a).columnGap,o):xw("row-gap",getComputedStyle(a).rowGap,o)),l!==null&&e(l)},[e,t,o,i,s,n]);return uv(u,r,d)}function yA(e,t,r,n){const o=e.length;if(o===0)return null;const i=[];for(let s=0;s<o;s++){const c=e.item(s);if(!c||c.dataset.index===void 0)continue;const d=parseInt(c.dataset.index),u=parseFloat(c.dataset.knownSize),a=t(c,r);if(a===0&&n("Zero-sized element, this should not happen",{child:c},Vn.ERROR),a===u)continue;const l=i[i.length-1];i.length===0||l.size!==a||l.endIndex!==d-1?i.push({startIndex:d,endIndex:d,size:a}):i[i.length-1].endIndex++}return i}function xw(e,t,r){return t!=="normal"&&!t?.endsWith("px")&&r(`${e} was not resolved to pixel value correctly`,t,Vn.WARN),t==="normal"?0:parseInt(t??"0",10)}function pi(e,t){return Math.round(e.getBoundingClientRect()[t])}function zx(e,t){return Math.abs(e-t)<1.01}function Bx(e,t,r,n=Ds,o,i){const s=O.useRef(null),c=O.useRef(null),d=O.useRef(null),u=O.useCallback(f=>{const p=f.target,h=p===window||p===document,m=i?h?window.pageXOffset||document.documentElement.scrollLeft:p.scrollLeft:h?window.pageYOffset||document.documentElement.scrollTop:p.scrollTop,w=i?h?document.documentElement.scrollWidth:p.scrollWidth:h?document.documentElement.scrollHeight:p.scrollHeight,y=i?h?window.innerWidth:p.offsetWidth:h?window.innerHeight:p.offsetHeight,v=()=>{e({scrollTop:Math.max(m,0),scrollHeight:w,viewportHeight:y})};f.suppressFlushSync?v():t_.flushSync(v),c.current!==null&&(m===c.current||m<=0||m===w-y)&&(c.current=null,t(!0),d.current&&(clearTimeout(d.current),d.current=null))},[e,t]);O.useEffect(()=>{const f=o||s.current;return n(o||s.current),u({target:f,suppressFlushSync:!0}),f.addEventListener("scroll",u,{passive:!0}),()=>{n(null),f.removeEventListener("scroll",u)}},[s,u,r,n,o]);function a(f){const p=s.current;if(!p||(i?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const h=f.behavior==="smooth";let m,w,y;p===window?(w=Math.max(pi(document.documentElement,i?"width":"height"),i?document.documentElement.scrollWidth:document.documentElement.scrollHeight),m=i?window.innerWidth:window.innerHeight,y=i?document.documentElement.scrollLeft:document.documentElement.scrollTop):(w=p[i?"scrollWidth":"scrollHeight"],m=pi(p,i?"width":"height"),y=p[i?"scrollLeft":"scrollTop"]);const v=w-m;if(f.top=Math.ceil(Math.max(Math.min(v,f.top),0)),zx(m,w)||f.top===y){e({scrollTop:y,scrollHeight:w,viewportHeight:m}),h&&t(!0);return}h?(c.current=f.top,d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{d.current=null,c.current=null,t(!0)},1e3)):c.current=null,i&&(f={left:f.top,behavior:f.behavior}),p.scrollTo(f)}function l(f){i&&(f={left:f.top,behavior:f.behavior}),s.current.scrollBy(f)}return{scrollerRef:s,scrollByCallback:l,scrollToCallback:a}}const En=nt(()=>{const e=Be(),t=Be(),r=ae(0),n=Be(),o=ae(0),i=Be(),s=Be(),c=ae(0),d=ae(0),u=ae(0),a=ae(0),l=Be(),f=Be(),p=ae(!1),h=ae(!1),m=ae(!1);return be(J(e,pe(({scrollTop:w})=>w)),t),be(J(e,pe(({scrollHeight:w})=>w)),s),be(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:c,fixedHeaderHeight:d,fixedFooterHeight:u,footerHeight:a,scrollHeight:s,smoothScrollTargetReached:n,horizontalDirection:h,skipAnimationFrameInResizeObserver:m,scrollTo:l,scrollBy:f,statefulScrollTop:o,deviation:r,scrollingInProgress:p}},[],{singleton:!0}),Zl={lvl:0};function Hx(e,t,r,n=Zl,o=Zl){return{k:e,v:t,lvl:r,l:n,r:o}}function rt(e){return e===Zl}function es(){return Zl}function pm(e,t){if(rt(e))return Zl;const{k:r,l:n,r:o}=e;if(t===r){if(rt(n))return o;if(rt(o))return n;{const[i,s]=Ux(n);return Yc(Bt(e,{k:i,v:s,l:Wx(n)}))}}else return t<r?Yc(Bt(e,{l:pm(n,t)})):Yc(Bt(e,{r:pm(o,t)}))}function Jl(e,t){if(!rt(e))return t===e.k?e.v:t<e.k?Jl(e.l,t):Jl(e.r,t)}function Mr(e,t,r="k"){if(rt(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){const n=Mr(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return Mr(e.l,t,r)}function Bn(e,t,r){return rt(e)?Hx(t,r,1):t===e.k?Bt(e,{k:t,v:r}):t<e.k?Cw(Bt(e,{l:Bn(e.l,t,r)})):Cw(Bt(e,{r:Bn(e.r,t,r)}))}function hm(e,t,r){if(rt(e))return[];const{k:n,v:o,l:i,r:s}=e;let c=[];return n>t&&(c=c.concat(hm(i,t,r))),n>=t&&n<=r&&c.push({k:n,v:o}),n<=r&&(c=c.concat(hm(s,t,r))),c}function Wi(e){return rt(e)?[]:[...Wi(e.l),{k:e.k,v:e.v},...Wi(e.r)]}function Ux(e){return rt(e.r)?[e.k,e.v]:Ux(e.r)}function Wx(e){return rt(e.r)?e.l:Yc(Bt(e,{r:Wx(e.r)}))}function Bt(e,t){return Hx(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function qp(e){return rt(e)||e.lvl>e.r.lvl}function Cw(e){return mm(qx(e))}function Yc(e){const{l:t,r,lvl:n}=e;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if(qp(t))return qx(Bt(e,{lvl:n-1}));if(!rt(t)&&!rt(t.r))return Bt(t.r,{l:Bt(t,{r:t.r.l}),r:Bt(e,{l:t.r.r,lvl:n-1}),lvl:n});throw new Error("Unexpected empty nodes")}else{if(qp(e))return mm(Bt(e,{lvl:n-1}));if(!rt(r)&&!rt(r.l)){const o=r.l,i=qp(o)?r.lvl-1:r.lvl;return Bt(o,{l:Bt(e,{r:o.l,lvl:n-1}),r:mm(Bt(r,{l:o.r,lvl:i})),lvl:o.lvl+1})}else throw new Error("Unexpected empty nodes")}}function Of(e,t,r){if(rt(e))return[];const n=Mr(e,t)[0];return wA(hm(e,n,r))}function Yx(e,t){const r=e.length;if(r===0)return[];let{index:n,value:o}=t(e[0]);const i=[];for(let s=1;s<r;s++){const{index:c,value:d}=t(e[s]);i.push({start:n,end:c-1,value:o}),n=c,o=d}return i.push({start:n,end:1/0,value:o}),i}function wA(e){return Yx(e,({k:t,v:r})=>({index:t,value:r}))}function mm(e){const{r:t,lvl:r}=e;return!rt(t)&&!rt(t.r)&&t.lvl===r&&t.r.lvl===r?Bt(t,{l:Bt(e,{r:t.l}),lvl:r+1}):e}function qx(e){const{l:t}=e;return!rt(t)&&t.lvl===e.lvl?Bt(t,{r:Bt(e,{l:t.r})}):e}function Bd(e,t,r,n=0){let o=e.length-1;for(;n<=o;){const i=Math.floor((n+o)/2),s=e[i],c=r(s,t);if(c===0)return i;if(c===-1){if(o-n<2)return i-1;o=i-1}else{if(o===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Vx(e,t,r){return e[Bd(e,t,r)]}function bA(e,t,r,n){const o=Bd(e,t,n),i=Bd(e,r,n,o);return e.slice(o,i+1)}const cv=nt(()=>({recalcInProgress:ae(!1)}),[],{singleton:!0});function _A(e){const{size:t,startIndex:r,endIndex:n}=e;return o=>o.start===r&&(o.end===n||o.end===1/0)&&o.value===t}function Ew(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function kA(e,t){let r=rt(e)?0:1/0;for(const n of t){const{size:o,startIndex:i,endIndex:s}=n;if(r=Math.min(r,i),rt(e)){e=Bn(e,0,o);continue}const c=Of(e,i-1,s+1);if(c.some(_A(n)))continue;let d=!1,u=!1;for(const{start:a,end:l,value:f}of c)d?(s>=a||o===f)&&(e=pm(e,a)):(u=f!==o,d=!0),l>s&&s>=a&&f!==o&&(e=Bn(e,s+1,f));u&&(e=Bn(e,i,o))}return[e,r]}function xA(){return{offsetTree:[],sizeTree:es(),groupOffsetTree:es(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function dv({index:e},t){return t===e?0:t<e?-1:1}function CA({offset:e},t){return t===e?0:t<e?-1:1}function EA(e){return{index:e.index,value:e}}function DA(e,t,r,n=0){return n>0&&(t=Math.max(t,Vx(e,n,dv).offset)),Yx(bA(e,t,r,CA),EA)}function gm(e,t,r,n){let o=e,i=0,s=0,c=0,d=0;if(t!==0){d=Bd(o,t-1,dv),c=o[d].offset;const a=Mr(r,t-1);i=a[0],s=a[1],o.length&&o[d].size===Mr(r,t)[1]&&(d-=1),o=o.slice(0,d+1)}else o=[];for(const{start:u,value:a}of Of(r,t,1/0)){const l=u-i,f=l*s+c+l*n;o.push({offset:f,size:a,index:u}),i=u,c=f,s=a}return{offsetTree:o,lastIndex:i,lastOffset:c,lastSize:s}}function SA(e,[t,r,n,o]){t.length>0&&n("received item sizes",t,Vn.DEBUG);const i=e.sizeTree;let s=i,c=0;if(r.length>0&&rt(i)&&t.length===2){const f=t[0].size,p=t[1].size;s=r.reduce((h,m)=>Bn(Bn(h,m,f),m+1,p),s)}else[s,c]=kA(s,t);if(s===i)return e;const{offsetTree:d,lastIndex:u,lastSize:a,lastOffset:l}=gm(e.offsetTree,c,s,o);return{sizeTree:s,offsetTree:d,lastIndex:u,lastOffset:l,lastSize:a,groupOffsetTree:r.reduce((f,p)=>Bn(f,p,eu(p,d,o)),es()),groupIndices:r}}function eu(e,t,r){if(t.length===0)return 0;const{offset:n,index:o,size:i}=Vx(t,e,dv),s=e-o,c=i*s+(s-1)*r+n;return c>0?c+r:c}function TA(e){return typeof e.groupIndex<"u"}function Qx(e,t,r){if(TA(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?r:e.index;let o=Kx(n,t);return o=Math.max(0,o,Math.min(r,o)),o}}function Kx(e,t){if(!If(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function If(e){return!rt(e.groupOffsetTree)}function PA(e){return Wi(e).map(({k:t,v:r},n,o)=>{const i=o[n+1],s=i?i.k-1:1/0;return{startIndex:t,endIndex:s,size:r}})}const OA={offsetHeight:"height",offsetWidth:"width"},ro=nt(([{log:e},{recalcInProgress:t}])=>{const r=Be(),n=Be(),o=bn(n,0),i=Be(),s=Be(),c=ae(0),d=ae([]),u=ae(void 0),a=ae(void 0),l=ae((k,E)=>pi(k,OA[E])),f=ae(void 0),p=ae(0),h=xA(),m=bn(J(r,Me(d,e,p),Gr(SA,h),pt()),h),w=bn(J(d,pt(),Gr((k,E)=>({prev:k.current,current:E}),{prev:[],current:[]}),pe(({prev:k})=>k)),[]);be(J(d,xe(k=>k.length>0),Me(m,p),pe(([k,E,C])=>{const S=k.reduce((T,P,L)=>Bn(T,P,eu(P,E.offsetTree,C)||L),es());return{...E,groupIndices:k,groupOffsetTree:S}})),m),be(J(n,Me(m),xe(([k,{lastIndex:E}])=>k<E),pe(([k,{lastIndex:E,lastSize:C}])=>[{startIndex:k,endIndex:E,size:C}])),r),be(u,a);const y=bn(J(u,pe(k=>k===void 0)),!0);be(J(a,xe(k=>k!==void 0&&rt(un(m).sizeTree)),pe(k=>[{startIndex:0,endIndex:0,size:k}])),r);const v=qn(J(r,Me(m),Gr(({sizes:k},[E,C])=>({changed:C!==k,sizes:C}),{changed:!1,sizes:h}),pe(k=>k.changed)));et(J(c,Gr((k,E)=>({diff:k.prev-E,prev:E}),{diff:0,prev:0}),pe(k=>k.diff)),k=>{const{groupIndices:E}=un(m);if(k>0)Pe(t,!0),Pe(i,k+Ew(k,E));else if(k<0){const C=un(w);C.length>0&&(k-=Ew(-k,C)),Pe(s,k)}}),et(J(c,Me(e)),([k,E])=>{k<0&&E("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:c},Vn.ERROR)});const g=qn(i);be(J(i,Me(m),pe(([k,E])=>{const C=E.groupIndices.length>0,S=[],T=E.lastSize;if(C){const P=Jl(E.sizeTree,0);let L=0,M=0;for(;L<k;){const z=E.groupIndices[M],q=E.groupIndices.length===M+1?1/0:E.groupIndices[M+1]-z-1;S.push({startIndex:z,endIndex:z,size:P}),S.push({startIndex:z+1,endIndex:z+1+q-1,size:T}),M++,L+=q+1}const F=Wi(E.sizeTree);return L!==k&&F.shift(),F.reduce((z,{k:q,v:U})=>{let Y=z.ranges;return z.prevSize!==0&&(Y=[...z.ranges,{startIndex:z.prevIndex,endIndex:q+k-1,size:z.prevSize}]),{ranges:Y,prevIndex:q+k,prevSize:U}},{ranges:S,prevIndex:k,prevSize:0}).ranges}return Wi(E.sizeTree).reduce((P,{k:L,v:M})=>({ranges:[...P.ranges,{startIndex:P.prevIndex,endIndex:L+k-1,size:P.prevSize}],prevIndex:L+k,prevSize:M}),{ranges:[],prevIndex:0,prevSize:T}).ranges})),r);const b=qn(J(s,Me(m,p),pe(([k,{offsetTree:E},C])=>{const S=-k;return eu(S,E,C)})));return be(J(s,Me(m,p),pe(([k,E,C])=>{if(E.groupIndices.length>0){if(rt(E.sizeTree))return E;let T=es();const P=un(w);let L=0,M=0,F=0;for(;L<-k;){F=P[M];const z=P[M+1]-F-1;M++,L+=z+1}if(T=Wi(E.sizeTree).reduce((z,{k:q,v:U})=>Bn(z,Math.max(0,q+k),U),T),L!==-k){const z=Jl(E.sizeTree,F);T=Bn(T,0,z);const q=Mr(E.sizeTree,-k+1)[1];T=Bn(T,1,q)}return{...E,sizeTree:T,...gm(E.offsetTree,0,T,C)}}else{const T=Wi(E.sizeTree).reduce((P,{k:L,v:M})=>Bn(P,Math.max(0,L+k),M),es());return{...E,sizeTree:T,...gm(E.offsetTree,0,T,C)}}})),m),{data:f,totalCount:n,sizeRanges:r,groupIndices:d,defaultItemSize:a,fixedItemSize:u,unshiftWith:i,shiftWith:s,shiftWithOffset:b,beforeUnshiftWith:g,firstItemIndex:c,gap:p,sizes:m,listRefresh:v,statefulTotalCount:o,trackItemSizes:y,itemSize:l}},ht(wi,cv),{singleton:!0}),IA=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Gx(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!IA)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const ku=nt(([{sizes:e,totalCount:t,listRefresh:r,gap:n},{scrollingInProgress:o,viewportHeight:i,scrollTo:s,smoothScrollTargetReached:c,headerHeight:d,footerHeight:u,fixedHeaderHeight:a,fixedFooterHeight:l},{log:f}])=>{const p=Be(),h=Be(),m=ae(0);let w=null,y=null,v=null;function g(){w&&(w(),w=null),v&&(v(),v=null),y&&(clearTimeout(y),y=null),Pe(o,!1)}return be(J(p,Me(e,i,t,m,d,u,f),Me(n,a,l),pe(([[b,k,E,C,S,T,P,L],M,F,$])=>{const z=Gx(b),{align:q,behavior:U,offset:Y}=z,R=C-1,B=Qx(z,k,R);let V=eu(B,k.offsetTree,M)+T;q==="end"?(V+=F+Mr(k.sizeTree,B)[1]-E+$,B===R&&(V+=P)):q==="center"?V+=(F+Mr(k.sizeTree,B)[1]-E+$)/2:V-=S,Y&&(V+=Y);const re=ge=>{g(),ge?(L("retrying to scroll to",{location:b},Vn.DEBUG),Pe(p,b)):(Pe(h,!0),L("list did not change, scroll successful",{},Vn.DEBUG))};if(g(),U==="smooth"){let ge=!1;v=et(r,X=>{ge=ge||X}),w=no(c,()=>{re(ge)})}else w=no(J(r,RA(150)),re);return y=setTimeout(()=>{g()},1200),Pe(o,!0),L("scrolling from index to",{index:B,top:V,behavior:U},Vn.DEBUG),{top:V,behavior:U}})),s),{scrollToIndex:p,scrollTargetReached:h,topListHeight:m}},ht(ro,En,wi),{singleton:!0});function RA(e){return t=>{const r=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(r))}}}const tu="up",Cl="down",NA="none",MA={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},LA=0,xu=nt(([{scrollContainerState:e,scrollTop:t,viewportHeight:r,headerHeight:n,footerHeight:o,scrollBy:i}])=>{const s=ae(!1),c=ae(!0),d=Be(),u=Be(),a=ae(4),l=ae(LA),f=bn(J(kw(J(Ce(t),ys(1),Yr(!0)),J(Ce(t),ys(1),Yr(!1),_w(100))),pt()),!1),p=bn(J(kw(J(i,Yr(!0)),J(i,Yr(!1),_w(200))),pt()),!1);be(J(Vt(Ce(t),Ce(l)),pe(([v,g])=>v<=g),pt()),c),be(J(c,Go(50)),u);const h=qn(J(Vt(e,Ce(r),Ce(n),Ce(o),Ce(a)),Gr((v,[{scrollTop:g,scrollHeight:b},k,E,C,S])=>{const T=g+k-b>-S,P={viewportHeight:k,scrollTop:g,scrollHeight:b};if(T){let M,F;return g>v.state.scrollTop?(M="SCROLLED_DOWN",F=v.state.scrollTop-g):(M="SIZE_DECREASED",F=v.state.scrollTop-g||v.scrollTopDelta),{atBottom:!0,state:P,atBottomBecause:M,scrollTopDelta:F}}let L;return P.scrollHeight>v.state.scrollHeight?L="SIZE_INCREASED":k<v.state.viewportHeight?L="VIEWPORT_HEIGHT_DECREASING":g<v.state.scrollTop?L="SCROLLING_UPWARDS":L="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:L,state:P}},MA),pt((v,g)=>v&&v.atBottom===g.atBottom))),m=bn(J(e,Gr((v,{scrollTop:g,scrollHeight:b,viewportHeight:k})=>{if(zx(v.scrollHeight,b))return{scrollTop:g,scrollHeight:b,jump:0,changed:!1};{const E=b-(g+k)<1;return v.scrollTop!==g&&E?{scrollHeight:b,scrollTop:g,jump:v.scrollTop-g,changed:!0}:{scrollHeight:b,scrollTop:g,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),xe(v=>v.changed),pe(v=>v.jump)),0);be(J(h,pe(v=>v.atBottom)),s),be(J(s,Go(50)),d);const w=ae(Cl);be(J(e,pe(({scrollTop:v})=>v),pt(),Gr((v,g)=>un(p)?{direction:v.direction,prevScrollTop:g}:{direction:g<v.prevScrollTop?tu:Cl,prevScrollTop:g},{direction:Cl,prevScrollTop:0}),pe(v=>v.direction)),w),be(J(e,Go(50),Yr(NA)),w);const y=ae(0);return be(J(f,xe(v=>!v),Yr(0)),y),be(J(t,Go(100),Me(f),xe(([v,g])=>!!g),Gr(([v,g],[b])=>[g,b],[0,0]),pe(([v,g])=>g-v)),y),{isScrolling:f,isAtTop:c,isAtBottom:s,atBottomState:h,atTopStateChange:u,atBottomStateChange:d,scrollDirection:w,atBottomThreshold:a,atTopThreshold:l,scrollVelocity:y,lastJumpDueToItemResize:m}},ht(En)),bi=nt(([{log:e}])=>{const t=ae(!1),r=qn(J(t,xe(n=>n),pt()));return et(t,n=>{n&&un(e)("props updated",{},Vn.DEBUG)}),{propsReady:t,didMount:r}},ht(wi),{singleton:!0});function fv(e,t){e==0?t():requestAnimationFrame(()=>fv(e-1,t))}function pv(e,t){const r=t-1;return typeof e=="number"?e:e.index==="LAST"?r:e.index}const Cu=nt(([{sizes:e,listRefresh:t,defaultItemSize:r},{scrollTop:n},{scrollToIndex:o,scrollTargetReached:i},{didMount:s}])=>{const c=ae(!0),d=ae(0),u=ae(!0);return be(J(s,Me(d),xe(([a,l])=>!!l),Yr(!1)),c),be(J(s,Me(d),xe(([a,l])=>!!l),Yr(!1)),u),et(J(Vt(t,s),Me(c,e,r,u),xe(([[,a],l,{sizeTree:f},p,h])=>a&&(!rt(f)||sv(p))&&!l&&!h),Me(d)),([,a])=>{no(i,()=>{Pe(u,!0)}),fv(4,()=>{no(n,()=>{Pe(c,!0)}),Pe(o,a)})}),{scrolledToInitialItem:c,initialTopMostItemIndex:d,initialItemFinalLocationReached:u}},ht(ro,En,ku,bi),{singleton:!0});function Dw(e){return e?e==="smooth"?"smooth":"auto":!1}const AA=(e,t)=>typeof e=="function"?Dw(e(t)):t&&Dw(e),FA=nt(([{totalCount:e,listRefresh:t},{isAtBottom:r,atBottomState:n},{scrollToIndex:o},{scrolledToInitialItem:i},{propsReady:s,didMount:c},{log:d},{scrollingInProgress:u}])=>{const a=ae(!1),l=Be();let f=null;function p(m){Pe(o,{index:"LAST",align:"end",behavior:m})}et(J(Vt(J(Ce(e),ys(1)),c),Me(Ce(a),r,i,u),pe(([[m,w],y,v,g,b])=>{let k=w&&g,E="auto";return k&&(E=AA(y,v||b),k=k&&!!E),{totalCount:m,shouldFollow:k,followOutputBehavior:E}}),xe(({shouldFollow:m})=>m)),({totalCount:m,followOutputBehavior:w})=>{f&&(f(),f=null),f=no(t,()=>{un(d)("following output to ",{totalCount:m},Vn.DEBUG),p(w),f=null})});function h(m){const w=no(n,y=>{m&&!y.atBottom&&y.notAtBottomBecause==="SIZE_INCREASED"&&!f&&(un(d)("scrolling to bottom due to increased size",{},Vn.DEBUG),p("auto"))});setTimeout(w,100)}return et(J(Vt(Ce(a),e,s),xe(([m,,w])=>m&&w),Gr(({value:m},[,w])=>({refreshed:m===w,value:w}),{refreshed:!1,value:0}),xe(({refreshed:m})=>m),Me(a,e)),([,m])=>{un(i)&&h(m!==!1)}),et(l,()=>{h(un(a)!==!1)}),et(Vt(Ce(a),n),([m,w])=>{m&&!w.atBottom&&w.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{followOutput:a,autoscrollToBottom:l}},ht(ro,xu,ku,Cu,bi,wi,En));function $A(e){return e.reduce((t,r)=>(t.groupIndices.push(t.totalCount),t.totalCount+=r+1,t),{totalCount:0,groupIndices:[]})}const jx=nt(([{totalCount:e,groupIndices:t,sizes:r},{scrollTop:n,headerHeight:o}])=>{const i=Be(),s=Be(),c=qn(J(i,pe($A)));return be(J(c,pe(d=>d.totalCount)),e),be(J(c,pe(d=>d.groupIndices)),t),be(J(Vt(n,r,o),xe(([d,u])=>If(u)),pe(([d,u,a])=>Mr(u.groupOffsetTree,Math.max(d-a,0),"v")[0]),pt(),pe(d=>[d])),s),{groupCounts:i,topItemsIndexes:s}},ht(ro,En));function nu(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function Xx(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const Hd="top",Ud="bottom",Sw="none";function Tw(e,t,r){return typeof e=="number"?r===tu&&t===Hd||r===Cl&&t===Ud?e:0:r===tu?t===Hd?e.main:e.reverse:t===Ud?e.main:e.reverse}function Pw(e,t){return typeof e=="number"?e:e[t]||0}const hv=nt(([{scrollTop:e,viewportHeight:t,deviation:r,headerHeight:n,fixedHeaderHeight:o}])=>{const i=Be(),s=ae(0),c=ae(0),d=ae(0),u=bn(J(Vt(Ce(e),Ce(t),Ce(n),Ce(i,nu),Ce(d),Ce(s),Ce(o),Ce(r),Ce(c)),pe(([a,l,f,[p,h],m,w,y,v,g])=>{const b=a-v,k=w+y,E=Math.max(f-b,0);let C=Sw;const S=Pw(g,Hd),T=Pw(g,Ud);return p-=v,p+=f+y,h+=f+y,h-=v,p>a+k-S&&(C=tu),h<a-E+l+T&&(C=Cl),C!==Sw?[Math.max(b-f-Tw(m,Hd,C)-S,0),b-E-y+l+Tw(m,Ud,C)+T]:null}),xe(a=>a!=null),pt(nu)),[0,0]);return{listBoundary:i,overscan:d,topListHeight:s,increaseViewportBy:c,visibleRange:u}},ht(En),{singleton:!0});function zA(e,t,r){if(If(t)){const n=Kx(e,t);return[{index:Mr(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:e,size:0,offset:0,data:r&&r[0]}]}const Vp={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function Ow(e,t,r){if(e.length===0)return[];if(!If(t))return e.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=e[0].index,o=e[e.length-1].index,i=[],s=Of(t.groupOffsetTree,n,o);let c,d=0;for(const u of e){(!c||c.end<u.index)&&(c=s.shift(),d=t.groupIndices.indexOf(c.start));let a;u.index===c.start?a={type:"group",index:d}:a={index:u.index-(d+1)+r,groupIndex:d},i.push({...a,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return i}function qc(e,t,r,n,o,i){const{lastSize:s,lastOffset:c,lastIndex:d}=o;let u=0,a=0;if(e.length>0){u=e[0].offset;const m=e[e.length-1];a=m.offset+m.size}const l=r-d,f=c+l*s+(l-1)*n,p=u,h=f-a;return{items:Ow(e,o,i),topItems:Ow(t,o,i),topListHeight:t.reduce((m,w)=>w.size+m,0),offsetTop:u,offsetBottom:h,top:p,bottom:a,totalCount:r,firstItemIndex:i}}function Zx(e,t,r,n,o,i){let s=0;if(r.groupIndices.length>0)for(const a of r.groupIndices){if(a-s>=e)break;s++}const c=e+s,d=pv(t,c),u=Array.from({length:c}).map((a,l)=>({index:l+d,size:0,offset:0,data:i[l+d]}));return qc(u,[],c,o,r,n)}const ha=nt(([{sizes:e,totalCount:t,data:r,firstItemIndex:n,gap:o},i,{visibleRange:s,listBoundary:c,topListHeight:d},{scrolledToInitialItem:u,initialTopMostItemIndex:a},{topListHeight:l},f,{didMount:p},{recalcInProgress:h}])=>{const m=ae([]),w=ae(0),y=Be();be(i.topItemsIndexes,m);const v=bn(J(Vt(p,h,Ce(s,nu),Ce(t),Ce(e),Ce(a),u,Ce(m),Ce(n),Ce(o),r),xe(([E,C,,S,,,,,,,T])=>{const P=T&&T.length!==S;return E&&!C&&!P}),pe(([,,[E,C],S,T,P,L,M,F,$,z])=>{const q=T,{sizeTree:U,offsetTree:Y}=q,R=un(w);if(S===0)return{...Vp,totalCount:S};if(E===0&&C===0)return R===0?{...Vp,totalCount:S}:Zx(R,P,T,F,$,z||[]);if(rt(U))return R>0?null:qc(zA(pv(P,S),q,z),[],S,$,q,F);const B=[];if(M.length>0){const ie=M[0],me=M[M.length-1];let K=0;for(const ve of Of(U,ie,me)){const Ee=ve.value,He=Math.max(ve.start,ie),Ie=Math.min(ve.end,me);for(let ke=He;ke<=Ie;ke++)B.push({index:ke,size:Ee,offset:K,data:z&&z[ke]}),K+=Ee}}if(!L)return qc([],B,S,$,q,F);const V=M.length>0?M[M.length-1]+1:0,re=DA(Y,E,C,V);if(re.length===0)return null;const ge=S-1,X=Pf([],ie=>{for(const me of re){const K=me.value;let ve=K.offset,Ee=me.start;const He=K.size;if(K.offset<E){Ee+=Math.floor((E-K.offset+$)/(He+$));const ke=Ee-me.start;ve+=ke*He+ke*$}Ee<V&&(ve+=(V-Ee)*He,Ee=V);const Ie=Math.min(me.end,ge);for(let ke=Ee;ke<=Ie&&!(ve>=C);ke++)ie.push({index:ke,size:He,offset:ve,data:z&&z[ke]}),ve+=He+$}});return qc(X,B,S,$,q,F)}),xe(E=>E!==null),pt()),Vp);be(J(r,xe(sv),pe(E=>E?.length)),t),be(J(v,pe(E=>E.topListHeight)),l),be(l,d),be(J(v,pe(E=>[E.top,E.bottom])),c),be(J(v,pe(E=>E.items)),y);const g=qn(J(v,xe(({items:E})=>E.length>0),Me(t,r),xe(([{items:E},C])=>E[E.length-1].originalIndex===C-1),pe(([,E,C])=>[E-1,C]),pt(nu),pe(([E])=>E))),b=qn(J(v,Go(200),xe(({items:E,topItems:C})=>E.length>0&&E[0].originalIndex===C.length),pe(({items:E})=>E[0].index),pt())),k=qn(J(v,xe(({items:E})=>E.length>0),pe(({items:E})=>{let C=0,S=E.length-1;for(;E[C].type==="group"&&C<S;)C++;for(;E[S].type==="group"&&S>C;)S--;return{startIndex:E[C].index,endIndex:E[S].index}}),pt(Xx)));return{listState:v,topItemsIndexes:m,endReached:g,startReached:b,rangeChanged:k,itemsRendered:y,initialItemCount:w,...f}},ht(ro,jx,hv,Cu,ku,xu,bi,cv),{singleton:!0}),BA=nt(([{sizes:e,firstItemIndex:t,data:r,gap:n},{initialTopMostItemIndex:o},{initialItemCount:i,listState:s},{didMount:c}])=>(be(J(c,Me(i),xe(([,d])=>d!==0),Me(o,e,t,n,r),pe(([[,d],u,a,l,f,p=[]])=>Zx(d,u,a,l,f,p))),s),{}),ht(ro,Cu,ha,bi),{singleton:!0}),Jx=nt(([{scrollVelocity:e}])=>{const t=ae(!1),r=Be(),n=ae(!1);return be(J(e,Me(n,t,r),xe(([o,i])=>!!i),pe(([o,i,s,c])=>{const{exit:d,enter:u}=i;if(s){if(d(o,c))return!1}else if(u(o,c))return!0;return s}),pt()),t),et(J(Vt(t,e,r),Me(n)),([[o,i,s],c])=>o&&c&&c.change&&c.change(i,s)),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:r}},ht(xu),{singleton:!0}),HA=nt(([{topItemsIndexes:e}])=>{const t=ae(0);return be(J(t,xe(r=>r>0),pe(r=>Array.from({length:r}).map((n,o)=>o))),e),{topItemCount:t}},ht(ha)),eC=nt(([{footerHeight:e,headerHeight:t,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:o}])=>{const i=Be(),s=bn(J(Vt(e,n,t,r,o),pe(([c,d,u,a,l])=>c+d+u+a+l.offsetBottom+l.bottom)),0);return be(Ce(s),i),{totalListHeight:s,totalListHeightChanged:i}},ht(En,ha),{singleton:!0});function tC(e){let t=!1,r;return()=>(t||(t=!0,r=e()),r)}const UA=tC(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),WA=nt(([{scrollBy:e,scrollTop:t,deviation:r,scrollingInProgress:n},{isScrolling:o,isAtBottom:i,scrollDirection:s,lastJumpDueToItemResize:c},{listState:d},{beforeUnshiftWith:u,shiftWithOffset:a,sizes:l,gap:f},{log:p},{recalcInProgress:h}])=>{const m=qn(J(d,Me(c),Gr(([,y,v,g],[{items:b,totalCount:k,bottom:E,offsetBottom:C},S])=>{const T=E+C;let P=0;return v===k&&y.length>0&&b.length>0&&(b[0].originalIndex===0&&y[0].originalIndex===0||(P=T-g,P!==0&&(P+=S))),[P,b,k,T]},[0,[],0,0]),xe(([y])=>y!==0),Me(t,s,n,i,p,h),xe(([,y,v,g,,,b])=>!b&&!g&&y!==0&&v===tu),pe(([[y],,,,,v])=>(v("Upward scrolling compensation",{amount:y},Vn.DEBUG),y))));function w(y){y>0?(Pe(e,{top:-y,behavior:"auto"}),Pe(r,0)):(Pe(r,0),Pe(e,{top:-y,behavior:"auto"}))}return et(J(m,Me(r,o)),([y,v,g])=>{g&&UA()?Pe(r,v-y):w(-y)}),et(J(Vt(bn(o,!1),r,h),xe(([y,v,g])=>!y&&!g&&v!==0),pe(([y,v])=>v),Go(1)),w),be(J(a,pe(y=>({top:-y}))),e),et(J(u,Me(l,f),pe(([y,{lastSize:v,groupIndices:g,sizeTree:b},k])=>{function E(C){return C*(v+k)}if(g.length===0)return E(y);{let C=0;const S=Jl(b,0);let T=0,P=0;for(;T<y;){T++,C+=S;let L=g.length===P+1?1/0:g[P+1]-g[P]-1;T+L>y&&(C-=S,L=y-T+1),T+=L,C+=E(L),P++}return C}})),y=>{Pe(r,y),requestAnimationFrame(()=>{Pe(e,{top:y}),requestAnimationFrame(()=>{Pe(r,0),Pe(h,!1)})})}),{deviation:r}},ht(En,xu,ha,ro,wi,cv)),YA=nt(([{didMount:e},{scrollTo:t},{listState:r}])=>{const n=ae(0);return et(J(e,Me(n),xe(([,o])=>o!==0),pe(([,o])=>({top:o}))),o=>{no(J(r,ys(1),xe(i=>i.items.length>1)),()=>{requestAnimationFrame(()=>{Pe(t,o)})})}),{initialScrollTop:n}},ht(bi,En,ha),{singleton:!0}),qA=nt(([{viewportHeight:e},{totalListHeight:t}])=>{const r=ae(!1),n=bn(J(Vt(r,e,t),xe(([o])=>o),pe(([,o,i])=>Math.max(0,o-i)),Go(0),pt()),0);return{alignToBottom:r,paddingTopAddition:n}},ht(En,eC),{singleton:!0}),mv=nt(([{scrollTo:e,scrollContainerState:t}])=>{const r=Be(),n=Be(),o=Be(),i=ae(!1),s=ae(void 0);return be(J(Vt(r,n),pe(([{viewportHeight:c,scrollTop:d,scrollHeight:u},{offsetTop:a}])=>({scrollTop:Math.max(0,d-a),scrollHeight:u,viewportHeight:c}))),t),be(J(e,Me(n),pe(([c,{offsetTop:d}])=>({...c,top:c.top+d}))),o),{useWindowScroll:i,customScrollParent:s,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:o}},ht(En)),VA=({itemTop:e,itemBottom:t,viewportTop:r,viewportBottom:n,locationParams:{behavior:o,align:i,...s}})=>e<r?{...s,behavior:o,align:i??"start"}:t>n?{...s,behavior:o,align:i??"end"}:null,QA=nt(([{sizes:e,totalCount:t,gap:r},{scrollTop:n,viewportHeight:o,headerHeight:i,fixedHeaderHeight:s,fixedFooterHeight:c,scrollingInProgress:d},{scrollToIndex:u}])=>{const a=Be();return be(J(a,Me(e,o,t,i,s,c,n),Me(r),pe(([[l,f,p,h,m,w,y,v],g])=>{const{done:b,behavior:k,align:E,calculateViewLocation:C=VA,...S}=l,T=Qx(l,f,h-1),P=eu(T,f.offsetTree,g)+m+w,L=P+Mr(f.sizeTree,T)[1],M=v+w,F=v+p-y,$=C({itemTop:P,itemBottom:L,viewportTop:M,viewportBottom:F,locationParams:{behavior:k,align:E,...S}});return $?b&&no(J(d,xe(z=>z===!1),ys(un(d)?1:2)),b):b&&b(),$}),xe(l=>l!==null)),u),{scrollIntoView:a}},ht(ro,En,ku,ha,wi),{singleton:!0}),KA=nt(([{sizes:e,sizeRanges:t},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:o},{didMount:i},{useWindowScroll:s,windowScrollContainerState:c,windowViewportRect:d}])=>{const u=Be(),a=ae(void 0),l=ae(null),f=ae(null);return be(c,l),be(d,f),et(J(u,Me(e,r,s,l,f,n)),([p,h,m,w,y,v,g])=>{const b=PA(h.sizeTree);w&&y!==null&&v!==null&&(m=y.scrollTop-v.offsetTop),m-=g,p({ranges:b,scrollTop:m})}),be(J(a,xe(sv),pe(GA)),o),be(J(i,Me(a),xe(([,p])=>p!==void 0),pt(),pe(([,p])=>p.ranges)),t),{getState:u,restoreStateFrom:a}},ht(ro,En,Cu,bi,mv));function GA(e){return{offset:e.scrollTop,index:0,align:"start"}}const jA=nt(([e,t,r,n,o,i,s,c,d,u])=>({...e,...t,...r,...n,...o,...i,...s,...c,...d,...u}),ht(hv,BA,bi,Jx,eC,YA,qA,mv,QA,wi)),XA=nt(([{totalCount:e,sizeRanges:t,fixedItemSize:r,defaultItemSize:n,trackItemSizes:o,itemSize:i,data:s,firstItemIndex:c,groupIndices:d,statefulTotalCount:u,gap:a,sizes:l},{initialTopMostItemIndex:f,scrolledToInitialItem:p,initialItemFinalLocationReached:h},m,w,y,{listState:v,topItemsIndexes:g,...b},{scrollToIndex:k},E,{topItemCount:C},{groupCounts:S},T])=>(be(b.rangeChanged,T.scrollSeekRangeChanged),be(J(T.windowViewportRect,pe(P=>P.visibleHeight)),m.viewportHeight),{totalCount:e,data:s,firstItemIndex:c,sizeRanges:t,initialTopMostItemIndex:f,scrolledToInitialItem:p,initialItemFinalLocationReached:h,topItemsIndexes:g,topItemCount:C,groupCounts:S,fixedItemHeight:r,defaultItemHeight:n,gap:a,...y,statefulTotalCount:u,listState:v,scrollToIndex:k,trackItemSizes:o,itemSize:i,groupIndices:d,...b,...T,...m,sizes:l,...w}),ht(ro,Cu,En,KA,FA,ha,ku,WA,HA,jx,jA)),Qp="-webkit-sticky",Iw="sticky",nC=tC(()=>{if(typeof document>"u")return Iw;const e=document.createElement("div");return e.style.position=Qp,e.style.position===Qp?Qp:Iw});function rC(e,t,r){const n=O.useRef(null),o=O.useCallback(d=>{if(d===null||!d.offsetParent)return;const u=d.getBoundingClientRect(),a=u.width;let l,f;if(t){const p=t.getBoundingClientRect(),h=u.top-p.top;l=p.height-Math.max(0,h),f=h+t.scrollTop}else l=window.innerHeight-Math.max(0,u.top),f=u.top+window.pageYOffset;n.current={offsetTop:f,visibleHeight:l,visibleWidth:a},e(n.current)},[e,t]),{callbackRef:i,ref:s}=uv(o,!0,r),c=O.useCallback(()=>{o(s.current)},[o,s]);return O.useEffect(()=>{if(t){t.addEventListener("scroll",c);const d=new ResizeObserver(()=>{requestAnimationFrame(c)});return d.observe(t),()=>{t.removeEventListener("scroll",c),d.unobserve(t)}}else return window.addEventListener("scroll",c),window.addEventListener("resize",c),()=>{window.removeEventListener("scroll",c),window.removeEventListener("resize",c)}},[c,t]),i}const oC=O.createContext(void 0),iC=O.createContext(void 0);function aC(e){return e}const ZA=nt(()=>{const e=ae(d=>`Item ${d}`),t=ae(null),r=ae(d=>`Group ${d}`),n=ae({}),o=ae(aC),i=ae("div"),s=ae(Ds),c=(d,u=null)=>bn(J(n,pe(a=>a[d]),pt()),u);return{context:t,itemContent:e,groupContent:r,components:n,computeItemKey:o,headerFooterTag:i,scrollerRef:s,FooterComponent:c("Footer"),HeaderComponent:c("Header"),TopItemListComponent:c("TopItemList"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),GroupComponent:c("Group","div"),ScrollerComponent:c("Scroller","div"),EmptyPlaceholder:c("EmptyPlaceholder"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder")}}),JA=nt(([e,t])=>({...e,...t}),ht(XA,ZA)),eF=({height:e})=>O.createElement("div",{style:{height:e}}),tF={position:nC(),zIndex:1,overflowAnchor:"none"},sC={overflowAnchor:"none"},nF={...sC,display:"inline-block",height:"100%"},Rw=O.memo(function({showTopList:t=!1}){const r=De("listState"),n=ir("sizeRanges"),o=De("useWindowScroll"),i=De("customScrollParent"),s=ir("windowScrollContainerState"),c=ir("scrollContainerState"),d=i||o?s:c,u=De("itemContent"),a=De("context"),l=De("groupContent"),f=De("trackItemSizes"),p=De("itemSize"),h=De("log"),m=ir("gap"),w=De("horizontalDirection"),{callbackRef:y}=vA(n,p,f,t?Ds:d,h,m,i,w,De("skipAnimationFrameInResizeObserver")),[v,g]=O.useState(0);gv("deviation",z=>{v!==z&&g(z)});const b=De("EmptyPlaceholder"),k=De("ScrollSeekPlaceholder")||eF,E=De("ListComponent"),C=De("ItemComponent"),S=De("GroupComponent"),T=De("computeItemKey"),P=De("isSeeking"),L=De("groupIndices").length>0,M=De("alignToBottom"),F=De("initialItemFinalLocationReached"),$=t?{}:{boxSizing:"border-box",...w?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:r.offsetTop,paddingRight:r.offsetBottom,marginLeft:v!==0?v:M?"auto":0}:{marginTop:v!==0?v:M?"auto":0,paddingTop:r.offsetTop,paddingBottom:r.offsetBottom},...F?{}:{visibility:"hidden"}};return!t&&r.totalCount===0&&b?O.createElement(b,gn(b,a)):O.createElement(E,{...gn(E,a),ref:y,style:$,"data-testid":t?"virtuoso-top-item-list":"virtuoso-item-list"},(t?r.topItems:r.items).map(z=>{const q=z.originalIndex,U=T(q+r.firstItemIndex,z.data,a);return P?O.createElement(k,{...gn(k,a),key:U,index:z.index,height:z.size,type:z.type||"item",...z.type==="group"?{}:{groupIndex:z.groupIndex}}):z.type==="group"?O.createElement(S,{...gn(S,a),key:U,"data-index":q,"data-known-size":z.size,"data-item-index":z.index,style:tF},l(z.index,a)):O.createElement(C,{...gn(C,a),...aF(C,z.data),key:U,"data-index":q,"data-known-size":z.size,"data-item-index":z.index,"data-item-group-index":z.groupIndex,style:w?nF:sC},L?u(z.index,z.groupIndex,z.data,a):u(z.index,z.data,a))}))}),rF={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},oF={outline:"none",overflowX:"auto",position:"relative"},Rf=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}}),iF={width:"100%",position:nC(),top:0,zIndex:1};function gn(e,t){if(typeof e!="string")return{context:t}}function aF(e,t){return{item:typeof e=="string"?void 0:t}}const sF=O.memo(function(){const t=De("HeaderComponent"),r=ir("headerHeight"),n=De("headerFooterTag"),o=pa(O.useMemo(()=>s=>r(pi(s,"height")),[r]),!0,De("skipAnimationFrameInResizeObserver")),i=De("context");return t?O.createElement(n,{ref:o},O.createElement(t,gn(t,i))):null}),lF=O.memo(function(){const t=De("FooterComponent"),r=ir("footerHeight"),n=De("headerFooterTag"),o=pa(O.useMemo(()=>s=>r(pi(s,"height")),[r]),!0,De("skipAnimationFrameInResizeObserver")),i=De("context");return t?O.createElement(n,{ref:o},O.createElement(t,gn(t,i))):null});function lC({usePublisher:e,useEmitter:t,useEmitterValue:r}){return O.memo(function({style:i,children:s,...c}){const d=e("scrollContainerState"),u=r("ScrollerComponent"),a=e("smoothScrollTargetReached"),l=r("scrollerRef"),f=r("context"),p=r("horizontalDirection")||!1,{scrollerRef:h,scrollByCallback:m,scrollToCallback:w}=Bx(d,a,u,l,void 0,p);t("scrollTo",w),t("scrollBy",m);const y=p?oF:rF;return O.createElement(u,{ref:h,style:{...y,...i},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...c,...gn(u,f)},s)})}function uC({usePublisher:e,useEmitter:t,useEmitterValue:r}){return O.memo(function({style:i,children:s,...c}){const d=e("windowScrollContainerState"),u=r("ScrollerComponent"),a=e("smoothScrollTargetReached"),l=r("totalListHeight"),f=r("deviation"),p=r("customScrollParent"),h=r("context"),{scrollerRef:m,scrollByCallback:w,scrollToCallback:y}=Bx(d,a,u,Ds,p);return hA(()=>(m.current=p||window,()=>{m.current=null}),[m,p]),t("windowScrollTo",y),t("scrollBy",w),O.createElement(u,{style:{position:"relative",...i,...l!==0?{height:l+f}:{}},"data-virtuoso-scroller":!0,...c,...gn(u,h)},s)})}const uF=({children:e})=>{const t=O.useContext(oC),r=ir("viewportHeight"),n=ir("fixedItemHeight"),o=De("alignToBottom"),i=De("horizontalDirection"),s=O.useMemo(()=>Lx(r,d=>pi(d,i?"width":"height")),[r,i]),c=pa(s,!0,De("skipAnimationFrameInResizeObserver"));return O.useEffect(()=>{t&&(r(t.viewportHeight),n(t.itemHeight))},[t,r,n]),O.createElement("div",{style:Rf(o),ref:c,"data-viewport-type":"element"},e)},cF=({children:e})=>{const t=O.useContext(oC),r=ir("windowViewportRect"),n=ir("fixedItemHeight"),o=De("customScrollParent"),i=rC(r,o,De("skipAnimationFrameInResizeObserver")),s=De("alignToBottom");return O.useEffect(()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,r,n]),O.createElement("div",{ref:i,style:Rf(s),"data-viewport-type":"window"},e)},dF=({children:e})=>{const t=De("TopItemListComponent")||"div",r=De("headerHeight"),n={...iF,marginTop:`${r}px`},o=De("context");return O.createElement(t,{style:n,...gn(t,o)},e)},fF=O.memo(function(t){const r=De("useWindowScroll"),n=De("topItemsIndexes").length>0,o=De("customScrollParent"),i=o||r?hF:pF,s=o||r?cF:uF;return O.createElement(i,{...t},n&&O.createElement(dF,null,O.createElement(Rw,{showTopList:!0})),O.createElement(s,null,O.createElement(sF,null),O.createElement(Rw,null),O.createElement(lF,null)))}),{Component:cC,usePublisher:ir,useEmitterValue:De,useEmitter:gv}=$x(JA,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},fF),pF=lC({usePublisher:ir,useEmitterValue:De,useEmitter:gv}),hF=uC({usePublisher:ir,useEmitterValue:De,useEmitter:gv}),Nf=cC,mF=cC,Nw={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},gF={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Mw,ceil:Lw,floor:Wd,min:Kp,max:El}=Math;function vF(e){return{...gF,items:e}}function Aw(e,t,r){return Array.from({length:t-e+1}).map((n,o)=>{const i=r===null?null:r[o+e];return{index:o+e,data:i}})}function yF(e,t){return e&&e.column===t.column&&e.row===t.row}function kc(e,t){return e&&e.width===t.width&&e.height===t.height}const wF=nt(([{overscan:e,visibleRange:t,listBoundary:r},{scrollTop:n,viewportHeight:o,scrollBy:i,scrollTo:s,smoothScrollTargetReached:c,scrollContainerState:d,footerHeight:u,headerHeight:a},l,f,{propsReady:p,didMount:h},{windowViewportRect:m,useWindowScroll:w,customScrollParent:y,windowScrollContainerState:v,windowScrollTo:g},b])=>{const k=ae(0),E=ae(0),C=ae(Nw),S=ae({height:0,width:0}),T=ae({height:0,width:0}),P=Be(),L=Be(),M=ae(0),F=ae(null),$=ae({row:0,column:0}),z=Be(),q=Be(),U=ae(!1),Y=ae(0),R=ae(!0),B=ae(!1),V=ae(!1);et(J(h,Me(Y),xe(([K,ve])=>!!ve)),()=>{Pe(R,!1),Pe(E,0)}),et(J(Vt(h,R,T,S,Y,B),xe(([K,ve,Ee,He,,Ie])=>K&&!ve&&Ee.height!==0&&He.height!==0&&!Ie)),([,,,,K])=>{Pe(B,!0),fv(1,()=>{Pe(P,K)}),no(J(n),()=>{Pe(r,[0,0]),Pe(R,!0)})}),be(J(q,xe(K=>K!=null&&K.scrollTop>0),Yr(0)),E),et(J(h,Me(q),xe(([,K])=>K!=null)),([,K])=>{K&&(Pe(S,K.viewport),Pe(T,K?.item),Pe($,K.gap),K.scrollTop>0&&(Pe(U,!0),no(J(n,ys(1)),ve=>{Pe(U,!1)}),Pe(s,{top:K.scrollTop})))}),be(J(S,pe(({height:K})=>K)),o),be(J(Vt(Ce(S,kc),Ce(T,kc),Ce($,(K,ve)=>K&&K.column===ve.column&&K.row===ve.row),Ce(n)),pe(([K,ve,Ee,He])=>({viewport:K,item:ve,gap:Ee,scrollTop:He}))),z),be(J(Vt(Ce(k),t,Ce($,yF),Ce(T,kc),Ce(S,kc),Ce(F),Ce(E),Ce(U),Ce(R),Ce(Y)),xe(([,,,,,,,K])=>!K),pe(([K,[ve,Ee],He,Ie,ke,at,ct,,mt,Et])=>{const{row:Ve,column:At}=He,{height:Zn,width:_i}=Ie,{width:Dn}=ke;if(ct===0&&(K===0||Dn===0))return Nw;if(_i===0){const ye=pv(Et,K),Te=ye===0?Math.max(ct-1,0):ye;return vF(Aw(ye,Te,at))}const dn=dC(Dn,_i,At);let hr,mr;mt?ve===0&&Ee===0&&ct>0?(hr=0,mr=ct-1):(hr=dn*Wd((ve+Ve)/(Zn+Ve)),mr=dn*Lw((Ee+Ve)/(Zn+Ve))-1,mr=Kp(K-1,El(mr,dn-1)),hr=Kp(mr,El(0,hr))):(hr=0,mr=-1);const ma=Aw(hr,mr,at),{top:Lr,bottom:ga}=Fw(ke,He,Ie,ma),ki=Lw(K/dn),ue=ki*Zn+(ki-1)*Ve-ga;return{items:ma,offsetTop:Lr,offsetBottom:ue,top:Lr,bottom:ga,itemHeight:Zn,itemWidth:_i}})),C),be(J(F,xe(K=>K!==null),pe(K=>K.length)),k),be(J(Vt(S,T,C,$),xe(([K,ve,{items:Ee}])=>Ee.length>0&&ve.height!==0&&K.height!==0),pe(([K,ve,{items:Ee},He])=>{const{top:Ie,bottom:ke}=Fw(K,He,ve,Ee);return[Ie,ke]}),pt(nu)),r);const re=ae(!1);be(J(n,Me(re),pe(([K,ve])=>ve||K!==0)),re);const ge=qn(J(Ce(C),xe(({items:K})=>K.length>0),Me(k,re),xe(([{items:K},ve,Ee])=>Ee&&K[K.length-1].index===ve-1),pe(([,K])=>K-1),pt())),X=qn(J(Ce(C),xe(({items:K})=>K.length>0&&K[0].index===0),Yr(0),pt())),ie=qn(J(Ce(C),Me(U),xe(([{items:K},ve])=>K.length>0&&!ve),pe(([{items:K}])=>({startIndex:K[0].index,endIndex:K[K.length-1].index})),pt(Xx),Go(0)));be(ie,f.scrollSeekRangeChanged),be(J(P,Me(S,T,k,$),pe(([K,ve,Ee,He,Ie])=>{const ke=Gx(K),{align:at,behavior:ct,offset:mt}=ke;let Et=ke.index;Et==="LAST"&&(Et=He-1),Et=El(0,Et,Kp(He-1,Et));let Ve=vm(ve,Ie,Ee,Et);return at==="end"?Ve=Mw(Ve-ve.height+Ee.height):at==="center"&&(Ve=Mw(Ve-ve.height/2+Ee.height/2)),mt&&(Ve+=mt),{top:Ve,behavior:ct}})),s);const me=bn(J(C,pe(K=>K.offsetBottom+K.bottom)),0);return be(J(m,pe(K=>({width:K.visibleWidth,height:K.visibleHeight}))),S),{data:F,totalCount:k,viewportDimensions:S,itemDimensions:T,scrollTop:n,scrollHeight:L,overscan:e,scrollBy:i,scrollTo:s,scrollToIndex:P,smoothScrollTargetReached:c,windowViewportRect:m,windowScrollTo:g,useWindowScroll:w,customScrollParent:y,windowScrollContainerState:v,deviation:M,scrollContainerState:d,footerHeight:u,headerHeight:a,initialItemCount:E,gap:$,restoreStateFrom:q,...f,initialTopMostItemIndex:Y,horizontalDirection:V,gridState:C,totalListHeight:me,...l,startReached:X,endReached:ge,rangeChanged:ie,stateChanged:z,propsReady:p,stateRestoreInProgress:U,...b}},ht(hv,En,xu,Jx,bi,mv,wi));function Fw(e,t,r,n){const{height:o}=r;if(o===void 0||n.length===0)return{top:0,bottom:0};const i=vm(e,t,r,n[0].index),s=vm(e,t,r,n[n.length-1].index)+o;return{top:i,bottom:s}}function vm(e,t,r,n){const o=dC(e.width,r.width,t.column),i=Wd(n/o),s=i*r.height+El(0,i-1)*t.row;return s>0?s+t.row:s}function dC(e,t,r){return El(1,Wd((e+r)/(Wd(t)+r)))}const bF=nt(()=>{const e=ae(u=>`Item ${u}`),t=ae({}),r=ae(null),n=ae("virtuoso-grid-item"),o=ae("virtuoso-grid-list"),i=ae(aC),s=ae("div"),c=ae(Ds),d=(u,a=null)=>bn(J(t,pe(l=>l[u]),pt()),a);return{context:r,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:o,headerFooterTag:s,scrollerRef:c,FooterComponent:d("Footer"),HeaderComponent:d("Header"),ListComponent:d("List","div"),ItemComponent:d("Item","div"),ScrollerComponent:d("Scroller","div"),ScrollSeekPlaceholder:d("ScrollSeekPlaceholder","div")}}),_F=nt(([e,t])=>({...e,...t}),ht(wF,bF)),kF=O.memo(function(){const t=vt("gridState"),r=vt("listClassName"),n=vt("itemClassName"),o=vt("itemContent"),i=vt("computeItemKey"),s=vt("isSeeking"),c=Or("scrollHeight"),d=vt("ItemComponent"),u=vt("ListComponent"),a=vt("ScrollSeekPlaceholder"),l=vt("context"),f=Or("itemDimensions"),p=Or("gap"),h=vt("log"),m=vt("stateRestoreInProgress"),w=pa(O.useMemo(()=>y=>{const v=y.parentElement.parentElement.scrollHeight;c(v);const g=y.firstChild;if(g){const{width:b,height:k}=g.getBoundingClientRect();f({width:b,height:k})}p({row:$w("row-gap",getComputedStyle(y).rowGap,h),column:$w("column-gap",getComputedStyle(y).columnGap,h)})},[c,f,p,h]),!0,!1);return m?null:O.createElement(u,{ref:w,className:r,...gn(u,l),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-testid":"virtuoso-item-list"},t.items.map(y=>{const v=i(y.index,y.data,l);return s?O.createElement(a,{key:v,...gn(a,l),index:y.index,height:t.itemHeight,width:t.itemWidth}):O.createElement(d,{...gn(d,l),className:n,"data-index":y.index,key:v},o(y.index,y.data,l))}))}),xF=O.memo(function(){const t=vt("HeaderComponent"),r=Or("headerHeight"),n=vt("headerFooterTag"),o=pa(O.useMemo(()=>s=>r(pi(s,"height")),[r]),!0,!1),i=vt("context");return t?O.createElement(n,{ref:o},O.createElement(t,gn(t,i))):null}),CF=O.memo(function(){const t=vt("FooterComponent"),r=Or("footerHeight"),n=vt("headerFooterTag"),o=pa(O.useMemo(()=>s=>r(pi(s,"height")),[r]),!0,!1),i=vt("context");return t?O.createElement(n,{ref:o},O.createElement(t,gn(t,i))):null}),EF=({children:e})=>{const t=O.useContext(iC),r=Or("itemDimensions"),n=Or("viewportDimensions"),o=pa(O.useMemo(()=>i=>{n(i.getBoundingClientRect())},[n]),!0,!1);return O.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))},[t,n,r]),O.createElement("div",{style:Rf(!1),ref:o},e)},DF=({children:e})=>{const t=O.useContext(iC),r=Or("windowViewportRect"),n=Or("itemDimensions"),o=vt("customScrollParent"),i=rC(r,o,!1);return O.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,r,n]),O.createElement("div",{ref:i,style:Rf(!1)},e)},SF=O.memo(function({...t}){const r=vt("useWindowScroll"),n=vt("customScrollParent"),o=n||r?PF:TF,i=n||r?DF:EF;return O.createElement(o,{...t},O.createElement(i,null,O.createElement(xF,null),O.createElement(kF,null),O.createElement(CF,null)))}),{Component:i4,usePublisher:Or,useEmitterValue:vt,useEmitter:fC}=$x(_F,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},SF),TF=lC({usePublisher:Or,useEmitterValue:vt,useEmitter:fC}),PF=uC({usePublisher:Or,useEmitterValue:vt,useEmitter:fC});function $w(e,t,r){return t!=="normal"&&!t?.endsWith("px")&&r(`${e} was not resolved to pixel value correctly`,t,Vn.WARN),t==="normal"?0:parseInt(t??"0",10)}function Mf({qib:e,nChars:t}){let r=e.content;r&&(r=r.split(`
`)[0],t&&r.length>t&&(r=r.substring(0,t)+"..."));const n=I2(Hc,1-e.priority);return Z("div",{className:`flex items-baseline cursor-pointer ${Ye.hover} w-full text-sm`,onClick:()=>logseq.App.pushState("page",{name:e.uuid}),children:[Z("span",{className:"w-12 text-xs text-center font-medium m-1 px-1 py-0.5 rounded dark:text-gray-600",style:{backgroundColor:n},children:[(e.priority*100).toFixed(2),"%"]}),N("span",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:r})]})}function zw({options:e,isSelected:t,selected:r,textBuilder:n}){const o=e.map(i=>N("option",{value:i,selected:t(i),children:n?n(i):i}));return N("select",{onChange:i=>r(i.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full px-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",children:o})}function OF({key:e,label:t,selected:r=!1,onClick:n,onDelete:o}){return Z("span",{className:"inline-flex items-center text-xs px-2 py-1 me-2 font-medium rounded text-gray-900 bg-gray-100 hover:bg-gray-200 hover:text-gray-900 dark:text-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-100"+(r?"bg-gray-200 dark:bg-gray-700 ring-1 ring-offset-1 ring-gray-500":""),children:[N("button",{type:"button",onClick:n,className:"hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-300",children:t}),o&&N("button",{type:"button",onClick:o,className:"p-1 ms-2 text-gray-400 bg-transparent rounded-sm hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-300",children:N("svg",{className:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})})})]},e)}function IF(){const e=Gt(),t=Ae(l=>l.learn.refreshState),r=Ae(l=>l.learn.refreshDate),n=Ae(l=>l.learn.typeFilter),o=Ae(l=>l.learn.refFilterMode),i=Ae(Zg);O.useEffect(()=>{if(t=="fulfilled"||t=="failed"){const f=(new Date().getTime()-r.getTime())/(1e3*60),p=logseq.settings?.queueTimer??1;f!=null&&f>p&&s()}else t==null&&s()},[]);async function s(){await Promise.all([e(lM()),e(Xg())])}function c(){e(Bk()),e(tr({type:sn.learn}))}function d(){e(tr({type:sn.learn}))}function u(l){e(fM(l)),l=="off"&&e(aM([]))}let a;return i.length>0?a=N("div",{className:"mt-1",children:N(Nf,{style:{height:"380px",overflowX:"clip"},totalCount:i.length,itemContent:l=>Mf({qib:i[l]})})}):a=N("div",{className:"text-neutral-500 flex justify-center mt-2",children:N("span",{children:"Queue is empty"})}),Z("div",{className:"flex flex-col h-full",children:[Z("div",{className:"flex justify-between mb-1",children:[Z("div",{className:"flex space-x-2",children:[N(zw,{options:nM,isSelected:l=>l==n,selected:l=>e(sM(l)),textBuilder:zy}),N("span",{className:"text-xs pl-1",children:"Ref filter"}),N(zw,{options:rM,isSelected:l=>l==o,selected:u,textBuilder:zy})]}),Z("div",{children:[N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-1 rounded`,onClick:()=>d(),children:" Preview"}),N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-1 rounded`,onClick:()=>s(),children:" Refresh"})]})]}),o!="off"&&N(RF,{}),a,N("div",{className:"grow"}),i.length>0&&Z("div",{className:"mt-2 flex items-center justify-between",children:[N("span",{}),Z("button",{className:`self-end bg-blue-500 hover:bg-blue-400 text-white py-1 px-6 border-b-2 border-blue-700 hover:border-blue-500 rounded ${i.length==0&&"cursor-not-allowed"}`,disabled:i.length==0,onClick:c,children:["Learn (",i.length,")"]})]})]})}function RF(){const e=Ae(o=>o.learn.refs),t=Ae(o=>o.learn.selectedRefs),r=Gt();if(e.length==0)return N(sr,{});const n=e.map(o=>{const i=t.includes(o);return N(OF,{label:o.name,selected:i,onClick:()=>r(Wk(o.name))},o.id)});return N("div",{className:"p-1 space-y-1 bg-gray-50 dark:bg-gray-800 border rounded",children:n})}function NF(){const[e,t]=O.useState(!1),[r,n]=O.useState([]),[o,i]=O.useState(),[s,c]=O.useState(!0),d=Ae(f=>f.learn.selectedRefs);async function u(f){if(f=f??o,!f)return;t(!0);const p=d.map(m=>m.name),h=await Sk({dueAt:f,refs:p,includeOutdated:f.getTime()==dr().getTime()});n(h),t(!1)}async function a(f){i(f),u(f),c(!1)}let l;return r.length>0?l=N("div",{className:"mt-1 w-full",children:N(Nf,{style:{height:"380px",overflowX:"clip"},totalCount:r.length,itemContent:f=>Mf({qib:r[f]})})}):l=N("div",{className:"text-neutral-500 flex justify-center",children:N("span",{children:"Queue is empty."})}),Z("div",{children:[Z("div",{className:"flex justify-between items-center mb-1",children:[N("div",{children:o&&r?Z("span",{children:[r.length," scheduled for ",Mg(o)]}):N("span",{children:"View scheduled ibs at date"})}),N("div",{children:N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-1 rounded`,onClick:()=>c(!s),children:""})})]}),N("hr",{className:"dark:border-gray-800"}),Z("div",{className:"flex justify-around my-1",children:[s&&N(Sg,{className:"border"+(s?"block":"hidden"),selected:o,onChange:f=>!e&&f&&a(f),minDate:e?o:dr(),maxDate:e?o:void 0,monthsShown:2,dateFormat:"dd/MM/yyyy",inline:!0}),!s&&l]})]})}function MF(){const e=Gt(),t=Ae(s=>s.anki.refreshState),[r,n]=O.useState(!1);O.useEffect(()=>{t==null&&o()},[]);async function o(){await e(kl())}let i=N(sr,{});return t=="failed"?i=Z("div",{className:"muted",children:[N("p",{children:"Could not connect with Anki."}),N("p",{children:"Check if Anki is open and anki-connect is installed."})]}):t==null||(r?i=N(LF,{setConvertView:n}):i=N(AF,{})),Z("div",{children:[Z("div",{className:"flex justify-between items-center mb-1",children:[N("div",{children:N("span",{children:"Due cards"})}),Z("div",{children:[N("button",{onClick:()=>n(!r),className:`p-1 ${r?$2:Ye.hover} ${Re} rounded`,children:"Convert to ibs"}),N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-1 rounded`,onClick:()=>o(),children:" Refresh"})]})]}),N("hr",{className:"dark:border-gray-800"}),i]})}function LF({setConvertView:e}){const t=Gt(),[r,n]=O.useState();async function o(){t(yw(!0));try{const i=await Kg({}),s={converted:0,alreadyIb:0,noBlock:0};await Promise.all(i.map(async c=>{const d=c.fields.uuid.value;if(!d)return;const u=await logseq.Editor.getBlock(d);if(!u){s.noBlock++;return}wn.fromBlock(u).beta==null?(await fi({uuid:d,block:u,priorityOnly:!0}),s.converted++):s.alreadyIb++})),n(`Converted ${s.converted} blocks`)}catch(i){n("Conversion failed: "+i.toString())}finally{t(yw(!1))}}return Z("div",{className:"py-1 space-y-1",children:[Z("div",{className:"flex flex-col",children:[N("span",{children:"Convert ALL anki blocks to ibs?"}),N("span",{children:"This will add a priority properties to your anki cards."})]}),N("div",{className:"flex",children:N("button",{className:"bg-blue-500 hover:bg-blue-400 text-white py-1 px-1 w-1/6 border-b-2 border-blue-700 hover:border-blue-500 rounded",onClick:o,children:"Convert"})}),r!=null&&N("span",{children:r})]})}function AF(){const[e,t]=O.useState(!1),r=Ae(d=>d.anki.deckName),n=Ae(d=>tM(d,!1,e)),o=O.useMemo(()=>{const d=new Map;for(const u of n)d.has(u.deckName)?d.get(u.deckName)?.push(u):d.set(u.deckName,[u]);return d.get(r)==null&&d.set(r,[]),d},[n]),i=[r,...[...o.keys()].filter(d=>d!=r)],s=i.map(d=>o.get(d).length);s.reduce((d,u)=>d+u,0)==0;let c;return n.length>0?c=N("div",{className:"mt-1",children:N(mF,{style:{height:"380px",overflowX:"clip"},groupCounts:s,groupContent:d=>{const u=i[d],a=u==r,l=s[d]==0;return Z("div",{className:"py-1",children:[Z("h4",{className:`font-medium ${a&&"bg-gray-100 dark:bg-gray-700"}`,children:["Deck: ",u]}),a&&l&&Z("p",{className:"text-xs",children:['Rebuild filtered deck to interleave cards with reading. To process your cards in the queue, create a new filtered deck named "ib" with the query ',Z("code",{children:["(is:due or is:new) ","graphName","Model"]})]})]})},itemContent:(d,u)=>FF({card:o.get(i[u])[d]})})}):c=N("div",{className:"text-neutral-500 flex justify-center",children:N("span",{children:"No cards found."})}),N(sr,{children:c})}function FF({card:e}){return Z("div",{className:"flex items-baseline justify-between py-1",children:[Z("span",{children:[e.cardId," | ",e.breadcrumb]}),e.priority&&N("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded dark:bg-gray-700 dark:text-gray-300",children:"IB"})]})}function $F(){const[e,t]=O.useState(""),[r,n]=O.useState(!1),[o,i]=O.useState([]),s=Ae(l=>l.learn.refs),c=Gt();O.useEffect(()=>{if(e=="")return;let l=!1;return(async()=>{await new Promise(h=>setTimeout(h,500));const p=await d();l||i(p)})().catch(console.error),()=>{l=!0}},[e]);async function d(){const l=`[
    :find (pull ?p [*])
    :where
      [?p :block/name ?n]
      [(clojure.string/includes? ?n "${e}")]
    ]`;return(await logseq.DB.datascriptQuery(l)||[]).flat().map(h=>({name:h.name,id:parseInt(h.id),uuid:h.uuid}))}function u(l){c(dM(l.name)),t("")}const a=s.map(l=>N(zF,{pageRef:l},l.id));return Z("div",{children:[N("div",{children:N("span",{children:"Manage key ref pages for filtering and prioritizing of ibs"})}),N("input",{type:"text",className:`${Ye} ${Re} m-1 p-1 w-full`,placeholder:"Search pages",value:e,onChange:l=>t(l.target.value),onFocus:()=>n(!0)}),r&&e!=""&&N("div",{className:`shadow-sm ${Re}`,children:N(Nf,{style:{height:"180px",overflowX:"clip"},totalCount:o.length,itemContent:l=>{const f=o[l];return N("button",{className:`${Ye.hover} py-1 px-1 w-full`,onClick:()=>u(f),children:f.name})}})}),a]})}function zF({pageRef:e}){const[t,r]=O.useState(),n=Gt();O.useEffect(()=>{o()},[]);async function o(){const i=await BN({ref:e});r(i.length)}return Z("div",{className:"flex items-center justify-between",children:[Z("div",{children:[N("p",{children:e.name}),Z("span",{className:`${Kl}`,children:[t," ibs"]})]}),N("button",{type:"button",onClick:()=>n(cM(e.name)),className:"inline-flex items-center p-1 ms-2 text-xs text-gray-400 bg-transparent rounded-sm hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-300",children:N("svg",{className:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})})})]})}function BF(){const e=O.useRef(null),t=Gt(),r=Ae(d=>d.main.busy),n=Ae(d=>d.main.activeTab),o=Ae(d=>d.learn.anki);function i(){t(tr({type:null}))}const s=[N(xc,{tab:"queue",title:" Queue"},"queue"),...o?[N(xc,{tab:"anki",title:" Anki"},"anki")]:[],N(xc,{tab:"calendar",title:" Calendar"},"calendar"),N(xc,{tab:"refs",title:" Refs"},"refs")].map(d=>N("li",{children:d}));let c=N(sr,{children:n});return n=="queue"?c=N(IF,{}):n=="calendar"?c=N(NF,{}):n=="anki"?c=N(MF,{}):n=="refs"&&(c=N($F,{})),Z("div",{ref:e,id:"ib-main",style:{minHeight:"30rem"},className:`fixed flex flex-col rounded shadow-md p-2 sm:w-9/12 md:w-8/12 lg:w-7/12 ${Ye} ${Fg} ${Re}`,children:[Z("div",{className:"flex items-center justify-between mb-2",children:[N("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Incremental blocks"}),N("button",{type:"button",onClick:()=>i(),className:"inline-flex items-center p-1 text-gray-400 bg-transparent rounded-sm hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-300",children:N("svg",{className:"w-2 h-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:N("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})})})]}),N("form",{onSubmit:d=>d.preventDefault(),className:`w-full h-full ${r&&"animate-pulse"}`,children:Z("fieldset",{className:"flex h-full",disabled:r,children:[N("ul",{className:"flex-column space-y space-y-4 text-sm font-medium text-gray-500 dark:text-gray-400 md:me-4 mb-4 md:mb-0",children:s}),N("div",{className:"w-full text-sm",children:c})]})})]})}function xc({tab:e,title:t}){const r=Gt(),i=Ae(s=>s.main.activeTab)==e?"bg-gray-200 dark:bg-gray-600 active":"hover:text-gray-900 bg-gray-50 hover:bg-gray-100 w-full dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white";return N("a",{href:"#",className:`inline-flex items-center min-w-max px-4 py-3 rounded-lg active w-full ${i}`,onClick:()=>r(rA(e)),children:N("span",{children:t})})}function Bw({title:e,tooltip:t,state:r,onChange:n}){return Z("button",{className:"border dark:border-gray-600 px-1.5 py-0.5 text-xs rounded-full flex items-center",title:t,onClick:()=>n(),children:[N("span",{style:{width:"8px",height:"8px"},className:`mr-1 inline-flex rounded-full ${r?"bg-lime-500":"bg-gray-300"}`}),N("span",{className:"text-gray-700 dark:text-gray-400",children:e})]})}function HF(){const e=Gt(),t=Ae(c=>c.learn.current);let r;O.useEffect(()=>(r=setInterval(()=>e(gu()),2e3),()=>clearInterval(r)),[]);function n(c){e(Fk({priority:c}))}const o=t.ib,i=!!t?.manualPriority;let s=o.beta.copy();if(i)s=s.copy(),s.mean=t.manualPriority;else if(t?.priorityUpdate){const c=t.priorityUpdate;s.applyPriorityUpdate(c),c.bTime,c.scoreTime,c.aContent,c.scoreContent}return Z("div",{className:"pt-2",children:[Z("div",{className:"flex items-center justify-between",children:[N("p",{children:"Priority"}),N("p",{children:i&&Z("span",{className:"text-neutral-600",children:["manual",N("button",{className:`button ${Re} ${Ye.hover}`,onClick:()=>n(null),children:N("span",{children:""})})]})})]}),Z("div",{className:"flex items-center justify-center",children:[N("div",{className:`${Re} grow-0`,children:N(Id,{beta:o.beta,width:120,height:60})}),N("p",{className:"text-neutral-400 px-2",children:""}),N("div",{className:`${Re} grow-0`,children:N(Id,{beta:s,width:120,height:60})})]}),N("div",{className:"py-1 px-6",children:N(zg,{beta:s,onMeanChange:n})})]})}function UF({setBusy:e}){const t=Gt(),r=Ae(u=>u.learn.current),n=O.useMemo(()=>{if(r)return r.manualInterval??G_(r.ib)},[r]);function o(u){t(Fk({interval:u}))}async function i(){e(!0),await t(uM({interval:n})),await t(gu()),e(!1)}const s=r.ib,c=!!r.manualInterval;let d=dr();return n&&(d=Ql(d,n)),Z("div",{className:"py-2 pt-1",children:[Z("div",{className:"flex items-center justify-between",children:[N("p",{children:"Schedule"}),N("p",{children:c&&Z("span",{className:"text-neutral-600 dark:text-neutral-300",children:["manual",N("button",{className:`button ${Re} ${Ye.hover}`,onClick:()=>o(null),children:N("span",{children:""})})]})})]}),Z("div",{className:"flex items-center justify-between",children:[N("p",{className:`${Re} grow`,children:Mg(s.dueDate)}),N("p",{className:"text-neutral-400 px-2",children:""}),N(Sg,{className:`${Re} bg-transparent grow`,selected:d,onChange:u=>u&&o(hs(dr(),u)),minDate:Ql(new Date,1),monthsShown:1,dateFormat:"dd/MM/yyyy"})]}),Z("div",{className:"flex items-center py-1",children:[N("span",{children:"Interval"}),N("input",{className:`${Re} bg-transparent px-2`,type:"number",value:n,onChange:u=>o(parseFloat(u.target.value)),min:"1",step:"1"}),N("div",{className:"grow"}),N("button",{className:`${Re} ${Ye.hover} px-1`,onClick:i,children:"Postpone"})]})]})}function WF({setBusy:e}){const t=Gt();Ae(g=>g.anki.deckName),Ae(g=>g.anki.currentCard);const r=Ae(g=>g.learn.current.qib),n=r.cardId,o=O.useRef(),[i,s]=O.useState(),[c,d]=O.useState(),u=O.useRef(0);let a;O.useEffect(()=>(l(),()=>{clearInterval(a),p()}),[r]);async function l(){e(!0),o.current=void 0,s(void 0);try{await t(Gg());const g=await Nr("cardsInfo",{cards:[n]});if(g.length==0)throw new Error("Failed to fetch card.");const b=g[0];o.current=b,console.log("Current card:",o.current);const E=(await Nr("getReviewsOfCards",{cards:[n]}))[n];console.log("init reviews",E),u.current=E.length,console.log(u.current),a=setInterval(f,100)}catch(g){s(g.toString())}finally{e(!1)}}async function f(){try{const b=(await Ok([n]))[n];if(b.length>u.current){const k=b[b.length-1];console.log("Reviewed:",k),d(k),p();return}}catch{}}async function p(){clearInterval(a);try{console.log("wrap up",o.current)}catch{}}async function h(){c!=null&&(e(!0),c.ivl<1?await t(zd({})):await t(jg()),e(!1))}async function m(){e(!0),await t(Hk()),e(!1)}async function w(){c||(e(!0),await t(zd({})),e(!1))}function y(){t(mu())}let v=N(sr,{});return i?v=Z("div",{children:[N("p",{children:i}),N("button",{className:`p-1 ${Ye.hover} ${Re}`,onClick:l,children:"Try again"})]}):o.current==null?v=N("p",{children:"Loading..."}):c?v=Z("p",{children:["Answered with ease ",N("i",{children:c.ease}),"."]}):v=N("p",{children:"Card opened in Anki. Review and come back."}),Z(sr,{children:[N("div",{className:`flex flex-col mt-2 p-1 ${Re}`,children:v}),N("hr",{className:"dark:border-gray-800"}),Z("div",{className:"flex justify-between pt-2",children:[N("button",{className:"w-fit bg-blue-500 hover:bg-blue-400 text-white py-1 px-1 w-1/6 border-b-2 border-blue-700 hover:border-blue-500 rounded",onClick:h,disabled:c==null,children:"Next rep"}),c==null&&N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-2 w-1/6 rounded`,onClick:w,children:"Later"}),N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-2 w-1/6 rounded`,onClick:m,children:"Done"}),N("div",{className:"flex-grow"}),N("button",{className:`${Ye.hover} ${Re} py-1 px-1 w-1/6 rounded`,onClick:y,children:"Quit"})]})]})}function YF(){const[e,t]=O.useState(!1),r=Gt(),n=Ae(c=>c.learn.queueStatus),o=Ae(c=>c.learn.current?.qib);function i(){r(mu())}if(n=="busy")return N("div",{children:"Loading..."});if(o==null)return Z("div",{children:["Finished for today.",N("button",{className:"border",onClick:i,children:"Return"})]});const s=o.cardId!=null;return N("form",{onSubmit:c=>c.preventDefault(),className:e?"animate-pulse":"",children:N("fieldset",{disabled:e,children:Z("div",{className:"flex flex-col w-full text-sm",children:[N(qF,{}),N("div",{className:`${Re} rounded`,children:N(Mf,{qib:o,nChars:270})}),N(HF,{}),s&&N(WF,{setBusy:t}),!s&&N(VF,{setBusy:t})]})})})}function qF(){const e=Gt(),t=Ae(s=>s.learn.current.ib),r=Ae(s=>s.learn.autoIb),[n,o]=O.useState(logseq.settings?.learnAutoOpen??!0);function i(){logseq.updateSettings({learnAutoOpen:!n}),o(!n)}return Z("div",{className:"flex items-center py-1",children:[Z("span",{className:`text-xs ${Kl}`,children:[" ",t.reps+1]}),N("div",{className:"flex-grow"}),N("div",{className:"mr-1",children:N(Bw,{title:"Auto ib",tooltip:"Automatically convert new blocks to ibs. Recommend to turn off for now due to sporadic behavior.",state:r,onChange:()=>e(Uk(!r))})}),N(Bw,{title:"Follow",tooltip:"Automatically jump to next block on rep.",state:n,onChange:i})]})}function VF({setBusy:e}){const t=Gt();async function r(c,d={}){e(!0),await t(c(d)),e(!1)}async function n(){await r(jg)}async function o(){await r(Hk)}async function i(){await r(zd)}function s(){t(mu())}return Z(sr,{children:[N(UF,{setBusy:e}),N("hr",{className:"dark:border-gray-800"}),Z("div",{className:"flex justify-between pt-2",children:[N("button",{className:"w-fit bg-blue-500 hover:bg-blue-400 text-white py-1 px-1 w-1/6 border-b-2 border-blue-700 hover:border-blue-500 rounded",onClick:n,children:"Next rep"}),N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-2 w-1/6 rounded`,onClick:i,children:"Later"}),N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-2 w-1/6 rounded`,onClick:o,children:"Done"}),N("div",{className:"flex-grow"}),N("button",{className:`${Ye.hover} ${Re} py-1 px-1 w-1/6 rounded`,onClick:s,children:"Quit"})]})]})}function QF(){const e=Gt(),t=Ae(i=>i.main.busy),r=Ae(Zg);function n(){e(Bk())}let o;return r.length>0?o=N("div",{className:"mt-1",children:N(Nf,{style:{height:"250px",overflowX:"clip"},totalCount:r.length,itemContent:i=>Mf({qib:r[i]})})}):o=N("div",{className:"text-neutral-500 flex justify-center",children:N("span",{children:"Queue is empty."})}),N("form",{onSubmit:i=>i.preventDefault(),children:N("fieldset",{disabled:t,children:Z("div",{className:t?"animate-pulse":"",children:[Z("div",{className:"flex justify-between mb-1",children:[Z("button",{className:`bg-blue-500 hover:bg-blue-400 text-white py-1 px-1 border-b-2 border-blue-700 hover:border-blue-500 rounded ${r.length==0&&"cursor-not-allowed"}`,disabled:r.length==0,onClick:n,children:["Learn (",r.length,")"]}),N("div",{children:N("button",{className:`${Ye.hover} ${Re} py-1 px-1 ml-1 rounded`,onClick:()=>e(tr({type:sn.main})),children:""})})]}),N("hr",{className:"dark:border-gray-800"}),o]})})})}function KF(){const e=G.useRef(null),t=Ae(r=>r.learn.learning);return Z("div",{ref:e,id:"ib-learn",className:`absolute top-10 right-10 ${Ye} ${Fg} rounded-lg p-2 w-96 border dark:border-gray-600 rounded shadow flex flex-col text-sm`,children:[!t&&N(QF,{}),t&&N(YF,{})]})}function GF(){const e=bM(),t=Gt(),r=Ae(a=>a.view),n=Ae(a=>a.learn.learning),o=Ae(a=>a.learn.current),i=Ae(a=>a.app.themeMode),s=Ae(a=>a);console.log(s),G.useEffect(()=>{logseq.provideModel({toggleMain(){t(xl({viewType:sn.main}))},toggleIbPopover(a){t(xl({viewType:sn.ib,blockUuid:a.dataset.blockUuid,slotId:a.dataset.slotId}))},toggleMedxPopover(a){t(xl({viewType:sn.medx,blockUuid:a.dataset.blockUuid,slotId:a.dataset.slotId,medArgs:a.dataset.macroArgs}))},async nextRep(){if(!n)return;await t(jg());const a=logseq.settings?.learnAutoOpen??!0;o&&a&&logseq.App.pushState("page",{name:o.ib.uuid})},playRange(a){const{slotId:l,mediaUrl:f,macroArgs:p}=a.dataset,h=top?.document.getElementById(`medx-player-${f}`);if(!h){logseq.UI.showMsg("Media not found in page");return}const m=_u.parse(p.split(","));if(!m){logseq.UI.showMsg("Invalid media args");return}Ix({playerDiv:h,args:m,play:!0})},async refToMedia(a){const{blockUuid:l}=a.dataset,f=await logseq.Editor.getBlock(l);if(!f)return;const p=f.content.replace("{{renderer :medx_ref","{{renderer :medx");await logseq.Editor.updateBlock(l,p)}}),logseq.App.onCurrentGraphChanged(a=>t(eo())),t(eo()),Ag().then(a=>t(vw(a?"dark":"light"))),logseq.App.onThemeModeChanged(({mode:a})=>t(vw(a))),logseq.onSettingsChanged((a,l)=>t(eA({old:l,new:a}))),t(Xg())},[]);function c(a){document.getElementById("ib-learn")?.contains(a.target)||document.getElementById("ib-main")?.contains(a.target)||document.getElementById("ib-popover")?.contains(a.target)||document.getElementById("ib-insert")?.contains(a.target)||document.getElementById("ib-medx")?.contains(a.target)||(t(tr({type:null})),window.logseq.hideMainUI())}let d=N(sr,{});switch(r.type){case sn.main:d=N(BF,{});break;case sn.learn:d=N(KF,{});break;case sn.ib:const a=r.data;d=N(hM,{block:a.block,slot:a.slotId});break;case sn.medx:const l=r.data;d=N(K3,{block:l.block,slot:l.slotId,args:l.medArgs});break;case sn.insert:const f=r.data;d=N(X3,{block:f.block});break}if(!e)return null;let u="";switch(r.type){case sn.main:case sn.medx:case sn.insert:u="backdrop-brightness-90 items-center justify-center";break}return N("main",{className:`bg-transparent fixed inset-0 flex ${u} ${i=="dark"&&"dark"}`,onClick:c,children:d})}const jF=[{key:"defaultPriority",title:"Default priority (0=low, 1=high)",description:"Use this priority by default unless inherited from parent or page.",default:.5,type:"number"},{key:"defaultMultiplier",title:"Default scheduler multiplier",description:"Default scheduler multiplier.",default:1.3,type:"number"},{key:"queueTimer",title:"Queue update frequency",description:"In minutes. Only updates once the menu icon has been clicked.",default:1,type:"number"},{key:"learnAutoOpen",title:"Go to block on repetition",description:"Immediately open the block that is currently being reviewed.",default:!0,type:"boolean"},{key:"learnAutoIb",title:"Automatically create ibs when learning",description:`While learning, new blocks will automatically be converted to ibs.
Expect jankness.`,default:!1,type:"boolean"},{key:"priorityRainbow",title:"Rainbow",description:"Rainbow",default:!1,type:"boolean"},{key:"subsetQueries",title:"Subset learning queue by refs",description:"Filter learning queue using block references for focused learning.\nExample: `todo, hmm interesting, cooking`",default:"set, [[ref]], filter, in settings",type:"string"},{key:"keyConvertToIb",type:"string",title:"Shortcut: Convert current block to ib",description:"Converts current block to an ib by adding the necessary properties and macro.",default:"mod+alt+i"},{key:"keyExtractSelection",type:"string",title:"Shortcut: Extract selected text",description:"Create a child ib of selected text and replace selection with reference.",default:"mod+alt+x"},{key:"keyExtractCloze",type:"string",title:"Shortcut: Extract cloze of selected text into ib",description:"Creates a copy child ib with the selected text replaced with a cloze.",default:"mod+alt+z"},{key:"keyExtractClozeCard",type:"string",title:"Shortcut: Extract cloze of selected text into card",description:"Creates a child card block with same contents but with the selected text replaced with a cloze.",default:"shift+mod+alt+z"}];let pC;const XF=e=>{pC=e};async function ZF({slot:e,payload:t}){const[r]=t.arguments;r&&(r.startsWith(":ib")&&JF({slot:e,payload:t}),r.startsWith(":medx")&&Z3({slot:e,payload:t}))}async function JF({slot:e,payload:t}){const r=await wn.fromUuid(t.uuid);let n="";if(r.beta){const c=(r.beta.mean*100).toFixed(2);(r.beta.std()*100).toFixed(1),n=`<span>${c}%`,r.sample&&(r.dueDays()??1)<=0&&(n+=`<span class="muted"> [${(r.sample*100).toFixed(2)}%]</span>`),n+="</span>"}else n='<span class="text-red-800">Not set</span>';n=`
  <div class="flex px-1" style="border-width: 0 0 0 2px">
    ${n}
  </div>
  `;let o="";r.dueDate&&(o=`
    <div class="px-1 flex border-l-1" style="border-width: 0 0 0 2px">
      <span>${hs(new Date,r.dueDate)}d</span>
    </div>
    `);const i=pC.getState().learn.current;i&&i.ib.uuid==r.uuid;const s=await Ag();logseq.provideUI({key:`ib__${e}`,slot:e,reset:!0,template:`
    <div class="text-xs flex">
      <button
        class="rounded-lg border flex px-1 py-0.5 items-center ${s?"bg-gray-700 text-gray-300":"bg-gray-100/10 text-gray-600"}" 
        data-on-click="toggleIbPopover" 
        data-block-uuid="${t.uuid}"
        data-slot-id="${e}"
      >
        <div class="flex font-semibold px-1">
          <span>IB</span>
        </div>
        ${n}
        ${o}
      </button>
    </div>
    `})}let hC;const e4=e=>{hC=e};async function t4({uuid:e}){hC.dispatch(xl({viewType:sn.insert,blockUuid:e}))}const vv=lN({reducer:{app:tA,view:j3,learn:pM,anki:eM,main:oA},middleware:e=>e().prepend(Rk.middleware)}),n4=(e,...t)=>String.raw(e,...t),Hw=Ik.id;e4(vv);XF(vv);function r4(){console.info(`#${Hw}: MAIN`),pg(document.getElementById("app")).render(N(O.StrictMode,{children:N(xR,{store:vv,children:N(GF,{})})}));function t(){return{}}logseq.provideModel(t()),logseq.setMainUIInlineStyle({zIndex:11});const r="ib-plugin-open";logseq.provideStyle(n4`
    .${r} {
      opacity: 0.55;
      font-size: 20px;
      margin-top: 4px;
    }

    .${r}:hover {
      opacity: 0.9;
    }

    #ib-popover {
      position: fixed;
    }

    .muted {
      color: grey;
    }
    
    .medx-player audio {
      height: 2rem;
    }

    .medx-player audio::-webkit-media-controls-panel, video::-webkit-media-controls-panel {
      height: 2rem;
      border-radius: 1px;
    }

    .medx-player input[type="range" i]::-webkit-media-slider-container {
      border-radius: 1px;
    }

    .medx-player iframe {
      margin: 0;
    }
  `),logseq.App.registerUIItem("toolbar",{key:r,template:`
      <a id="${Hw}" data-on-click="toggleMain" data-rect class="button">
        <i class="ti ti-brain" style="font-size: 20px"></i>
      </a>
    `});function n(o,i){logseq.Editor.registerSlashCommand(o,i),logseq.Editor.registerBlockContextMenuItem(o,i)}n("Convert to ib",WN),n("Convert to ib (priority only)",qN),n("Convert to ib (include siblings)",VN),logseq.App.registerCommandPalette({key:"ib-convert-selected",label:"Convert selected to ibs"},QN),logseq.Editor.registerSlashCommand("Insert incremental media",t4),logseq.App.onMacroRendererSlotted(ZF),logseq.App.registerCommandShortcut({binding:logseq.settings.keyExtractSelection,mode:"editing"},KN),logseq.App.registerCommandShortcut({binding:logseq.settings.keyExtractCloze,mode:"editing"},ow),logseq.App.registerCommandShortcut({binding:logseq.settings.keyExtractClozeCard,mode:"editing"},()=>ow(!1)),logseq.App.registerCommandShortcut({binding:logseq.settings.keyConvertToIb,mode:"global"},YN),document.addEventListener("keydown",function(o){o.key=="Escape"&&logseq.hideMainUI()},!1)}logseq.useSettingsSchema(jF).ready(r4).catch(console.error);export{Pn as _,Yd as g,vL as p,G as r,Cf as u};
